<!DOCTYPE html>

<html lang="pt-BR" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="4. Modelo de execução" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/reference/executionmodel.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Estrutura de um programa: Um programa Python é construído a partir de blocos de código. Um bloco é um pedaço do texto do programa Python que é executado como uma unidade. A seguir estão os blocos: ..." />
<meta property="og:image:width" content="1146" />
<meta property="og:image:height" content="600" />
<meta property="og:image" content="https://docs.python.org/3.13/pt-br/_images/social_previews/summary_reference_executionmodel_b5c6578a.png" />
<meta property="og:image:alt" content="Estrutura de um programa: Um programa Python é construído a partir de blocos de código. Um bloco é um pedaço do texto do programa Python que é executado como uma unidade. A seguir estão os blocos: ..." />
<meta name="description" content="Estrutura de um programa: Um programa Python é construído a partir de blocos de código. Um bloco é um pedaço do texto do programa Python que é executado como uma unidade. A seguir estão os blocos: ..." />
<meta name="twitter:card" content="summary_large_image" />

    <title>4. Modelo de execução &#8212; Documentação Python 3.13.5</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=234b1a7c" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?v=5ff89526" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css?v=5349f25f" />
    
    <script src="../_static/documentation_options.js?v=62a4a58b"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=71a39b36"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Pesquisar dentro de Documentação Python 3.13.5"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre esses documentos" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Buscar" href="../search.html" />
    <link rel="copyright" title="Direitos autorais" href="../copyright.html" />
    <link rel="next" title="5. O sistema de importação" href="import.html" />
    <link rel="prev" title="3. Modelo de dados" href="datamodel.html" />
    
      
      <script defer data-domain="docs.python.org" src="https://analytics.python.org/js/script.outbound-links.js"></script>
      
      <link rel="canonical" href="https://docs.python.org/3/reference/executionmodel.html">
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg">
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
            <script type="text/javascript" src="../_static/rtd_switcher.js"></script>
            <meta name="readthedocs-addons-api-version" content="1">

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu">
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo">
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="Busca rápida" aria-label="Busca rápida" type="search" name="q">
                <input type="submit" value="Ir">
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">Tabela de Conteúdo</a></h3>
    <ul>
<li><a class="reference internal" href="#">4. Modelo de execução</a><ul>
<li><a class="reference internal" href="#structure-of-a-program">4.1. Estrutura de um programa</a></li>
<li><a class="reference internal" href="#naming-and-binding">4.2. Nomeação e ligação</a><ul>
<li><a class="reference internal" href="#binding-of-names">4.2.1. Ligação de nomes</a></li>
<li><a class="reference internal" href="#resolution-of-names">4.2.2. Resolução de nomes</a></li>
<li><a class="reference internal" href="#annotation-scopes">4.2.3. Escopos de anotação</a></li>
<li><a class="reference internal" href="#lazy-evaluation">4.2.4. Avaliação preguiçosa</a></li>
<li><a class="reference internal" href="#builtins-and-restricted-execution">4.2.5. Builtins e execução restrita</a></li>
<li><a class="reference internal" href="#interaction-with-dynamic-features">4.2.6. Interação com recursos dinâmicos</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exceptions">4.3. Exceções</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tópico anterior</h4>
    <p class="topless"><a href="datamodel.html"
                          title="capítulo anterior"><span class="section-number">3. </span>Modelo de dados</a></p>
  </div>
  <div>
    <h4>Próximo tópico</h4>
    <p class="topless"><a href="import.html"
                          title="próximo capítulo"><span class="section-number">5. </span>O sistema de importação</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Relatar um bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/reference/executionmodel.rst?plain=1"
            rel="nofollow">Mostrar o código-fonte
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegação</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice Geral"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="import.html" title="5. O sistema de importação"
             accesskey="N">próximo</a> |</li>
        <li class="right" >
          <a href="datamodel.html" title="3. Modelo de dados"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.13.5 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">A Referência da Linguagem Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">4. </span>Modelo de execução</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Busca rápida" aria-label="Busca rápida" type="search" name="q" id="search-box">
          <input type="submit" value="Ir">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="execution-model">
<span id="execmodel"></span><h1 class="translated"><span class="section-number">4. </span>Modelo de execução<a class="headerlink" href="#execution-model" title="Link para este cabeçalho">¶</a></h1>
<section id="structure-of-a-program">
<span id="prog-structure"></span><span id="index-0"></span><h2 class="translated"><span class="section-number">4.1. </span>Estrutura de um programa<a class="headerlink" href="#structure-of-a-program" title="Link para este cabeçalho">¶</a></h2>
<p class="translated" id="index-1">Um programa Python é construído a partir de blocos de código. Um <em class="dfn">bloco</em> é um pedaço do texto do programa Python que é executado como uma unidade. A seguir estão os blocos: um módulo, um corpo de função e uma definição de classe. Cada comando digitado interativamente é um bloco. Um arquivo de script (um arquivo fornecido como entrada padrão para o interpretador ou especificado como argumento de linha de comando para o interpretador) é um bloco de código. Um comando de script (um comando especificado na linha de comando do interpretador com a opção <a class="reference internal" href="../using/cmdline.html#cmdoption-c"><code class="xref std std-option docutils literal notranslate"><span class="pre">-c</span></code></a>) é um bloco de código. Um módulo executado sobre um script de nível superior (como o módulo <code class="docutils literal notranslate"><span class="pre">__main__</span></code>) a partir da linha de comando usando um argumento <a class="reference internal" href="../using/cmdline.html#cmdoption-m"><code class="xref std std-option docutils literal notranslate"><span class="pre">-m</span></code></a> também é um bloco de código. O argumento da string passado para as funções embutidas <a class="reference internal" href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code></a> e <a class="reference internal" href="../library/functions.html#exec" title="exec"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec()</span></code></a> é um bloco de código.</p>
<p class="translated" id="index-2">Um bloco de código é executado em um <em class="dfn">quadro de execução</em>. Um quadro contém algumas informações administrativas (usadas para depuração) e determina onde e como a execução continua após a conclusão do bloco de código.</p>
</section>
<section id="naming-and-binding">
<span id="naming"></span><h2 class="translated"><span class="section-number">4.2. </span>Nomeação e ligação<a class="headerlink" href="#naming-and-binding" title="Link para este cabeçalho">¶</a></h2>
<section id="binding-of-names">
<span id="bind-names"></span><span id="index-3"></span><h3 class="translated"><span class="section-number">4.2.1. </span>Ligação de nomes<a class="headerlink" href="#binding-of-names" title="Link para este cabeçalho">¶</a></h3>
<p class="translated" id="index-4"><em class="dfn">Nomes</em> referem-se a objetos. Os nomes são introduzidos por operações de ligação de nomes.</p>
<p class="translated" id="index-5">As seguintes construções ligam nomes:</p>
<ul class="simple">
<li><p class="translated">parâmetros formais para funções,</p></li>
<li><p class="translated">definições de classe,</p></li>
<li><p class="translated">definições de função,</p></li>
<li><p class="translated">expressões de atribuição,</p></li>
<li><p class="translated"><a class="reference internal" href="simple_stmts.html#assignment"><span class="std std-ref">alvos</span></a> que são identificadores se ocorrerem em uma atribuição:</p>
<ul>
<li><p class="translated">cabeçalho de laço <a class="reference internal" href="compound_stmts.html#for"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code></a>,</p></li>
<li><p class="translated">depois de <code class="xref std std-keyword docutils literal notranslate"><span class="pre">as</span></code> em uma instrução <a class="reference internal" href="compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>, cláusula <a class="reference internal" href="compound_stmts.html#except"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code></a>, cláusula <a class="reference internal" href="compound_stmts.html#except-star"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code></a> ou no padrão as na correspondência de padrões estruturais,</p></li>
<li><p class="translated">em um padrão de captura na correspondência de padrões estruturais</p></li>
</ul>
</li>
<li><p class="translated">instruções <a class="reference internal" href="simple_stmts.html#import"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">import</span></code></a>.</p></li>
<li><p class="translated">instruções <a class="reference internal" href="simple_stmts.html#type"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">type</span></code></a>.</p></li>
<li><p class="translated"><a class="reference internal" href="compound_stmts.html#type-params"><span class="std std-ref">listas de parâmetros de tipo</span></a>.</p></li>
</ul>
<p class="translated">A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">import</span></code> no formato <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">...</span> <span class="pre">import</span> <span class="pre">*</span></code> liga todos os nomes definidos no módulo importado, exceto aqueles que começam com um sublinhado. Este formulário só pode ser usado no nível do módulo.</p>
<p class="translated">Um alvo ocorrendo em uma instrução <a class="reference internal" href="simple_stmts.html#del"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">del</span></code></a> também é considerado ligado a esse propósito (embora a semântica real seja para desligar do nome).</p>
<p class="translated">Cada atribuição ou instrução de importação ocorre dentro de um bloco definido por uma definição de classe ou função ou no nível do módulo (o bloco de código de nível superior).</p>
<p class="translated" id="index-6">Se um nome está ligado a um bloco, é uma variável local desse bloco, a menos que declarado como <a class="reference internal" href="simple_stmts.html#nonlocal"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">nonlocal</span></code></a> ou <a class="reference internal" href="simple_stmts.html#global"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">global</span></code></a>. Se um nome está ligado a nível do módulo, é uma variável global. (As variáveis do bloco de código do módulo são locais e globais.) Se uma variável for usada em um bloco de código, mas não definida lá, é uma <a class="reference internal" href="../glossary.html#term-free-variable"><span class="xref std std-term">variável livre</span></a>.</p>
<p class="translated">Cada ocorrência de um nome no texto do programa se refere à <em class="dfn">ligação</em> daquele nome estabelecido pelas seguintes regras de resolução de nome.</p>
</section>
<section id="resolution-of-names">
<span id="resolve-names"></span><h3 class="translated"><span class="section-number">4.2.2. </span>Resolução de nomes<a class="headerlink" href="#resolution-of-names" title="Link para este cabeçalho">¶</a></h3>
<p class="translated" id="index-7">O <em class="dfn">escopo</em> define a visibilidade de um nome dentro de um bloco. Se uma variável local é definida em um bloco, seu escopo inclui esse bloco. Se a definição ocorrer em um bloco de função, o escopo se estende a quaisquer blocos contidos no bloco de definição, a menos que um bloco contido introduza uma ligação diferente para o nome.</p>
<p class="translated" id="index-8">Quando um nome é usado em um bloco de código, ele é resolvido usando o escopo envolvente mais próximo. O conjunto de todos esses escopos visíveis a um bloco de código é chamado de <em class="dfn">ambiente</em> do bloco.</p>
<p class="translated" id="index-9">Quando um nome não é encontrado, uma exceção <a class="reference internal" href="../library/exceptions.html#NameError" title="NameError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NameError</span></code></a> é levantada. Se o escopo atual for um escopo de função e o nome se referir a uma variável local que ainda não foi associada a um valor no ponto onde o nome é usado, uma exceção <a class="reference internal" href="../library/exceptions.html#UnboundLocalError" title="UnboundLocalError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnboundLocalError</span></code></a> é levantada. <a class="reference internal" href="../library/exceptions.html#UnboundLocalError" title="UnboundLocalError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnboundLocalError</span></code></a> é uma subclasse de <a class="reference internal" href="../library/exceptions.html#NameError" title="NameError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NameError</span></code></a>.</p>
<p class="translated">Se a operação de ligação de nomes ocorre dentro de um bloco de código, todos os usos do nome dentro do bloco são tratadas como referências para o bloco atual. Isso pode. Isso pode levar a erros quando um nome é usado em um bloco antes de ser vinculado.  Esta regra é sutil.  Python carece de declarações e permite que as operações de ligação de nomes ocorram em qualquer lugar dentro de um bloco de código. As variáveis locais de um bloco de código podem ser determinadas pela varredura de todo o texto do bloco para operações de ligação de nome. Veja <a class="reference internal" href="../faq/programming.html#faq-unboundlocalerror"><span class="std std-ref">o FAQ sobre UnboundLocalError</span></a> para exemplos.</p>
<p class="translated">Se a instrução <a class="reference internal" href="simple_stmts.html#global"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">global</span></code></a> ocorrer dentro de um bloco, todos os usos dos nomes especificados na instrução referem-se às ligações desses nomes no espaço de nomes de nível superior. Os nomes são resolvidos no espaço de nomes de nível superior pesquisando o espaço de nomes global, ou seja, o espaço de nomes do módulo que contém o bloco de código, e o espaço de nomes embutido, o espaço de nomes do módulo <a class="reference internal" href="../library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal notranslate"><span class="pre">builtins</span></code></a>. O espaço de nomes global é pesquisado primeiro. Se os nomes não forem encontrados lá, o espaço de nomes embutidos será pesquisado em seguida. Se os nomes também não forem encontrados no espaço de nomes embutido, novas variáveis são criadas no espaço de nomes global. A instrução global deve preceder todos os usos dos nomes listados.</p>
<p class="translated">A instrução <a class="reference internal" href="simple_stmts.html#global"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">global</span></code></a> tem o mesmo escopo que uma operação de ligação de nome no mesmo bloco. Se o escopo mais próximo de uma variável livre contiver uma instrução global, a variável livre será tratada como global.</p>
<p class="translated">A instrução <a class="reference internal" href="simple_stmts.html#nonlocal"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">nonlocal</span></code></a> faz com que os nomes correspondentes se refiram a variáveis previamente vinculadas no escopo da função delimitadora mais próxima. A exceção <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> é levantada em tempo de compilação se o nome fornecido não existir em nenhum escopo de função delimitador. <a class="reference internal" href="compound_stmts.html#type-params"><span class="std std-ref">Parâmetros de tipo</span></a> não podem ser vinculadas novamente com a instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">nonlocal</span></code>.</p>
<p class="translated" id="index-10">O espaço de nomes de um módulo é criado automaticamente na primeira vez que um módulo é importado. O módulo principal de um script é sempre chamado de <a class="reference internal" href="../library/__main__.html#module-__main__" title="__main__: The environment where top-level code is run. Covers command-line interfaces, import-time behavior, and ``__name__ == '__main__'``."><code class="xref py py-mod docutils literal notranslate"><span class="pre">__main__</span></code></a>.</p>
<p class="translated">Blocos de definição de classe e argumentos para <a class="reference internal" href="../library/functions.html#exec" title="exec"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec()</span></code></a> e <a class="reference internal" href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code></a> são especiais no contexto de resolução de nome. Uma definição de classe é uma instrução executável que pode usar e definir nomes. Essas referências seguem as regras normais para resolução de nome, com exceção de que variáveis locais não vinculadas são pesquisadas no espaço de nomes global global. O espaço de nomes global da definição de classe se torna o dicionário de atributos da classe. O escopo dos nomes definidos em um bloco de classe é limitado ao bloco de classe; ele não se estende aos blocos de código de métodos. Isso inclui compreensões e expressões geradoras, mas não inclui <a class="reference internal" href="#annotation-scopes"><span class="std std-ref">escopos de anotação</span></a>, que têm acesso a seus escopos de classe delimitadores. Isso significa que o seguinte falhará:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="p">:</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">42</span>
    <span class="n">b</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<p class="translated">Porém, o seguinte vai funcionar:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="p">:</span>
    <span class="nb">type</span> <span class="n">Alias</span> <span class="o">=</span> <span class="n">Nested</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">Nested</span><span class="p">:</span> <span class="k">pass</span>

<span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">Alias</span><span class="o">.</span><span class="n">__value__</span><span class="p">)</span>  <span class="c1"># &lt;type &#39;A.Nested&#39;&gt;</span>
</pre></div>
</div>
</section>
<section id="annotation-scopes">
<span id="id1"></span><h3 class="translated"><span class="section-number">4.2.3. </span>Escopos de anotação<a class="headerlink" href="#annotation-scopes" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">As instruções <a class="reference internal" href="simple_stmts.html#type"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">type</span></code></a> e <a class="reference internal" href="compound_stmts.html#type-params"><span class="std std-ref">listas de parâmetros de tipo</span></a> introduzem <em>escopos de anotação</em>, que se comportam principalmente como escopos de função, mas com algumas exceções discutidas abaixo. <a class="reference internal" href="../glossary.html#term-annotation"><span class="xref std std-term">Anotações</span></a> atualmente não usam escopos de anotação, mas espera-se que elas usem escopos de anotação no Python 3.13 quando <span class="target" id="index-22"></span><a class="pep reference external" href="https://peps.python.org/pep-0649/"><strong>PEP 649</strong></a> for implementada.</p>
<p class="translated">Os escopos de anotação são usados nos seguintes contextos:</p>
<ul class="simple">
<li><p class="translated">Listas de parâmetros de tipo para <a class="reference internal" href="compound_stmts.html#generic-type-aliases"><span class="std std-ref">apelidos de tipo genérico</span></a>.</p></li>
<li><p class="translated">Listas de parâmetros de tipo para <a class="reference internal" href="compound_stmts.html#generic-functions"><span class="std std-ref">funções genéricas</span></a>. As anotações de uma função genérica são executadas dentro do escopo de anotação, mas seus padrões e decoradores não.</p></li>
<li><p class="translated">Listas de parâmetros de tipo para <a class="reference internal" href="compound_stmts.html#generic-functions"><span class="std std-ref">classes genéricas</span></a>. As classes base e argumentos nomeados de uma classe genérica são executadas dentro do escopo de anotação, mas seus decoradores não.</p></li>
<li><p class="translated">Os limites, restrições e valores padrão para parâmetros de tipo (<a class="reference internal" href="#lazy-evaluation"><span class="std std-ref">avaliados preguiçosamente</span></a>).</p></li>
<li><p class="translated">O valor dos apelidos de tipo (<a class="reference internal" href="#lazy-evaluation"><span class="std std-ref">avaliado preguiçosamente</span></a>).</p></li>
</ul>
<p class="translated">Escopos de anotação diferenciam-se de escopos de função nas seguintes formas:</p>
<ul class="simple">
<li><p class="translated">Os escopos de anotação têm acesso ao espaço de nomes da classe delimitadora. Se um escopo de anotação estiver imediatamente dentro de um escopo de classe ou dentro de outro escopo de anotação que esteja imediatamente dentro de um escopo de classe, o código no escopo de anotação poderá usar nomes definidos no escopo de classe como se fosse executado diretamente no corpo da classe. Isto contrasta com funções regulares definidas dentro de classes, que não podem acessar nomes definidos no escopo da classe.</p></li>
<li><p class="translated">Expressões em escopos de anotação não podem conter expressões <a class="reference internal" href="simple_stmts.html#yield"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code></a>, <code class="docutils literal notranslate"><span class="pre">yield</span> <span class="pre">from</span></code>, <a class="reference internal" href="expressions.html#await"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">await</span></code></a> ou <code class="xref std std-token docutils literal notranslate"><span class="pre">:=</span> <span class="pre">1</span></code>. (Essas expressões são permitidas em outros escopos contidos no escopo de anotação.)</p></li>
<li><p class="translated">Nomes definidos em escopos de anotação não podem ser vinculados novamente com instruções <a class="reference internal" href="simple_stmts.html#nonlocal"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">nonlocal</span></code></a> em escopos internos. Isso inclui apenas parâmetros de tipo, pois nenhum outro elemento sintático que pode aparecer nos escopos de anotação pode introduzir novos nomes.</p></li>
<li><p class="translated">Embora os escopos de anotação tenham um nome interno, esse nome não é refletido no <a class="reference internal" href="../glossary.html#term-qualified-name"><span class="xref std std-term">nome qualificado</span></a> dos objetos definidos dentro do escopo. Em vez disso, o <a class="reference internal" href="../library/stdtypes.html#definition.__qualname__" title="definition.__qualname__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__qualname__</span></code></a> de tais objetos é como se o objeto fosse definido no escopo delimitador.</p></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">Adicionado na versão 3.12: </span>Escopos de anotação foram introduzidos no Python 3.12 como parte da <span class="target" id="index-23"></span><a class="pep reference external" href="https://peps.python.org/pep-0695/"><strong>PEP 695</strong></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.13: </span>Os escopos de anotação também são usados para padrões de parâmetros de tipo, conforme introduzido pela <span class="target" id="index-24"></span><a class="pep reference external" href="https://peps.python.org/pep-0696/"><strong>PEP 696</strong></a>.</p>
</div>
</section>
<section id="lazy-evaluation">
<span id="id2"></span><h3 class="translated"><span class="section-number">4.2.4. </span>Avaliação preguiçosa<a class="headerlink" href="#lazy-evaluation" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Os valores dos apelidos de tipo criados através da instrução <a class="reference internal" href="simple_stmts.html#type"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">type</span></code></a> são <em>avaliados preguiçosamente</em>. O mesmo se aplica aos limites, restrições e valores padrão de variáveis de tipo criadas através da <a class="reference internal" href="compound_stmts.html#type-params"><span class="std std-ref">sintaxe do parâmetro de tipo</span></a>. Isso significa que eles não são avaliados quando o apelido de tipo ou a variável de tipo é criado. Em vez disso, eles são avaliados apenas quando isso é necessário para resolver um acesso de atributo.</p>
<p class="translated">Exemplo:</p>
<div class="translated highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span> <span class="n">Alias</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Alias</span><span class="o">.</span><span class="n">__value__</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">  </span><span class="c">...</span>
<span class="gr">ZeroDivisionError</span>: <span class="n">division by zero</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">func</span><span class="p">[</span><span class="n">T</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">]():</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">__type_params__</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="o">.</span><span class="n">__bound__</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">  </span><span class="c">...</span>
<span class="gr">ZeroDivisionError</span>: <span class="n">division by zero</span>
</pre></div>
</div>
<p class="translated">Aqui a exceção é levantada apenas quando o atributo <code class="docutils literal notranslate"><span class="pre">__value__</span></code> do apelido de tipo ou o atributo <code class="docutils literal notranslate"><span class="pre">__bound__</span></code> da variável de tipo é acessado.</p>
<p class="translated">Esse comportamento é útil principalmente para referências a tipos que ainda não foram definidos quando o alias de tipo ou variável de tipo é criado. Por exemplo, a avaliação preguiçosa permite a criação de apelidos de tipo mutuamente recursivos:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Literal</span>

<span class="nb">type</span> <span class="n">SimpleExpr</span> <span class="o">=</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">Parenthesized</span>
<span class="nb">type</span> <span class="n">Parenthesized</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;(&quot;</span><span class="p">],</span> <span class="n">Expr</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;)&quot;</span><span class="p">]]</span>
<span class="nb">type</span> <span class="n">Expr</span> <span class="o">=</span> <span class="n">SimpleExpr</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">SimpleExpr</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">],</span> <span class="n">Expr</span><span class="p">]</span>
</pre></div>
</div>
<p class="translated">Valores avaliados preguiçosamente são avaliados em <a class="reference internal" href="#annotation-scopes"><span class="std std-ref">escopo de anotação</span></a>, o que significa que os nomes que aparecem dentro do valor avaliado preguiçosamente são pesquisados como se fossem usados no escopo imediatamente envolvente.</p>
<div class="versionadded">
<p><span class="versionmodified added">Adicionado na versão 3.12.</span></p>
</div>
</section>
<section id="builtins-and-restricted-execution">
<span id="restrict-exec"></span><h3 class="translated"><span class="section-number">4.2.5. </span>Builtins e execução restrita<a class="headerlink" href="#builtins-and-restricted-execution" title="Link para este cabeçalho">¶</a></h3>
<div class="impl-detail compound" id="index-14">
<p class="translated">Os usuários não devem tocar em <code class="docutils literal notranslate"><span class="pre">__builtins__</span></code>; é estritamente um detalhe de implementação. Usuários que desejam substituir valores no espaço de nomes interno devem <a class="reference internal" href="simple_stmts.html#import"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">import</span></code></a> o módulo <a class="reference internal" href="../library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal notranslate"><span class="pre">builtins</span></code></a> e modificar seus atributos apropriadamente.</p>
</div>
<p class="translated">O espaço de nomes builtins associado com a execução de um bloco de código é encontrado procurando o nome <code class="docutils literal notranslate"><span class="pre">__builtins__</span></code> em seu espaço de nomes global; este deve ser um dicionário ou um módulo (no último caso, o dicionário do módulo é usado). Por padrão, quando no módulo <a class="reference internal" href="../library/__main__.html#module-__main__" title="__main__: The environment where top-level code is run. Covers command-line interfaces, import-time behavior, and ``__name__ == '__main__'``."><code class="xref py py-mod docutils literal notranslate"><span class="pre">__main__</span></code></a>, <code class="docutils literal notranslate"><span class="pre">__builtins__</span></code> é o módulo embutido <a class="reference internal" href="../library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal notranslate"><span class="pre">builtins</span></code></a>; quando em qualquer outro módulo, <code class="docutils literal notranslate"><span class="pre">__builtins__</span></code> é um apelido para o dicionário do próprio módulo <a class="reference internal" href="../library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal notranslate"><span class="pre">builtins</span></code></a>.</p>
</section>
<section id="interaction-with-dynamic-features">
<span id="dynamic-features"></span><h3 class="translated"><span class="section-number">4.2.6. </span>Interação com recursos dinâmicos<a class="headerlink" href="#interaction-with-dynamic-features" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">A resolução de nome de variáveis livres ocorre em tempo de execução, não em tempo de compilação. Isso significa que o código a seguir imprimirá 42:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">42</span>
<span class="n">f</span><span class="p">()</span>
</pre></div>
</div>
<p class="translated">As funções <a class="reference internal" href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code></a> e <a class="reference internal" href="../library/functions.html#exec" title="exec"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec()</span></code></a> não têm acesso ao ambiente completo para resolução de nome. Os nomes podem ser resolvidos nos espaços de nomes locais e globais do chamador. Variáveis livres não são resolvidas no espaço de nomes mais próximo, mas no espaço de nomes global. <a class="footnote-reference brackets" href="#id5" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> As funções <a class="reference internal" href="../library/functions.html#exec" title="exec"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec()</span></code></a> e <a class="reference internal" href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code></a> possuem argumentos opcionais para substituir o espaço de nomes global e local. Se apenas um espaço de nomes for especificado, ele será usado para ambos.</p>
</section>
</section>
<section id="exceptions">
<span id="id4"></span><h2 class="translated"><span class="section-number">4.3. </span>Exceções<a class="headerlink" href="#exceptions" title="Link para este cabeçalho">¶</a></h2>
<p class="translated" id="index-16"><span id="index-15"></span>As exceções são um meio de romper o fluxo normal de controle de um bloco de código para tratar erros ou outras condições excepcionais. Uma exceção é <em>levantada</em> no ponto em que o erro é detectado; ele pode ser <em>tratado</em> pelo bloco de código circundante ou por qualquer bloco de código que invocou direta ou indiretamente o bloco de código onde ocorreu o erro.</p>
<p class="translated">O interpretador Python levanta uma exceção quando detecta um erro em tempo de execução (como divisão por zero). Um programa Python também pode levantar explicitamente uma exceção com a instrução <a class="reference internal" href="simple_stmts.html#raise"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">raise</span></code></a>. Os tratadores de exceção são especificados com a instrução <a class="reference internal" href="compound_stmts.html#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a> … <a class="reference internal" href="compound_stmts.html#except"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code></a>. A cláusula <a class="reference internal" href="compound_stmts.html#finally"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code></a> de tal declaração pode ser usada para especificar o código de limpeza que não trata a exceção, mas é executado se uma exceção ocorreu ou não no código anterior.</p>
<p class="translated" id="index-17">Python usa o modelo de “terminação” da manipulação de erros: um manipulador de exceção pode descobrir o que aconteceu e continuar a execução em um nível externo, mas não pode reparar a causa do erro e tentar novamente a operação com falha (exceto reinserindo a parte incorreta de código de cima).</p>
<p class="translated" id="index-18">Quando uma exceção não é manipulada, o interpretador encerra a execução do programa ou retorna ao seu laço principal interativo. Em ambos os casos, ele exeibe um traceback (situação da pilha de execução), exceto quando a exceção é <a class="reference internal" href="../library/exceptions.html#SystemExit" title="SystemExit"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SystemExit</span></code></a>.</p>
<p class="translated">As exceções são identificadas por instâncias de classe. A cláusula <a class="reference internal" href="compound_stmts.html#except"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code></a> é selecionada dependendo da classe da instância: ela deve referenciar a classe da instância ou uma <a class="reference internal" href="../glossary.html#term-abstract-base-class"><span class="xref std std-term">classe base não-virtual</span></a> dela. A instância pode ser recebida pelo manipulador e pode conter informações adicionais sobre a condição excepcional.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">As mensagens de exceção não fazem parte da API do Python. Seu conteúdo pode mudar de uma versão do Python para outra sem aviso e não deve ser invocado pelo código que será executado em várias versões do interpretador.</p>
</div>
<p class="translated">Veja também a descrição da declaração <a class="reference internal" href="compound_stmts.html#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a> na seção <a class="reference internal" href="compound_stmts.html#try"><span class="std std-ref">A instrução try</span></a> e a instrução <a class="reference internal" href="simple_stmts.html#raise"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">raise</span></code></a> na seção <a class="reference internal" href="simple_stmts.html#raise"><span class="std std-ref">A instrução raise</span></a>.</p>
<p class="translated rubric">Notas de rodapé</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id5" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">1</a><span class="fn-bracket">]</span></span>
<p class="translated">Essa limitação ocorre porque o código executado por essas operações não está disponível no momento em que o módulo é compilado.</p>
</aside>
</aside>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Tabela de Conteúdo</a></h3>
    <ul>
<li><a class="reference internal" href="#">4. Modelo de execução</a><ul>
<li><a class="reference internal" href="#structure-of-a-program">4.1. Estrutura de um programa</a></li>
<li><a class="reference internal" href="#naming-and-binding">4.2. Nomeação e ligação</a><ul>
<li><a class="reference internal" href="#binding-of-names">4.2.1. Ligação de nomes</a></li>
<li><a class="reference internal" href="#resolution-of-names">4.2.2. Resolução de nomes</a></li>
<li><a class="reference internal" href="#annotation-scopes">4.2.3. Escopos de anotação</a></li>
<li><a class="reference internal" href="#lazy-evaluation">4.2.4. Avaliação preguiçosa</a></li>
<li><a class="reference internal" href="#builtins-and-restricted-execution">4.2.5. Builtins e execução restrita</a></li>
<li><a class="reference internal" href="#interaction-with-dynamic-features">4.2.6. Interação com recursos dinâmicos</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exceptions">4.3. Exceções</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tópico anterior</h4>
    <p class="topless"><a href="datamodel.html"
                          title="capítulo anterior"><span class="section-number">3. </span>Modelo de dados</a></p>
  </div>
  <div>
    <h4>Próximo tópico</h4>
    <p class="topless"><a href="import.html"
                          title="próximo capítulo"><span class="section-number">5. </span>O sistema de importação</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Relatar um bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/reference/executionmodel.rst?plain=1"
            rel="nofollow">Mostrar o código-fonte
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="Recolher painel lateral">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegação</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice Geral"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="import.html" title="5. O sistema de importação"
             >próximo</a> |</li>
        <li class="right" >
          <a href="datamodel.html" title="3. Modelo de dados"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.13.5 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >A Referência da Linguagem Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">4. </span>Modelo de execução</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Busca rápida" aria-label="Busca rápida" type="search" name="q" id="search-box">
          <input type="submit" value="Ir">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; 
      <a href="../copyright.html">
    
    Direitos autorais
    
      </a>
     2001-2025, Python Software Foundation.
    <br>
    This page is licensed under the Python Software Foundation License Version 2.
    <br>
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br>
    
      See <a href="/license.html">History and License</a> for more information.<br>
    
    
    <br>

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br>
    <br>
      Última atualização em ago. 03, 2025 (07:16 UTC).
    
      <a href="/bugs.html">Found a bug</a>?
    
    <br>

    Criada usando <a href="https://www.sphinx-doc.org/pt_BR/master">Sphinx</a> 8.2.3.
    </div>

  </body>
</html>