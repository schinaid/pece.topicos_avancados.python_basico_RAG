<!DOCTYPE html>

<html lang="pt-BR" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="8. Instruções compostas" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/reference/compound_stmts.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Instruções compostas contém (grupos de) outras instruções; Elas afetam ou controlam a execução dessas outras instruções de alguma maneira. Em geral, instruções compostas abrangem múltiplas linhas, ..." />
<meta property="og:image:width" content="1146" />
<meta property="og:image:height" content="600" />
<meta property="og:image" content="https://docs.python.org/3.13/pt-br/_images/social_previews/summary_reference_compound_stmts_7c031ccd.png" />
<meta property="og:image:alt" content="Instruções compostas contém (grupos de) outras instruções; Elas afetam ou controlam a execução dessas outras instruções de alguma maneira. Em geral, instruções compostas abrangem múltiplas linhas, ..." />
<meta name="description" content="Instruções compostas contém (grupos de) outras instruções; Elas afetam ou controlam a execução dessas outras instruções de alguma maneira. Em geral, instruções compostas abrangem múltiplas linhas, ..." />
<meta name="twitter:card" content="summary_large_image" />

    <title>8. Instruções compostas &#8212; Documentação Python 3.13.5</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=234b1a7c" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?v=5ff89526" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css?v=5349f25f" />
    
    <script src="../_static/documentation_options.js?v=62a4a58b"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=71a39b36"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Pesquisar dentro de Documentação Python 3.13.5"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre esses documentos" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Buscar" href="../search.html" />
    <link rel="copyright" title="Direitos autorais" href="../copyright.html" />
    <link rel="next" title="9. Componentes de Alto Nível" href="toplevel_components.html" />
    <link rel="prev" title="7. Instruções simples" href="simple_stmts.html" />
    
      
      <script defer data-domain="docs.python.org" src="https://analytics.python.org/js/script.outbound-links.js"></script>
      
      <link rel="canonical" href="https://docs.python.org/3/reference/compound_stmts.html">
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg">
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
            <script type="text/javascript" src="../_static/rtd_switcher.js"></script>
            <meta name="readthedocs-addons-api-version" content="1">

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu">
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo">
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="Busca rápida" aria-label="Busca rápida" type="search" name="q">
                <input type="submit" value="Ir">
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">Tabela de Conteúdo</a></h3>
    <ul>
<li><a class="reference internal" href="#">8. Instruções compostas</a><ul>
<li><a class="reference internal" href="#the-if-statement">8.1. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a></li>
<li><a class="reference internal" href="#the-while-statement">8.2. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">while</span></code></a></li>
<li><a class="reference internal" href="#the-for-statement">8.3. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code></a></li>
<li><a class="reference internal" href="#the-try-statement">8.4. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a><ul>
<li><a class="reference internal" href="#except-clause">8.4.1. Cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code></a></li>
<li><a class="reference internal" href="#except-star">8.4.2. Cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code></a></li>
<li><a class="reference internal" href="#else-clause">8.4.3. Cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code></a></li>
<li><a class="reference internal" href="#finally-clause">8.4.4. Cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-with-statement">8.5. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a></li>
<li><a class="reference internal" href="#the-match-statement">8.6. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">match</span></code></a><ul>
<li><a class="reference internal" href="#overview">8.6.1. Visão Geral</a></li>
<li><a class="reference internal" href="#guards">8.6.2. Guards</a></li>
<li><a class="reference internal" href="#irrefutable-case-blocks">8.6.3. Blocos irrefutáveis de case</a></li>
<li><a class="reference internal" href="#patterns">8.6.4. Padrões</a><ul>
<li><a class="reference internal" href="#or-patterns">8.6.4.1. Padrões OR</a></li>
<li><a class="reference internal" href="#as-patterns">8.6.4.2. Padrões AS</a></li>
<li><a class="reference internal" href="#literal-patterns">8.6.4.3. Padrões literais</a></li>
<li><a class="reference internal" href="#capture-patterns">8.6.4.4. Padrões de captura</a></li>
<li><a class="reference internal" href="#wildcard-patterns">8.6.4.5. Padrões curingas</a></li>
<li><a class="reference internal" href="#value-patterns">8.6.4.6. Padrões de valor</a></li>
<li><a class="reference internal" href="#group-patterns">8.6.4.7. Padrões de grupo</a></li>
<li><a class="reference internal" href="#sequence-patterns">8.6.4.8. Padrões de sequência</a></li>
<li><a class="reference internal" href="#mapping-patterns">8.6.4.9. Padrões de mapeamento</a></li>
<li><a class="reference internal" href="#class-patterns">8.6.4.10. Padrões de classe</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#function-definitions">8.7. Definições de função</a></li>
<li><a class="reference internal" href="#class-definitions">8.8. Definições de classe</a></li>
<li><a class="reference internal" href="#coroutines">8.9. Corrotinas</a><ul>
<li><a class="reference internal" href="#coroutine-function-definition">8.9.1. Definição de função de corrotina</a></li>
<li><a class="reference internal" href="#the-async-for-statement">8.9.2. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code></a></li>
<li><a class="reference internal" href="#the-async-with-statement">8.9.3. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#type-parameter-lists">8.10. Listas de parâmetros de tipo</a><ul>
<li><a class="reference internal" href="#generic-functions">8.10.1. Funções genéricas</a></li>
<li><a class="reference internal" href="#generic-classes">8.10.2. Classes genéricas</a></li>
<li><a class="reference internal" href="#generic-type-aliases">8.10.3. Apelidos de tipo genérico</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tópico anterior</h4>
    <p class="topless"><a href="simple_stmts.html"
                          title="capítulo anterior"><span class="section-number">7. </span>Instruções simples</a></p>
  </div>
  <div>
    <h4>Próximo tópico</h4>
    <p class="topless"><a href="toplevel_components.html"
                          title="próximo capítulo"><span class="section-number">9. </span>Componentes de Alto Nível</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Relatar um bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/reference/compound_stmts.rst?plain=1"
            rel="nofollow">Mostrar o código-fonte
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegação</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice Geral"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="toplevel_components.html" title="9. Componentes de Alto Nível"
             accesskey="N">próximo</a> |</li>
        <li class="right" >
          <a href="simple_stmts.html" title="7. Instruções simples"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.13.5 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">A Referência da Linguagem Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">8. </span>Instruções compostas</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Busca rápida" aria-label="Busca rápida" type="search" name="q" id="search-box">
          <input type="submit" value="Ir">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="compound-statements">
<span id="compound"></span><h1 class="translated"><span class="section-number">8. </span>Instruções compostas<a class="headerlink" href="#compound-statements" title="Link para este cabeçalho">¶</a></h1>
<p class="translated" id="index-0">Instruções compostas contém (grupos de) outras instruções; Elas afetam ou controlam a execução dessas outras instruções de alguma maneira. Em geral, instruções compostas abrangem múltiplas linhas, no entanto em algumas manifestações simples uma instrução composta inteira pode estar contida em uma linha.</p>
<p class="translated">As instruções <a class="reference internal" href="#if"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a>, <a class="reference internal" href="#while"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">while</span></code></a> e <a class="reference internal" href="#for"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code></a> implementam construções  tradicionais de controle do fluxo de execução. <a class="reference internal" href="#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a> especifica tratadores de exceção e/ou código de limpeza para uma instrução ou grupo de instruções, enquanto a palavra reservada <a class="reference internal" href="#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a> permite a execução de código de inicialização e finalização em volta de um bloco de código. Definições de função e classe também são sintaticamente instruções compostas.</p>
<p class="translated" id="index-1">Uma instrução composta consiste em uma ou mais “cláusulas”. Uma cláusula consiste em um cabeçalho e um “conjunto”. Os cabeçalhos das cláusulas de uma instrução composta específica estão todos no mesmo nível de indentação. Cada cabeçalho de cláusula começa com uma palavra reservada de identificação exclusiva e termina com dois pontos. Um conjunto é um grupo de instruções controladas por uma cláusula. Um conjunto pode ser uma ou mais instruções simples separadas por ponto e vírgula na mesma linha do cabeçalho, após os dois pontos do cabeçalho, ou pode ser uma ou mais instruções indentadas nas linhas subsequentes. Somente a última forma de conjunto pode conter instruções compostas aninhadas; o seguinte é ilegal, principalmente porque não ficaria claro a qual cláusula <a class="reference internal" href="#if"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a> a seguinte cláusula <a class="reference internal" href="#else"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code></a> pertenceria:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">test1</span><span class="p">:</span> <span class="k">if</span> <span class="n">test2</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Observe também que o ponto e vírgula é mais vinculado que os dois pontos neste contexto, de modo que no exemplo a seguir, todas ou nenhuma das chamadas <a class="reference internal" href="../library/functions.html#print" title="print"><code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code></a> são executadas:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">z</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">);</span> <span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Resumindo:</p>
<pre>
<strong id="grammar-token-python-grammar-compound_stmt">compound_stmt</strong> ::= <a class="reference internal" href="#grammar-token-python-grammar-if_stmt"><code class="xref docutils literal notranslate"><span class="pre">if_stmt</span></code></a>
                  | <a class="reference internal" href="#grammar-token-python-grammar-while_stmt"><code class="xref docutils literal notranslate"><span class="pre">while_stmt</span></code></a>
                  | <a class="reference internal" href="#grammar-token-python-grammar-for_stmt"><code class="xref docutils literal notranslate"><span class="pre">for_stmt</span></code></a>
                  | <a class="reference internal" href="#grammar-token-python-grammar-try_stmt"><code class="xref docutils literal notranslate"><span class="pre">try_stmt</span></code></a>
                  | <a class="reference internal" href="#grammar-token-python-grammar-with_stmt"><code class="xref docutils literal notranslate"><span class="pre">with_stmt</span></code></a>
                  | <a class="reference internal" href="#grammar-token-python-grammar-match_stmt"><code class="xref docutils literal notranslate"><span class="pre">match_stmt</span></code></a>
                  | <a class="reference internal" href="#grammar-token-python-grammar-funcdef"><code class="xref docutils literal notranslate"><span class="pre">funcdef</span></code></a>
                  | <a class="reference internal" href="#grammar-token-python-grammar-classdef"><code class="xref docutils literal notranslate"><span class="pre">classdef</span></code></a>
                  | <a class="reference internal" href="#grammar-token-python-grammar-async_with_stmt"><code class="xref docutils literal notranslate"><span class="pre">async_with_stmt</span></code></a>
                  | <a class="reference internal" href="#grammar-token-python-grammar-async_for_stmt"><code class="xref docutils literal notranslate"><span class="pre">async_for_stmt</span></code></a>
                  | <a class="reference internal" href="#grammar-token-python-grammar-async_funcdef"><code class="xref docutils literal notranslate"><span class="pre">async_funcdef</span></code></a>
<strong id="grammar-token-python-grammar-suite">suite</strong>         ::= <a class="reference internal" href="#grammar-token-python-grammar-stmt_list"><code class="xref docutils literal notranslate"><span class="pre">stmt_list</span></code></a> NEWLINE | NEWLINE INDENT <a class="reference internal" href="#grammar-token-python-grammar-statement"><code class="xref docutils literal notranslate"><span class="pre">statement</span></code></a>+ DEDENT
<strong id="grammar-token-python-grammar-statement">statement</strong>     ::= <a class="reference internal" href="#grammar-token-python-grammar-stmt_list"><code class="xref docutils literal notranslate"><span class="pre">stmt_list</span></code></a> NEWLINE | <a class="reference internal" href="#grammar-token-python-grammar-compound_stmt"><code class="xref docutils literal notranslate"><span class="pre">compound_stmt</span></code></a>
<strong id="grammar-token-python-grammar-stmt_list">stmt_list</strong>     ::= <a class="reference internal" href="simple_stmts.html#grammar-token-python-grammar-simple_stmt"><code class="xref docutils literal notranslate"><span class="pre">simple_stmt</span></code></a> (&quot;;&quot; <a class="reference internal" href="simple_stmts.html#grammar-token-python-grammar-simple_stmt"><code class="xref docutils literal notranslate"><span class="pre">simple_stmt</span></code></a>)* [&quot;;&quot;]
</pre>
<p class="translated" id="index-2">Note que instruções sempre terminam em uma <code class="docutils literal notranslate"><span class="pre">NEWLINE</span></code> possivelmente seguida por uma <code class="docutils literal notranslate"><span class="pre">DEDENT</span></code>. Note também que cláusulas opcionais de continuação sempre começam com uma palavra reservada que não pode iniciar uma instrução, desta forma não há ambiguidades (o problema do “<a class="reference internal" href="#else"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code></a> pendurado” é resolvido em Python obrigando que instruções <a class="reference internal" href="#if"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a> aninhadas tenham indentação)</p>
<p class="translated">A formatação das regras de gramática nas próximas seções põe cada cláusula em uma linha separada para as tornar mais claras.</p>
<section id="the-if-statement">
<span id="else"></span><span id="elif"></span><span id="if"></span><h2 class="translated"><span class="section-number">8.1. </span>A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code><a class="headerlink" href="#the-if-statement" title="Link para este cabeçalho">¶</a></h2>
<p class="translated" id="index-3">A instrução <a class="reference internal" href="#if"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a> é usada para execução condicional:</p>
<pre>
<strong id="grammar-token-python-grammar-if_stmt">if_stmt</strong> ::= &quot;if&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-assignment_expression"><code class="xref docutils literal notranslate"><span class="pre">assignment_expression</span></code></a> &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>
            (&quot;elif&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-assignment_expression"><code class="xref docutils literal notranslate"><span class="pre">assignment_expression</span></code></a> &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>)*
            [&quot;else&quot; &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>]
</pre>
<p class="translated">Ele seleciona exatamente um dos conjuntos avaliando as expressões uma por uma até que uma seja considerada verdadeira (veja a seção <a class="reference internal" href="expressions.html#booleans"><span class="std std-ref">Operações booleanas</span></a> para a definição de verdadeiro e falso); então esse conjunto é executado (e nenhuma outra parte da instrução <a class="reference internal" href="#if"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a> é executada ou avaliada). Se todas as expressões forem falsas, o conjunto da cláusula <a class="reference internal" href="#else"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code></a>, se presente, é executado.</p>
</section>
<section id="the-while-statement">
<span id="while"></span><h2 class="translated"><span class="section-number">8.2. </span>A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">while</span></code><a class="headerlink" href="#the-while-statement" title="Link para este cabeçalho">¶</a></h2>
<p class="translated" id="index-4">A instrução <a class="reference internal" href="#while"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">while</span></code></a> é usada para execução repetida desde que uma expressão seja verdadeira:</p>
<pre>
<strong id="grammar-token-python-grammar-while_stmt">while_stmt</strong> ::= &quot;while&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-assignment_expression"><code class="xref docutils literal notranslate"><span class="pre">assignment_expression</span></code></a> &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>
               [&quot;else&quot; &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>]
</pre>
<p class="translated">Isto testa repetidamente a expressão e, se for verdadeira, executa o primeiro conjunto; se a expressão for falsa (o que pode ser a primeira vez que ela é testada) o conjunto da cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code>, se presente, é executado e o laço termina.</p>
<p class="translated" id="index-5">Uma instrução <a class="reference internal" href="simple_stmts.html#break"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">break</span></code></a> executada no primeiro conjunto termina o laço sem executar o conjunto da cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code>. Uma instrução <a class="reference internal" href="simple_stmts.html#continue"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">continue</span></code></a> executada no primeiro conjunto ignora o resto do conjunto e volta a testar a expressão.</p>
</section>
<section id="the-for-statement">
<span id="for"></span><h2 class="translated"><span class="section-number">8.3. </span>A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code><a class="headerlink" href="#the-for-statement" title="Link para este cabeçalho">¶</a></h2>
<p class="translated" id="index-6">A instrução <a class="reference internal" href="#for"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code></a> é usada para iterar sobre os elementos de uma sequência (como uma string, tupla ou lista) ou outro objeto iterável:</p>
<pre>
<strong id="grammar-token-python-grammar-for_stmt">for_stmt</strong> ::= &quot;for&quot; <a class="reference internal" href="simple_stmts.html#grammar-token-python-grammar-target_list"><code class="xref docutils literal notranslate"><span class="pre">target_list</span></code></a> &quot;in&quot; <code class="xref docutils literal notranslate"><span class="pre">starred_list</span></code> &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>
             [&quot;else&quot; &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>]
</pre>
<p class="translated">A expressão <code class="docutils literal notranslate"><span class="pre">starred_list</span></code> é avaliada uma vez; deve produzir um objeto <a class="reference internal" href="../glossary.html#term-iterable"><span class="xref std std-term">iterável</span></a>. Um <a class="reference internal" href="../glossary.html#term-iterator"><span class="xref std std-term">iterador</span></a> é criado para esse iterável. O primeiro item fornecido pelo iterador é então atribuído à lista de alvos usando as regras padrão para atribuições (veja <a class="reference internal" href="simple_stmts.html#assignment"><span class="std std-ref">Instruções de atribuição</span></a>), e o conjunto é executado. Isso se repete para cada item fornecido pelo iterador. Quando o iterador se esgota, o conjunto na cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code>, se presente, é executado e o loop termina.</p>
<p class="translated" id="index-7">Uma instrução <a class="reference internal" href="simple_stmts.html#break"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">break</span></code></a> executada no primeiro conjunto termina o loop sem executar o conjunto da cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code>. Uma instrução <a class="reference internal" href="simple_stmts.html#continue"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">continue</span></code></a> executada no primeiro conjunto pula o resto do conjunto e continua com o próximo item, ou com a cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code> se não houver próximo item.</p>
<p class="translated">O laço for faz atribuições às variáveis na lista de destino. Isso substitui todas as atribuições anteriores a essas variáveis, incluindo aquelas feitas no conjunto do laço for:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">5</span>             <span class="c1"># não afeta o laço for, porque i será</span>
                      <span class="c1"># substituída pelo índice seguinte no range</span>
</pre></div>
</div>
<p class="translated" id="index-8">Os nomes na lista de destinos não são excluídos quando o laço termina, mas se a sequência estiver vazia, eles não serão atribuídos pelo laço. Dica: o tipo embutido <a class="reference internal" href="../library/stdtypes.html#range" title="range"><code class="xref py py-func docutils literal notranslate"><span class="pre">range()</span></code></a> representa sequências aritméticas imutáveis de inteiros. Por exemplo, iterar <code class="docutils literal notranslate"><span class="pre">range(3)</span></code> sucessivamente produz 0, 1 e depois 2.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.11: </span>Elementos marcados com estrela agora são permitidos na lista de expressões.</p>
</div>
</section>
<section id="the-try-statement">
<span id="try"></span><h2 class="translated"><span class="section-number">8.4. </span>A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code><a class="headerlink" href="#the-try-statement" title="Link para este cabeçalho">¶</a></h2>
<p class="translated" id="index-9">A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code> especifica manipuladores de exceção e/ou código de limpeza para um grupo de instruções:</p>
<pre>
<strong id="grammar-token-python-grammar-try_stmt">try_stmt</strong>  ::= <a class="reference internal" href="#grammar-token-python-grammar-try1_stmt"><code class="xref docutils literal notranslate"><span class="pre">try1_stmt</span></code></a> | <a class="reference internal" href="#grammar-token-python-grammar-try2_stmt"><code class="xref docutils literal notranslate"><span class="pre">try2_stmt</span></code></a> | <a class="reference internal" href="#grammar-token-python-grammar-try3_stmt"><code class="xref docutils literal notranslate"><span class="pre">try3_stmt</span></code></a>
<strong id="grammar-token-python-grammar-try1_stmt">try1_stmt</strong> ::= &quot;try&quot; &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>
              (&quot;except&quot; [<a class="reference internal" href="expressions.html#grammar-token-python-grammar-expression"><code class="xref docutils literal notranslate"><span class="pre">expression</span></code></a> [&quot;as&quot; <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a>]] &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>)+
              [&quot;else&quot; &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>]
              [&quot;finally&quot; &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>]
<strong id="grammar-token-python-grammar-try2_stmt">try2_stmt</strong> ::= &quot;try&quot; &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>
              (&quot;except&quot; &quot;*&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-expression"><code class="xref docutils literal notranslate"><span class="pre">expression</span></code></a> [&quot;as&quot; <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a>] &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>)+
              [&quot;else&quot; &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>]
              [&quot;finally&quot; &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>]
<strong id="grammar-token-python-grammar-try3_stmt">try3_stmt</strong> ::= &quot;try&quot; &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>
              &quot;finally&quot; &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>
</pre>
<p class="translated">Informações adicionais sobre exceções podem ser encontradas na seção <a class="reference internal" href="executionmodel.html#exceptions"><span class="std std-ref">Exceções</span></a>, e informações sobre como usar a instrução <a class="reference internal" href="simple_stmts.html#raise"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">raise</span></code></a> para gerar exceções podem ser encontradas na seção <a class="reference internal" href="simple_stmts.html#raise"><span class="std std-ref">A instrução raise</span></a>.</p>
<section id="except-clause">
<span id="except"></span><h3 class="translated"><span class="section-number">8.4.1. </span>Cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code><a class="headerlink" href="#except-clause" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">As cláusulas <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code> especificam um ou mais manipuladores de exceção. Quando nenhuma exceção ocorre na cláusula <a class="reference internal" href="#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a>, nenhum manipulador de exceção é executado. Quando uma exceção ocorre no conjunto <code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code>, uma busca por um manipulador de exceção é iniciada. Essa busca inspeciona as cláusulas <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code> por vez até que uma seja encontrada que corresponda à exceção. Uma cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code> sem expressão, se presente, deve ser a última; ela corresponde a qualquer exceção.</p>
<p class="translated">Para uma cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code> com uma expressão, a expressão deve ser avaliada como um tipo de exceção ou uma tupla de tipos de exceção. A exceção levantada corresponde a uma cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code> cuja expressão é avaliada como a classe ou uma <a class="reference internal" href="../glossary.html#term-abstract-base-class"><span class="xref std std-term">classe base não virtual</span></a> do objeto exceção, ou como uma tupla que contém tal classe.</p>
<p class="translated">Se nenhuma cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code> corresponder à exceção, a busca por um manipulador de exceção continua no código circundante e na pilha de invocação. <a class="footnote-reference brackets" href="#id20" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p class="translated">Se a avaliação de uma expressão no cabeçalho de uma cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code> levantar uma exceção, a busca original por um manipulador será cancelada e uma busca pela nova exceção será iniciada no código circundante e na pilha de chamadas (ela é tratado como se toda a instrução <a class="reference internal" href="#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a> levantasse a exceção).</p>
<p class="translated" id="index-10">Quando uma cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code> correspondente é encontrada, a exceção é atribuída ao destino especificado após a palavra reservada <code class="xref std std-keyword docutils literal notranslate"><span class="pre">as</span></code> nessa cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code>, se presente, e o conjunto da cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code> é executado. Todas as cláusulas <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code> devem ter um bloco executável. Quando o final deste bloco é atingido, a execução continua normalmente após toda a instrução <a class="reference internal" href="#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a>. (Isso significa que se existirem dois manipuladores aninhados para a mesma exceção, e a exceção ocorrer na cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code> do manipulador interno, o manipulador externo não tratará a exceção.)</p>
<p class="translated">Quando uma exceção foi atribuída usando <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">target</span></code>, ela é limpa no final da cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code>. É como se</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">except</span> <span class="n">E</span> <span class="k">as</span> <span class="n">N</span><span class="p">:</span>
    <span class="n">foo</span>
</pre></div>
</div>
<p class="translated">fosse traduzido para</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">except</span> <span class="n">E</span> <span class="k">as</span> <span class="n">N</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">foo</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">N</span>
</pre></div>
</div>
<p class="translated">Isso significa que a exceção deve ser atribuída a um nome diferente para poder referenciá-la após a cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code>. As exceções são limpas porque, com o traceback (situação da pilha de execução) anexado a elas, elas formam um ciclo de referência com o quadro de pilha, mantendo todos os locais nesse quadro vivos até que ocorra a próxima coleta de lixo.</p>
<p class="translated" id="index-11">Antes de um conjunto de cláusulas <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code> ser executado, a exceção é armazenada no módulo <a class="reference internal" href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a>, onde pode ser acessada de dentro do corpo da cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code> chamando <a class="reference internal" href="../library/sys.html#sys.exception" title="sys.exception"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exception()</span></code></a>. Ao sair de um manipulador de exceções, a exceção armazenada no módulo <a class="reference internal" href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a> é redefinida para seu valor anterior:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exception</span><span class="p">())</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">TypeError</span>
<span class="gp">... </span><span class="k">except</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exception</span><span class="p">()))</span>
<span class="gp">... </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>         <span class="k">raise</span> <span class="ne">ValueError</span>
<span class="gp">... </span>    <span class="k">except</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exception</span><span class="p">()))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exception</span><span class="p">()))</span>
<span class="gp">...</span>
<span class="go">TypeError()</span>
<span class="go">ValueError()</span>
<span class="go">TypeError()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exception</span><span class="p">())</span>
<span class="go">None</span>
</pre></div>
</div>
</section>
<section id="except-star">
<span id="index-12"></span><span id="id2"></span><h3 class="translated"><span class="section-number">8.4.2. </span>Cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code><a class="headerlink" href="#except-star" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">As cláusulas <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code> são usadas para manipular <a class="reference internal" href="../library/exceptions.html#ExceptionGroup" title="ExceptionGroup"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ExceptionGroup</span></code></a>s. O tipo de exceção para correspondência é interpretado como no caso de <a class="reference internal" href="#except"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code></a>, mas no caso de grupos de exceção, podemos ter correspondências parciais quando o tipo corresponde a algumas das exceções no grupo. Isso significa que várias cláusulas <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code> podem ser executadas, cada uma manipulando parte do grupo de exceções. Cada cláusula é executada no máximo uma vez e manipula um grupo de exceções de todas as exceções correspondentes. Cada exceção no grupo é manipulada por no máximo uma cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code>, a primeira que corresponde a ela.</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="n">ExceptionGroup</span><span class="p">(</span><span class="s2">&quot;eg&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="p">[</span><span class="ne">ValueError</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="ne">TypeError</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="ne">OSError</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="ne">OSError</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="gp">... </span><span class="k">except</span><span class="o">*</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;caught </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1"> with nested </span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">exceptions</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span><span class="o">*</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;caught </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1"> with nested </span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">exceptions</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">caught &lt;class &#39;ExceptionGroup&#39;&gt; with nested (TypeError(2),)</span>
<span class="go">caught &lt;class &#39;ExceptionGroup&#39;&gt; with nested (OSError(3), OSError(4))</span>
<span class="go">  + Exception Group Traceback (most recent call last):</span>
<span class="go">  |   File &quot;&lt;stdin&gt;&quot;, line 2, in &lt;module&gt;</span>
<span class="go">  | ExceptionGroup: eg</span>
<span class="go">  +-+---------------- 1 ----------------</span>
<span class="go">    | ValueError: 1</span>
<span class="go">    +------------------------------------</span>
</pre></div>
</div>
<p class="translated">Quaisquer exceções restantes que não foram manipuladas por nenhuma cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code> são levantadas novamente no final, junto com todas as exceções que foram levantadas de dentro das cláusulas <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code>. Se esta lista contiver mais de uma exceção para levantar novamente, elas serão combinadas em um grupo de exceções.</p>
<p class="translated">Se a exceção levantada não for um grupo de exceções e seu tipo corresponder a uma das cláusulas <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code>, ela será capturada e encapsulada por um grupo de exceções com uma string de mensagem vazia.</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">BlockingIOError</span>
<span class="gp">... </span><span class="k">except</span><span class="o">*</span> <span class="ne">BlockingIOError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">ExceptionGroup(&#39;&#39;, (BlockingIOError()))</span>
</pre></div>
</div>
<p class="translated">Uma cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code> deve ter uma expressão correspondente; não pode ser <code class="docutils literal notranslate"><span class="pre">except*:</span></code>. Além disso, essa expressão não pode conter tipos de grupo de exceção, porque isso teria semântica ambígua.</p>
<p class="translated">Não é possível misturar <a class="reference internal" href="#except"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code></a> e <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code> no mesmo <a class="reference internal" href="#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a>. <a class="reference internal" href="simple_stmts.html#break"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">break</span></code></a>, <a class="reference internal" href="simple_stmts.html#continue"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">continue</span></code></a> e <a class="reference internal" href="simple_stmts.html#return"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code></a> não pode aparecer em uma cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code>.</p>
</section>
<section id="else-clause">
<span id="except-else"></span><span id="index-13"></span><h3 class="translated"><span class="section-number">8.4.3. </span>Cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code><a class="headerlink" href="#else-clause" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">A cláusula opcional <code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code> é executada se o fluxo de controle deixar o conjunto <a class="reference internal" href="#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a>, nenhuma exceção foi levantada e nenhuma instrução <a class="reference internal" href="simple_stmts.html#return"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code></a>, <a class="reference internal" href="simple_stmts.html#continue"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">continue</span></code></a> ou <a class="reference internal" href="simple_stmts.html#break"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">break</span></code></a> foi executada. Exceções na cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code> não são manipuladas pelas cláusulas <a class="reference internal" href="#except"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code></a> precedentes.</p>
</section>
<section id="finally-clause">
<span id="finally"></span><span id="index-14"></span><h3 class="translated"><span class="section-number">8.4.4. </span>Cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code><a class="headerlink" href="#finally-clause" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Se <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code> estiver presente, especifica um manipulador de “limpeza”. A cláusula <a class="reference internal" href="#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a> é executada, incluindo quaisquer cláusulas <a class="reference internal" href="#except"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code></a> e <a class="reference internal" href="#else"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code></a>. Se uma exceção ocorrer em qualquer uma das cláusulas e não for manipulada, a exceção será salva temporariamente. A cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code> é executada. Se houver uma exceção salva, ela será levantada novamente no final da cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code>. Se a cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code> levantar outra exceção, a exceção salva será definida como o contexto da nova exceção. Se a cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code> executar uma instrução <a class="reference internal" href="simple_stmts.html#return"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code></a>, <a class="reference internal" href="simple_stmts.html#break"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">break</span></code></a> ou <a class="reference internal" href="simple_stmts.html#continue"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">continue</span></code></a>, a exceção salva será descartada:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>        <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
<span class="gp">... </span>    <span class="k">finally</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="mi">42</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">()</span>
<span class="go">42</span>
</pre></div>
</div>
<p class="translated">As informações de exceção não estão disponíveis para o programa durante a execução da cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code>.</p>
<p class="translated" id="index-15">Quando uma instrução <a class="reference internal" href="simple_stmts.html#return"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code></a>, <a class="reference internal" href="simple_stmts.html#break"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">break</span></code></a> ou <a class="reference internal" href="simple_stmts.html#continue"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">continue</span></code></a> é executada no conjunto <a class="reference internal" href="#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a> de uma instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code>…<code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code>, a cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code> também é executada “na saída”.</p>
<p class="translated">O valor de retorno de uma função é determinado pela última instrução <a class="reference internal" href="simple_stmts.html#return"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code></a> executada. Como a cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code> sempre é executada, uma instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code> executada na cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code> sempre será a última executada:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">foo</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s1">&#39;try&#39;</span>
<span class="gp">... </span>    <span class="k">finally</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s1">&#39;finally&#39;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span><span class="p">()</span>
<span class="go">&#39;finally&#39;</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.8: </span>Antes do Python 3.8, uma instrução <a class="reference internal" href="simple_stmts.html#continue"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">continue</span></code></a> era ilegal na cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code> devido a um problema com a implementação.</p>
</div>
</section>
</section>
<section id="the-with-statement">
<span id="as"></span><span id="with"></span><h2 class="translated"><span class="section-number">8.5. </span>A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code><a class="headerlink" href="#the-with-statement" title="Link para este cabeçalho">¶</a></h2>
<p class="translated" id="index-16">A instrução <a class="reference internal" href="#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a> é usada para envolver em um invólucro a execução de um bloco com métodos definidos por um gerenciador de contexto (veja a seção <a class="reference internal" href="datamodel.html#context-managers"><span class="std std-ref">Gerenciadores de contexto da instrução with</span></a>). Isso permite que padrões comuns de uso de <a class="reference internal" href="#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a>…<a class="reference internal" href="#except"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code></a>…<a class="reference internal" href="#finally"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code></a> sejam encapsulados para reutilização conveniente.</p>
<pre>
<strong id="grammar-token-python-grammar-with_stmt">with_stmt</strong>          ::= &quot;with&quot; ( &quot;(&quot; <a class="reference internal" href="#grammar-token-python-grammar-with_stmt_contents"><code class="xref docutils literal notranslate"><span class="pre">with_stmt_contents</span></code></a> &quot;,&quot;? &quot;)&quot; | <a class="reference internal" href="#grammar-token-python-grammar-with_stmt_contents"><code class="xref docutils literal notranslate"><span class="pre">with_stmt_contents</span></code></a> ) &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>
<strong id="grammar-token-python-grammar-with_stmt_contents">with_stmt_contents</strong> ::= <a class="reference internal" href="#grammar-token-python-grammar-with_item"><code class="xref docutils literal notranslate"><span class="pre">with_item</span></code></a> (&quot;,&quot; <a class="reference internal" href="#grammar-token-python-grammar-with_item"><code class="xref docutils literal notranslate"><span class="pre">with_item</span></code></a>)*
<strong id="grammar-token-python-grammar-with_item">with_item</strong>          ::= <a class="reference internal" href="expressions.html#grammar-token-python-grammar-expression"><code class="xref docutils literal notranslate"><span class="pre">expression</span></code></a> [&quot;as&quot; <a class="reference internal" href="simple_stmts.html#grammar-token-python-grammar-target"><code class="xref docutils literal notranslate"><span class="pre">target</span></code></a>]
</pre>
<p class="translated">A execução da instrução <a class="reference internal" href="#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a> com um “item” ocorre da seguinte maneira:</p>
<ol class="arabic">
<li><p class="translated">A expressão de contexto (a expressão fornecida em <a class="reference internal" href="#grammar-token-python-grammar-with_item"><code class="xref std std-token docutils literal notranslate"><span class="pre">with_item</span></code></a>) é avaliada para obter um gerenciador de contexto.</p></li>
<li><p class="translated">O <a class="reference internal" href="datamodel.html#object.__enter__" title="object.__enter__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__enter__()</span></code></a> do gerenciador de contexto é carregado para uso posterior.</p></li>
<li><p class="translated">O <a class="reference internal" href="datamodel.html#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code></a> do gerenciador de contexto é carregado para uso posterior.</p></li>
<li><p class="translated">O método <a class="reference internal" href="datamodel.html#object.__enter__" title="object.__enter__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__enter__()</span></code></a> do gerenciador de contexto é invocado.</p></li>
<li><p class="translated">Se um alvo foi incluído na instrução <a class="reference internal" href="#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>, o valor de retorno de <a class="reference internal" href="datamodel.html#object.__enter__" title="object.__enter__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__enter__()</span></code></a> é atribuído a ele.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">A instrução <a class="reference internal" href="#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a> garante que se o método <a class="reference internal" href="datamodel.html#object.__enter__" title="object.__enter__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__enter__()</span></code></a> retornar sem um erro, então <a class="reference internal" href="datamodel.html#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code></a> sempre será chamado. Assim, se ocorrer um erro durante a atribuição à lista de alvos, ele será tratado da mesma forma que um erro ocorrendo dentro do conjunto seria. Veja a etapa 7 abaixo.</p>
</div>
</li>
<li><p class="translated">O conjunto é executado.</p></li>
<li><p class="translated">O método <a class="reference internal" href="datamodel.html#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code></a> do gerenciador de contexto é invocado. Se uma exceção fez com que o conjunto fosse encerrado, seu tipo, valor e traceback são passados como argumentos para <a class="reference internal" href="datamodel.html#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code></a>. Caso contrário, três argumentos <a class="reference internal" href="../library/constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a> são fornecidos.</p>
<p class="translated">Se o conjunto foi encerrado devido a uma exceção, e o valor de retorno do método <a class="reference internal" href="datamodel.html#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code></a> foi falso, a exceção é levantada novamente. Se o valor de retorno era verdadeiro, a exceção é suprimida, e a execução continua com a instrução após a instrução <a class="reference internal" href="#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>.</p>
<p class="translated">Se o conjunto foi encerrado por qualquer motivo diferente de uma exceção, o valor de retorno de <a class="reference internal" href="datamodel.html#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__exit__()</span></code></a> é ignorado e a execução prossegue no local normal para o tipo de saída que foi realizada.</p>
</li>
</ol>
<p class="translated">O seguinte código:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">EXPRESSION</span> <span class="k">as</span> <span class="n">TARGET</span><span class="p">:</span>
    <span class="n">SUITE</span>
</pre></div>
</div>
<p class="translated">é semanticamente equivalente a:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">manager</span> <span class="o">=</span> <span class="p">(</span><span class="n">EXPRESSION</span><span class="p">)</span>
<span class="n">enter</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">manager</span><span class="p">)</span><span class="o">.</span><span class="fm">__enter__</span>
<span class="n">exit</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">manager</span><span class="p">)</span><span class="o">.</span><span class="fm">__exit__</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">enter</span><span class="p">(</span><span class="n">manager</span><span class="p">)</span>
<span class="n">hit_except</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">TARGET</span> <span class="o">=</span> <span class="n">value</span>
    <span class="n">SUITE</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">hit_except</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">exit</span><span class="p">(</span><span class="n">manager</span><span class="p">,</span> <span class="o">*</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()):</span>
        <span class="k">raise</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">hit_except</span><span class="p">:</span>
        <span class="n">exit</span><span class="p">(</span><span class="n">manager</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Com mais de um item, os gerenciadores de contexto são processados como se várias instruções <a class="reference internal" href="#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a> estivessem aninhadas:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">A</span><span class="p">()</span> <span class="k">as</span> <span class="n">a</span><span class="p">,</span> <span class="n">B</span><span class="p">()</span> <span class="k">as</span> <span class="n">b</span><span class="p">:</span>
    <span class="n">SUITE</span>
</pre></div>
</div>
<p class="translated">é semanticamente equivalente a:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">A</span><span class="p">()</span> <span class="k">as</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">B</span><span class="p">()</span> <span class="k">as</span> <span class="n">b</span><span class="p">:</span>
        <span class="n">SUITE</span>
</pre></div>
</div>
<p class="translated">Você também pode escrever gerenciadores de contexto multi-item em várias linhas se os itens estiverem entre parênteses. Por exemplo:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="p">(</span>
    <span class="n">A</span><span class="p">()</span> <span class="k">as</span> <span class="n">a</span><span class="p">,</span>
    <span class="n">B</span><span class="p">()</span> <span class="k">as</span> <span class="n">b</span><span class="p">,</span>
<span class="p">):</span>
    <span class="n">SUITE</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.1: </span>Suporte para múltiplas expressões de contexto.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.10: </span>Suporte para usar parênteses de agrupamento para dividir a instrução em várias linhas.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">Ver também</p>
<dl class="simple">
<dt class="translated"><span class="target" id="index-74"></span><a class="pep reference external" href="https://peps.python.org/pep-0343/"><strong>PEP 343</strong></a> - A instrução “with”</dt><dd><p class="translated">A especificação, o histórico e os exemplos para a instrução Python <a class="reference internal" href="#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>.</p>
</dd>
</dl>
</div>
</section>
<section id="the-match-statement">
<span id="match"></span><h2 class="translated"><span class="section-number">8.6. </span>A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">match</span></code><a class="headerlink" href="#the-match-statement" title="Link para este cabeçalho">¶</a></h2>
<div class="versionadded" id="index-18">
<p><span class="versionmodified added">Adicionado na versão 3.10.</span></p>
</div>
<p class="translated">A instrução match é usada para correspondência de padrões. Sintaxe:</p>
<pre>
<strong id="grammar-token-python-grammar-match_stmt">match_stmt</strong>   ::= 'match' <a class="reference internal" href="#grammar-token-python-grammar-subject_expr"><code class="xref docutils literal notranslate"><span class="pre">subject_expr</span></code></a> &quot;:&quot; NEWLINE INDENT <a class="reference internal" href="#grammar-token-python-grammar-case_block"><code class="xref docutils literal notranslate"><span class="pre">case_block</span></code></a>+ DEDENT
<strong id="grammar-token-python-grammar-subject_expr">subject_expr</strong> ::= <code class="xref docutils literal notranslate"><span class="pre">star_named_expression</span></code> &quot;,&quot; <code class="xref docutils literal notranslate"><span class="pre">star_named_expressions</span></code>?
                 | <code class="xref docutils literal notranslate"><span class="pre">named_expression</span></code>
<strong id="grammar-token-python-grammar-case_block">case_block</strong>   ::= 'case' <a class="reference internal" href="#grammar-token-python-grammar-patterns"><code class="xref docutils literal notranslate"><span class="pre">patterns</span></code></a> [<a class="reference internal" href="#grammar-token-python-grammar-guard"><code class="xref docutils literal notranslate"><span class="pre">guard</span></code></a>] &quot;:&quot; <code class="xref docutils literal notranslate"><span class="pre">block</span></code>
</pre>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">Esta seção usa aspas simples para denotar <a class="reference internal" href="lexical_analysis.html#soft-keywords"><span class="std std-ref">palavras reservadas contextuais</span></a>.</p>
</div>
<p class="translated">A correspondência de padrões aceita um padrão como entrada (seguindo <code class="docutils literal notranslate"><span class="pre">case</span></code>) e um valor de sujeito (seguindo <code class="docutils literal notranslate"><span class="pre">match</span></code>). O padrão (que pode conter subpadrões) é correspondido ao valor de assunto. Os resultados são:</p>
<ul class="simple">
<li><p class="translated">Um sucesso ou falha de correspondência (também chamado de sucesso ou falha de padrão).</p></li>
<li><p class="translated">Possível vinculação de valores correspondentes a um nome. Os pré-requisitos para isso são discutidos mais adiante.</p></li>
</ul>
<p class="translated">As palavras reservadas <code class="docutils literal notranslate"><span class="pre">match</span></code> e <code class="docutils literal notranslate"><span class="pre">case</span></code> são <a class="reference internal" href="lexical_analysis.html#soft-keywords"><span class="std std-ref">palavras reservadas contextuais</span></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver também</p>
<ul class="simple">
<li><p class="translated"><span class="target" id="index-19"></span><a class="pep reference external" href="https://peps.python.org/pep-0634/"><strong>PEP 634</strong></a> – Structural Pattern Matching: Specification</p></li>
<li><p class="translated"><span class="target" id="index-75"></span><a class="pep reference external" href="https://peps.python.org/pep-0636/"><strong>PEP 636</strong></a> – Correspondência de padrões estruturais: Tutorial</p></li>
</ul>
</div>
<section id="overview">
<h3 class="translated"><span class="section-number">8.6.1. </span>Visão Geral<a class="headerlink" href="#overview" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Aqui está uma visão geral do fluxo lógico de uma instrução match:</p>
<ol class="arabic">
<li><p class="translated">A expressão de sujeito <code class="docutils literal notranslate"><span class="pre">subject_expr</span></code> é avaliada e um valor de sujeito resultante é obtido. Se a expressão de sujeito contiver uma vírgula, uma tupla é construída usando <a class="reference internal" href="../library/stdtypes.html#typesseq-tuple"><span class="std std-ref">as regras padrão</span></a>.</p></li>
<li><p class="translated">Cada padrão em um <code class="docutils literal notranslate"><span class="pre">case_block</span></code> é tentado para corresponder ao valor de sujeito. As regras específicas para sucesso ou falha são descritas abaixo. A tentativa de correspondência também pode vincular alguns ou todos os nomes autônomos dentro do padrão. As regras precisas de vinculação de padrão variam por tipo de padrão e são especificadas abaixo. <strong>As vinculações de nome feitas durante uma correspondência de padrão bem-sucedida sobrevivem ao bloco executado e podem ser usadas após a instrução match</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">Durante correspondências de padrões com falha, alguns subpadrões podem ter sucesso. Não confie em vinculações sendo feitas para uma correspondência com falha. Por outro lado, não confie em variáveis permanecendo inalteradas após uma correspondência com falha. O comportamento exato depende da implementação e pode variar. Esta é uma decisão intencional feita para permitir que diferentes implementações adicionem otimizações.</p>
</div>
</li>
<li><p class="translated">Se o padrão for bem-sucedido, o <em>guard</em> correspondente (se presente) é avaliado. Neste caso, todas as vinculações de nome são garantidas como tendo acontecido.</p>
<ul class="simple">
<li><p class="translated">Se o <em>guard</em> for avaliado como verdadeiro ou estiver ausente, o <code class="docutils literal notranslate"><span class="pre">block</span></code> dentro de <code class="docutils literal notranslate"><span class="pre">case_block</span></code> será executado.</p></li>
<li><p class="translated">Caso contrário, o próximo <code class="docutils literal notranslate"><span class="pre">case_block</span></code> será tentado conforme descrito acima.</p></li>
<li><p class="translated">Se não houver mais blocos de caso, a instrução match será concluída.</p></li>
</ul>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">Os usuários geralmente nunca devem confiar em um padrão sendo avaliado. Dependendo da implementação, o interpretador pode armazenar valores em cache ou usar outras otimizações que pulam avaliações repetidas.</p>
</div>
<p class="translated">Um exemplo de instrução match:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">match</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">case</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">300</span><span class="p">):</span>  <span class="c1"># Não corresponde: 200 != 300</span>
<span class="gp">... </span>       <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Case 1&#39;</span><span class="p">)</span>
<span class="gp">... </span>   <span class="k">case</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span> <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>  <span class="c1"># Corresponde com sucesso, mas o guard falha...</span>
<span class="go">        print(&#39;Case 2&#39;)</span>
<span class="go">...    case (100, y):  # Corresponde e vincula y a 200</span>
<span class="go">...        print(f&#39;Case 3, y: {y}&#39;)</span>
<span class="go">...    case _:  # Padrão não testado</span>
<span class="go">...        print(&#39;Case 4, I match anything!&#39;)</span>
<span class="go">...</span>
<span class="go">Case 3, y: 200</span>
</pre></div>
</div>
<p class="translated">Neste caso, <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">flag</span></code> é um <em>guard</em>. Leia mais sobre isso na próxima seção.</p>
</section>
<section id="guards">
<h3 class="translated"><span class="section-number">8.6.2. </span>Guards<a class="headerlink" href="#guards" title="Link para este cabeçalho">¶</a></h3>
<pre id="index-21">
<strong id="grammar-token-python-grammar-guard">guard</strong> ::= &quot;if&quot; <code class="xref docutils literal notranslate"><span class="pre">named_expression</span></code>
</pre>
<p class="translated">Um <code class="docutils literal notranslate"><span class="pre">guard</span></code> (que faz parte do <code class="docutils literal notranslate"><span class="pre">case</span></code>) deve ter sucesso para que o código dentro do bloco <code class="docutils literal notranslate"><span class="pre">case</span></code> seja executado. Ele assume a forma: <a class="reference internal" href="#if"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a> seguido por uma expressão.</p>
<p class="translated">O fluxo lógico de um bloco <code class="docutils literal notranslate"><span class="pre">case</span></code> com um <code class="docutils literal notranslate"><span class="pre">guard</span></code> é o seguinte:</p>
<ol class="arabic simple">
<li><p class="translated">Verifique se o padrão no bloco <code class="docutils literal notranslate"><span class="pre">case</span></code> foi bem-sucedido. Se o padrão falhou, o <code class="docutils literal notranslate"><span class="pre">guard</span></code> não é avaliado e o próximo bloco <code class="docutils literal notranslate"><span class="pre">case</span></code> é verificado.</p></li>
<li><p class="translated">Se o padrão for bem-sucedido, avalia o <code class="docutils literal notranslate"><span class="pre">guard</span></code>.</p>
<ul class="simple">
<li><p class="translated">Se a condição <code class="docutils literal notranslate"><span class="pre">guard</span></code> for avaliada como verdadeira, o bloco de caso será selecionado.</p></li>
<li><p class="translated">Se a condição <code class="docutils literal notranslate"><span class="pre">guard</span></code> for avaliada como falsa, o bloco de caso não será selecionado.</p></li>
<li><p class="translated">Se o <code class="docutils literal notranslate"><span class="pre">guard</span></code> levantar uma exceção durante a avaliação, a exceção surgirá.</p></li>
</ul>
</li>
</ol>
<p class="translated">Guards podem ter efeitos colaterais, pois são expressões. A avaliação de guards deve prosseguir do primeiro ao último bloco de caso, um de cada vez, pulando blocos de caso cujos padrões não são todos bem-sucedidos. (Isto é, a avaliação de guardas deve acontecer em ordem.) A avaliação de guards deve parar quando um bloco de caso for selecionado.</p>
</section>
<section id="irrefutable-case-blocks">
<span id="irrefutable-case"></span><h3 class="translated"><span class="section-number">8.6.3. </span>Blocos irrefutáveis de case<a class="headerlink" href="#irrefutable-case-blocks" title="Link para este cabeçalho">¶</a></h3>
<p class="translated" id="index-22">Um bloco irrefutável de case é um bloco de case que corresponde a qualquer valor. Uma instrução match pode ter no máximo um bloco irrefutável de case, e ele deve ser o último.</p>
<p class="translated">Um bloco de case é considerado irrefutável se não tiver guard e seu padrão for irrefutável. Um padrão é considerado irrefutável se pudermos provar somente por sua sintaxe que ele sempre terá sucesso. Somente os seguintes padrões são irrefutáveis:</p>
<ul class="simple">
<li><p class="translated"><a class="reference internal" href="#as-patterns"><span class="std std-ref">Padrões AS</span></a> cujo lado esquerdo é irrefutável</p></li>
<li><p class="translated"><a class="reference internal" href="#or-patterns"><span class="std std-ref">Padrões OR</span></a> contendo pelo menos um padrão irrefutável</p></li>
<li><p class="translated"><a class="reference internal" href="#capture-patterns"><span class="std std-ref">Padrões de captura</span></a></p></li>
<li><p class="translated"><a class="reference internal" href="#wildcard-patterns"><span class="std std-ref">Padrões curingas</span></a></p></li>
<li><p class="translated">padrões irrefutáveis entre parêteses</p></li>
</ul>
</section>
<section id="patterns">
<h3 class="translated"><span class="section-number">8.6.4. </span>Padrões<a class="headerlink" href="#patterns" title="Link para este cabeçalho">¶</a></h3>
<div class="admonition note" id="index-23">
<p class="admonition-title">Nota</p>
<p class="translated">Esta seção usa notações de gramática para além do padrão de EBNF:</p>
<ul class="simple">
<li><p class="translated">a notação <code class="docutils literal notranslate"><span class="pre">SEP.RULE+</span></code> é uma abreviação para <code class="docutils literal notranslate"><span class="pre">RULE</span> <span class="pre">(SEP</span> <span class="pre">RULE)*</span></code></p></li>
<li><p class="translated">a notação <code class="docutils literal notranslate"><span class="pre">!RULE</span></code> é uma abreviação para uma asserção de negação antecipada.</p></li>
</ul>
</div>
<p class="translated">Esta é a sintaxe de nível superior para <code class="docutils literal notranslate"><span class="pre">patterns</span></code> (padrões):</p>
<pre>
<strong id="grammar-token-python-grammar-patterns">patterns</strong>       ::= <a class="reference internal" href="#grammar-token-python-grammar-open_sequence_pattern"><code class="xref docutils literal notranslate"><span class="pre">open_sequence_pattern</span></code></a> | <a class="reference internal" href="#grammar-token-python-grammar-pattern"><code class="xref docutils literal notranslate"><span class="pre">pattern</span></code></a>
<strong id="grammar-token-python-grammar-pattern">pattern</strong>        ::= <a class="reference internal" href="#grammar-token-python-grammar-as_pattern"><code class="xref docutils literal notranslate"><span class="pre">as_pattern</span></code></a> | <a class="reference internal" href="#grammar-token-python-grammar-or_pattern"><code class="xref docutils literal notranslate"><span class="pre">or_pattern</span></code></a>
<strong id="grammar-token-python-grammar-closed_pattern">closed_pattern</strong> ::= | <a class="reference internal" href="#grammar-token-python-grammar-literal_pattern"><code class="xref docutils literal notranslate"><span class="pre">literal_pattern</span></code></a>
                   | <a class="reference internal" href="#grammar-token-python-grammar-capture_pattern"><code class="xref docutils literal notranslate"><span class="pre">capture_pattern</span></code></a>
                   | <a class="reference internal" href="#grammar-token-python-grammar-wildcard_pattern"><code class="xref docutils literal notranslate"><span class="pre">wildcard_pattern</span></code></a>
                   | <a class="reference internal" href="#grammar-token-python-grammar-value_pattern"><code class="xref docutils literal notranslate"><span class="pre">value_pattern</span></code></a>
                   | <a class="reference internal" href="#grammar-token-python-grammar-group_pattern"><code class="xref docutils literal notranslate"><span class="pre">group_pattern</span></code></a>
                   | <a class="reference internal" href="#grammar-token-python-grammar-sequence_pattern"><code class="xref docutils literal notranslate"><span class="pre">sequence_pattern</span></code></a>
                   | <a class="reference internal" href="#grammar-token-python-grammar-mapping_pattern"><code class="xref docutils literal notranslate"><span class="pre">mapping_pattern</span></code></a>
                   | <a class="reference internal" href="#grammar-token-python-grammar-class_pattern"><code class="xref docutils literal notranslate"><span class="pre">class_pattern</span></code></a>
</pre>
<p class="translated">As descrições abaixo incluirão uma descrição “em termos simples” de o que o padrão faz para fins ilustrativos (créditos a Raymond Hettinger pelo documento que inspirou a maioria das descrições). Note que essas descrições são puramente para fins ilustrativos, e <strong>não necessariamente</strong> refletem a implementação subjacente.  Além disso, elas não cobrem todas as formas válidas.</p>
<section id="or-patterns">
<span id="id3"></span><h4 class="translated"><span class="section-number">8.6.4.1. </span>Padrões OR<a class="headerlink" href="#or-patterns" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Um padrão OR é composto por dois ou mais padrões separados por barras verticais <code class="docutils literal notranslate"><span class="pre">|</span></code>.  Sintaxe:</p>
<pre>
<strong id="grammar-token-python-grammar-or_pattern">or_pattern</strong> ::= &quot;|&quot;.<a class="reference internal" href="#grammar-token-python-grammar-closed_pattern"><code class="xref docutils literal notranslate"><span class="pre">closed_pattern</span></code></a>+
</pre>
<p class="translated">Somente o último subpadrão pode ser <a class="reference internal" href="#irrefutable-case"><span class="std std-ref">irrefutável</span></a>, e cada subpadrão deve vincular o mesmo conjunto de nomes para evitar ambiguidades.</p>
<p class="translated">Um padrão OR testa a correspondência de cada um dos seus subpadrões, em sequência, ao valor do sujeito, até que uma delas seja bem sucedida.  O padrão OR é então considerado bem sucedido.  Caso contrário, se todas elas falharam, o padrão OR falhou.</p>
<p class="translated">Em termos simples, <code class="docutils literal notranslate"><span class="pre">P1</span> <span class="pre">|</span> <span class="pre">P2</span> <span class="pre">|</span> <span class="pre">...</span></code> vai tentar fazer corresponder <code class="docutils literal notranslate"><span class="pre">P1</span></code>, se falhar vai tentar <code class="docutils literal notranslate"><span class="pre">P2</span></code>, declarando sucesso se houver sucesso em qualquer uma das tentativas, e falhando caso contrário.</p>
</section>
<section id="as-patterns">
<span id="id4"></span><h4 class="translated"><span class="section-number">8.6.4.2. </span>Padrões AS<a class="headerlink" href="#as-patterns" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Um padrão AS corresponde a um padrão OR à esquerda da palavra reservada <a class="reference internal" href="#as"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">as</span></code></a> de um assunto. Sintaxe:</p>
<pre>
<strong id="grammar-token-python-grammar-as_pattern">as_pattern</strong> ::= <a class="reference internal" href="#grammar-token-python-grammar-or_pattern"><code class="xref docutils literal notranslate"><span class="pre">or_pattern</span></code></a> &quot;as&quot; <a class="reference internal" href="#grammar-token-python-grammar-capture_pattern"><code class="xref docutils literal notranslate"><span class="pre">capture_pattern</span></code></a>
</pre>
<p class="translated">Se o padrão OR falhar, o padrão AS falhará. Caso contrário, o padrão AS vincula o assunto ao nome à direita da palavra-chave as e obtém sucesso. <code class="docutils literal notranslate"><span class="pre">capture_pattern</span></code> não pode ser um <code class="docutils literal notranslate"><span class="pre">_</span></code>.</p>
<p class="translated">Em termos simples, <code class="docutils literal notranslate"><span class="pre">P</span> <span class="pre">as</span> <span class="pre">NAME</span></code> corresponderá a <code class="docutils literal notranslate"><span class="pre">P</span></code> e, em caso de sucesso, definirá <code class="docutils literal notranslate"><span class="pre">NAME</span> <span class="pre">=</span> <span class="pre">&lt;assunto&gt;</span></code>.</p>
</section>
<section id="literal-patterns">
<span id="id5"></span><h4 class="translated"><span class="section-number">8.6.4.3. </span>Padrões literais<a class="headerlink" href="#literal-patterns" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Um padrão literal corresponde à maioria dos <a class="reference internal" href="lexical_analysis.html#literals"><span class="std std-ref">literais</span></a> em Python. Sintaxe:</p>
<pre>
<strong id="grammar-token-python-grammar-literal_pattern">literal_pattern</strong> ::= <a class="reference internal" href="#grammar-token-python-grammar-signed_number"><code class="xref docutils literal notranslate"><span class="pre">signed_number</span></code></a>
                    | <a class="reference internal" href="#grammar-token-python-grammar-signed_number"><code class="xref docutils literal notranslate"><span class="pre">signed_number</span></code></a> &quot;+&quot; NUMBER
                    | <a class="reference internal" href="#grammar-token-python-grammar-signed_number"><code class="xref docutils literal notranslate"><span class="pre">signed_number</span></code></a> &quot;-&quot; NUMBER
                    | <code class="xref docutils literal notranslate"><span class="pre">strings</span></code>
                    | &quot;None&quot;
                    | &quot;True&quot;
                    | &quot;False&quot;
<strong id="grammar-token-python-grammar-signed_number">signed_number</strong>   ::= [&quot;-&quot;] NUMBER
</pre>
<p class="translated">A regra <code class="docutils literal notranslate"><span class="pre">strings</span></code> e o token <code class="docutils literal notranslate"><span class="pre">NUMBER</span></code> são definidos na <a class="reference internal" href="grammar.html"><span class="doc">gramática Python padrão</span></a>. Strings entre aspas triplas são suportadas. Strings brutas e strings de bytes são suportadas. <a class="reference internal" href="lexical_analysis.html#f-strings"><span class="std std-ref">Literais de strings formatadas</span></a> não são suportadas.</p>
<p class="translated">As formas <code class="docutils literal notranslate"><span class="pre">signed_number</span> <span class="pre">'+'</span> <span class="pre">NUMBER</span></code> e <code class="docutils literal notranslate"><span class="pre">signed_number</span> <span class="pre">'-'</span> <span class="pre">NUMBER</span></code> são para expressar <a class="reference internal" href="lexical_analysis.html#imaginary"><span class="std std-ref">números complexos</span></a>; elas requerem um número real à esquerda e um número imaginário à direita. Por exemplo, <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">+</span> <span class="pre">4j</span></code>.</p>
<p class="translated">Em termos simples, <code class="docutils literal notranslate"><span class="pre">LITERAL</span></code> terá sucesso somente se <code class="docutils literal notranslate"><span class="pre">&lt;assunto&gt;</span> <span class="pre">==</span> <span class="pre">LITERAL</span></code>. Para os singletons <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">True</span></code> e <code class="docutils literal notranslate"><span class="pre">False</span></code>, o operador <a class="reference internal" href="expressions.html#is"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">is</span></code></a> é usado.</p>
</section>
<section id="capture-patterns">
<span id="id6"></span><h4 class="translated"><span class="section-number">8.6.4.4. </span>Padrões de captura<a class="headerlink" href="#capture-patterns" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Um padrão de captura vincula o valor do assunto a um nome. Sintaxe:</p>
<pre>
<strong id="grammar-token-python-grammar-capture_pattern">capture_pattern</strong> ::= !'_' NAME
</pre>
<p class="translated">Um único sublinhado <code class="docutils literal notranslate"><span class="pre">_</span></code> não é um padrão de captura (é o que <code class="docutils literal notranslate"><span class="pre">!'_'</span></code> expressa). Em vez disso, ele é tratado como um <a class="reference internal" href="#grammar-token-python-grammar-wildcard_pattern"><code class="xref std std-token docutils literal notranslate"><span class="pre">wildcard_pattern</span></code></a>.</p>
<p class="translated">Em um determinado padrão, um determinado nome só pode ser vinculado uma vez. Por exemplo, <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">x,</span> <span class="pre">x:</span> <span class="pre">...</span></code> é inválido enquanto <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">[x]</span> <span class="pre">|</span> <span class="pre">x:</span> <span class="pre">...</span></code> é permitido.</p>
<p class="translated">Os padrões de captura sempre são bem-sucedidos. A vinculação segue regras de escopo estabelecidas pelo operador de expressão de atribuição na <span class="target" id="index-76"></span><a class="pep reference external" href="https://peps.python.org/pep-0572/"><strong>PEP 572</strong></a>; o nome se torna uma variável local no escopo de função de contenção mais próximo, a menos que haja uma instrução <a class="reference internal" href="simple_stmts.html#global"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">global</span></code></a> ou <a class="reference internal" href="simple_stmts.html#nonlocal"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">nonlocal</span></code></a> aplicável.</p>
<p class="translated">Em termos simples, <code class="docutils literal notranslate"><span class="pre">NAME</span></code> sempre terá sucesso e definirá <code class="docutils literal notranslate"><span class="pre">NAME</span> <span class="pre">=</span> <span class="pre">&lt;assunto&gt;</span></code>.</p>
</section>
<section id="wildcard-patterns">
<span id="id7"></span><h4 class="translated"><span class="section-number">8.6.4.5. </span>Padrões curingas<a class="headerlink" href="#wildcard-patterns" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Um padrão curinga sempre tem sucesso (corresponde a qualquer coisa) e não vincula nenhum nome. Sintaxe:</p>
<pre>
<strong id="grammar-token-python-grammar-wildcard_pattern">wildcard_pattern</strong> ::= '_'
</pre>
<p class="translated"><code class="docutils literal notranslate"><span class="pre">_</span></code> é uma <a class="reference internal" href="lexical_analysis.html#soft-keywords"><span class="std std-ref">palavra reservada contextual</span></a> dentro de qualquer padrão, mas somente dentro de padrões. É um identificador, como de costume, mesmo dentro de expressões de assunto <code class="docutils literal notranslate"><span class="pre">match</span></code>s, <code class="docutils literal notranslate"><span class="pre">guard</span></code>s e blocos <code class="docutils literal notranslate"><span class="pre">case</span></code>.</p>
<p class="translated">Em termos simples, <code class="docutils literal notranslate"><span class="pre">_</span></code> sempre terá sucesso.</p>
</section>
<section id="value-patterns">
<span id="id8"></span><h4 class="translated"><span class="section-number">8.6.4.6. </span>Padrões de valor<a class="headerlink" href="#value-patterns" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Um padrão de valor representa um valor nomeado em Python. Sintaxe:</p>
<pre>
<strong id="grammar-token-python-grammar-value_pattern">value_pattern</strong> ::= <a class="reference internal" href="#grammar-token-python-grammar-attr"><code class="xref docutils literal notranslate"><span class="pre">attr</span></code></a>
<strong id="grammar-token-python-grammar-attr">attr</strong>          ::= <a class="reference internal" href="#grammar-token-python-grammar-name_or_attr"><code class="xref docutils literal notranslate"><span class="pre">name_or_attr</span></code></a> &quot;.&quot; NAME
<strong id="grammar-token-python-grammar-name_or_attr">name_or_attr</strong>  ::= <a class="reference internal" href="#grammar-token-python-grammar-attr"><code class="xref docutils literal notranslate"><span class="pre">attr</span></code></a> | NAME
</pre>
<p class="translated">O nome pontilhado no padrão é pesquisado usando as <a class="reference internal" href="executionmodel.html#resolve-names"><span class="std std-ref">regras de resolução de nomes</span></a> padrão do Python. O padrão é bem-sucedido se o valor encontrado for comparado igual ao valor do assunto (usando o operador de igualdade <code class="docutils literal notranslate"><span class="pre">==</span></code>).</p>
<p class="translated">Em termos simples, <code class="docutils literal notranslate"><span class="pre">NAME1.NAME2</span></code> terá sucesso somente se <code class="docutils literal notranslate"><span class="pre">&lt;assunto&gt;</span> <span class="pre">==</span> <span class="pre">NAME1.NAME2</span></code></p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">Se o mesmo valor ocorrer várias vezes na mesma instrução match, o interpretador pode armazenar em cache o primeiro valor encontrado e reutilizá-lo em vez de repetir a mesma pesquisa. Esse cache é estritamente vinculado a uma determinada execução de uma determinada instrução match.</p>
</div>
</section>
<section id="group-patterns">
<span id="id9"></span><h4 class="translated"><span class="section-number">8.6.4.7. </span>Padrões de grupo<a class="headerlink" href="#group-patterns" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Um padrão de grupo permite que os usuários adicionem parênteses em torno de padrões para enfatizar o agrupamento pretendido. Caso contrário, não há sintaxe adicional. Sintaxe:</p>
<pre>
<strong id="grammar-token-python-grammar-group_pattern">group_pattern</strong> ::= &quot;(&quot; <a class="reference internal" href="#grammar-token-python-grammar-pattern"><code class="xref docutils literal notranslate"><span class="pre">pattern</span></code></a> &quot;)&quot;
</pre>
<p class="translated">Em termos simples, <code class="docutils literal notranslate"><span class="pre">(P)</span></code> tem o mesmo efeito que <code class="docutils literal notranslate"><span class="pre">P</span></code>.</p>
</section>
<section id="sequence-patterns">
<span id="id10"></span><h4 class="translated"><span class="section-number">8.6.4.8. </span>Padrões de sequência<a class="headerlink" href="#sequence-patterns" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Um padrão de sequência contém vários subpadrões a serem correspondidos com elementos de sequência. A sintaxe é similar ao desempacotamento de uma lista ou tupla.</p>
<pre>
<strong id="grammar-token-python-grammar-sequence_pattern">sequence_pattern</strong>       ::= &quot;[&quot; [<a class="reference internal" href="#grammar-token-python-grammar-maybe_sequence_pattern"><code class="xref docutils literal notranslate"><span class="pre">maybe_sequence_pattern</span></code></a>] &quot;]&quot;
                           | &quot;(&quot; [<a class="reference internal" href="#grammar-token-python-grammar-open_sequence_pattern"><code class="xref docutils literal notranslate"><span class="pre">open_sequence_pattern</span></code></a>] &quot;)&quot;
<strong id="grammar-token-python-grammar-open_sequence_pattern">open_sequence_pattern</strong>  ::= <a class="reference internal" href="#grammar-token-python-grammar-maybe_star_pattern"><code class="xref docutils literal notranslate"><span class="pre">maybe_star_pattern</span></code></a> &quot;,&quot; [<a class="reference internal" href="#grammar-token-python-grammar-maybe_sequence_pattern"><code class="xref docutils literal notranslate"><span class="pre">maybe_sequence_pattern</span></code></a>]
<strong id="grammar-token-python-grammar-maybe_sequence_pattern">maybe_sequence_pattern</strong> ::= &quot;,&quot;.<a class="reference internal" href="#grammar-token-python-grammar-maybe_star_pattern"><code class="xref docutils literal notranslate"><span class="pre">maybe_star_pattern</span></code></a>+ &quot;,&quot;?
<strong id="grammar-token-python-grammar-maybe_star_pattern">maybe_star_pattern</strong>     ::= <a class="reference internal" href="#grammar-token-python-grammar-star_pattern"><code class="xref docutils literal notranslate"><span class="pre">star_pattern</span></code></a> | <a class="reference internal" href="#grammar-token-python-grammar-pattern"><code class="xref docutils literal notranslate"><span class="pre">pattern</span></code></a>
<strong id="grammar-token-python-grammar-star_pattern">star_pattern</strong>           ::= &quot;*&quot; (<a class="reference internal" href="#grammar-token-python-grammar-capture_pattern"><code class="xref docutils literal notranslate"><span class="pre">capture_pattern</span></code></a> | <a class="reference internal" href="#grammar-token-python-grammar-wildcard_pattern"><code class="xref docutils literal notranslate"><span class="pre">wildcard_pattern</span></code></a>)
</pre>
<p class="translated">Não há diferença se parênteses ou colchetes são usados para padrões de sequência (por exemplo, <code class="docutils literal notranslate"><span class="pre">(...)</span></code> vs <code class="docutils literal notranslate"><span class="pre">[...]</span></code>).</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">Um único padrão entre parênteses sem uma vírgula final (por exemplo, <code class="docutils literal notranslate"><span class="pre">(3</span> <span class="pre">|</span> <span class="pre">4)</span></code>) é um <a class="reference internal" href="#group-patterns"><span class="std std-ref">padrão de grupo</span></a>. Enquanto um único padrão entre colchetes (por exemplo, <code class="docutils literal notranslate"><span class="pre">[3</span> <span class="pre">|</span> <span class="pre">4]</span></code>) ainda é um padrão de sequência.</p>
</div>
<p class="translated">No máximo um subpadrão de estrela pode estar em um padrão de sequência. O subpadrão de estrela pode ocorrer em qualquer posição. Se nenhum subpadrão de estrela estiver presente, o padrão de sequência é um padrão de sequência de comprimento fixo; caso contrário, é um padrão de sequência de comprimento variável.</p>
<p class="translated">A seguir está o fluxo lógico para corresponder um padrão de sequência com um valor de assunto:</p>
<ol class="arabic">
<li><p class="translated">Se o valor do assunto não for uma sequência <a class="footnote-reference brackets" href="#id21" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>, o padrão de sequência falhará.</p></li>
<li><p class="translated">Se o valor do assunto for uma instância de <code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">bytes</span></code> ou <code class="docutils literal notranslate"><span class="pre">bytearray</span></code>, o padrão de sequência falhará.</p></li>
<li><p class="translated">As etapas subsequentes dependem se o padrão de sequência é fixo ou de comprimento variável.</p>
<p class="translated">Se o padrão de sequência for de comprimento fixo:</p>
<ol class="arabic simple">
<li><p class="translated">Se o comprimento da sequência do assunto não for igual ao número de subpadrões, o padrão da sequência falha</p></li>
<li><p class="translated">Subpadrões no padrão de sequência são correspondidos aos seus itens correspondentes na sequência de assunto da esquerda para a direita. A correspondência para assim que um subpadrão falha. Se todos os subpadrões tiverem sucesso em corresponder ao seu item correspondente, o padrão de sequência é bem-sucedido.</p></li>
</ol>
<p class="translated">Caso contrário, se o padrão de sequência for de comprimento variável:</p>
<ol class="arabic simple">
<li><p class="translated">Se o comprimento da sequência do assunto for menor que o número de subpadrões não-estrela, o padrão da sequência falha.</p></li>
<li><p class="translated">Os principais subpadrões não estelares são correspondidos aos seus itens correspondentes, como nas sequências de comprimento fixo.</p></li>
<li><p class="translated">Se a etapa anterior for bem-sucedida, o subpadrão estrela corresponde a uma lista formada pelos itens de assunto restantes, excluindo os itens restantes correspondentes aos subpadrões não-estrela que seguem o subpadrão estrela.</p></li>
<li><p class="translated">Os subpadrões não-estrela restantes são correspondidos aos seus itens de assunto correspondentes, como em uma sequência de comprimento fixo.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">O comprimento da sequência de assunto é obtido via <a class="reference internal" href="../library/functions.html#len" title="len"><code class="xref py py-func docutils literal notranslate"><span class="pre">len()</span></code></a> (ou seja, via protocolo <code class="xref py py-meth docutils literal notranslate"><span class="pre">__len__()</span></code>). Esse comprimento pode ser armazenado em cache pelo interpretador de forma similar a <a class="reference internal" href="#value-patterns"><span class="std std-ref">padrões de valor</span></a>.</p>
</div>
</li>
</ol>
<p class="translated">Em termos simples, <code class="docutils literal notranslate"><span class="pre">[P1,</span> <span class="pre">P2,</span> <span class="pre">P3,</span></code> … <code class="docutils literal notranslate"><span class="pre">,</span> <span class="pre">P&lt;N&gt;]</span></code> corresponde somente se tudo o seguinte acontecer:</p>
<ul class="simple">
<li><p class="translated">verifica se <code class="docutils literal notranslate"><span class="pre">&lt;subject&gt;</span></code> é uma sequência</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">len(subject)</span> <span class="pre">==</span> <span class="pre">&lt;N&gt;</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">P1</span></code> corresponde a <code class="docutils literal notranslate"><span class="pre">&lt;subject&gt;[0]</span></code> (observe que esta correspondência também pode vincular nomes)</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">P2</span></code> corresponde a <code class="docutils literal notranslate"><span class="pre">&lt;subject&gt;[1]</span></code> (observe que esta correspondência também pode vincular nomes)</p></li>
<li><p class="translated">… e assim por diante para o padrão/elemento correspondente.</p></li>
</ul>
</section>
<section id="mapping-patterns">
<span id="id12"></span><h4 class="translated"><span class="section-number">8.6.4.9. </span>Padrões de mapeamento<a class="headerlink" href="#mapping-patterns" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Um padrão de mapeamento contém um ou mais padrões de chave-valor. A sintaxe é similar à construção de um dicionário. Sintaxe:</p>
<pre>
<strong id="grammar-token-python-grammar-mapping_pattern">mapping_pattern</strong>     ::= &quot;{&quot; [<a class="reference internal" href="#grammar-token-python-grammar-items_pattern"><code class="xref docutils literal notranslate"><span class="pre">items_pattern</span></code></a>] &quot;}&quot;
<strong id="grammar-token-python-grammar-items_pattern">items_pattern</strong>       ::= &quot;,&quot;.<a class="reference internal" href="#grammar-token-python-grammar-key_value_pattern"><code class="xref docutils literal notranslate"><span class="pre">key_value_pattern</span></code></a>+ &quot;,&quot;?
<strong id="grammar-token-python-grammar-key_value_pattern">key_value_pattern</strong>   ::= (<a class="reference internal" href="#grammar-token-python-grammar-literal_pattern"><code class="xref docutils literal notranslate"><span class="pre">literal_pattern</span></code></a> | <a class="reference internal" href="#grammar-token-python-grammar-value_pattern"><code class="xref docutils literal notranslate"><span class="pre">value_pattern</span></code></a>) &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-pattern"><code class="xref docutils literal notranslate"><span class="pre">pattern</span></code></a>
                        | <a class="reference internal" href="#grammar-token-python-grammar-double_star_pattern"><code class="xref docutils literal notranslate"><span class="pre">double_star_pattern</span></code></a>
<strong id="grammar-token-python-grammar-double_star_pattern">double_star_pattern</strong> ::= &quot;**&quot; <a class="reference internal" href="#grammar-token-python-grammar-capture_pattern"><code class="xref docutils literal notranslate"><span class="pre">capture_pattern</span></code></a>
</pre>
<p class="translated">No máximo um padrão de estrela dupla pode estar em um padrão de mapeamento. O padrão de estrela dupla deve ser o último subpadrão no padrão de mapeamento.</p>
<p class="translated">Chaves duplicadas em padrões de mapeamento não são permitidas. Chaves literais duplicadas levantarão um <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a>. Duas chaves que de outra forma têm o mesmo valor levantarão <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> em tempo de execução.</p>
<p class="translated">A seguir está o fluxo lógico para comparar um padrão de mapeamento com um valor de assunto:</p>
<ol class="arabic simple">
<li><p class="translated">Se o valor do assunto não for um mapeamento <a class="footnote-reference brackets" href="#id22" id="id13" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>, o padrão de mapeamento falhará.</p></li>
<li><p class="translated">Se cada chave fornecida no padrão de mapeamento estiver presente no mapeamento de assunto, e o padrão para cada chave corresponder ao item correspondente do mapeamento de assunto, o padrão de mapeamento será bem-sucedido.</p></li>
<li><p class="translated">Se chaves duplicadas forem detectadas no padrão de mapeamento, o padrão será considerado inválido. Uma exceção <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> é levantada para valores literais duplicados; ou <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> para chaves nomeadas do mesmo valor.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">Os pares de chave-valor são correspondidos usando o formato de dois argumentos do método <code class="docutils literal notranslate"><span class="pre">get()</span></code> do assunto do mapeamento. Os pares de chave-valor correspondidos já devem estar presentes no mapeamento e não devem ser criados em tempo de uso via <code class="xref py py-meth docutils literal notranslate"><span class="pre">__missing__()</span></code> ou <a class="reference internal" href="datamodel.html#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a>.</p>
</div>
<p class="translated">Em termos simples, <code class="docutils literal notranslate"><span class="pre">{KEY1:</span> <span class="pre">P1,</span> <span class="pre">KEY2:</span> <span class="pre">P2,</span> <span class="pre">...</span> <span class="pre">}</span></code> corresponde somente se tudo o seguinte acontecer:</p>
<ul class="simple">
<li><p class="translated">verifica se <code class="docutils literal notranslate"><span class="pre">&lt;assunto&gt;</span></code> é um mapeamento</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">KEY1</span> <span class="pre">in</span> <span class="pre">&lt;assunto&gt;</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">P1</span></code> corresponde a <code class="docutils literal notranslate"><span class="pre">&lt;assunto&gt;[KEY1]</span></code></p></li>
<li><p class="translated">… e assim por diante para o par KEY/elemento correspondente.</p></li>
</ul>
</section>
<section id="class-patterns">
<span id="id14"></span><h4 class="translated"><span class="section-number">8.6.4.10. </span>Padrões de classe<a class="headerlink" href="#class-patterns" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Um padrão de classe representa uma classe e seus argumentos nomeados e posicionais (se houver). Sintaxe:</p>
<pre>
<strong id="grammar-token-python-grammar-class_pattern">class_pattern</strong>       ::= <a class="reference internal" href="#grammar-token-python-grammar-name_or_attr"><code class="xref docutils literal notranslate"><span class="pre">name_or_attr</span></code></a> &quot;(&quot; [<a class="reference internal" href="#grammar-token-python-grammar-pattern_arguments"><code class="xref docutils literal notranslate"><span class="pre">pattern_arguments</span></code></a> &quot;,&quot;?] &quot;)&quot;
<strong id="grammar-token-python-grammar-pattern_arguments">pattern_arguments</strong>   ::= <a class="reference internal" href="#grammar-token-python-grammar-positional_patterns"><code class="xref docutils literal notranslate"><span class="pre">positional_patterns</span></code></a> [&quot;,&quot; <a class="reference internal" href="#grammar-token-python-grammar-keyword_patterns"><code class="xref docutils literal notranslate"><span class="pre">keyword_patterns</span></code></a>]
                        | <a class="reference internal" href="#grammar-token-python-grammar-keyword_patterns"><code class="xref docutils literal notranslate"><span class="pre">keyword_patterns</span></code></a>
<strong id="grammar-token-python-grammar-positional_patterns">positional_patterns</strong> ::= &quot;,&quot;.<a class="reference internal" href="#grammar-token-python-grammar-pattern"><code class="xref docutils literal notranslate"><span class="pre">pattern</span></code></a>+
<strong id="grammar-token-python-grammar-keyword_patterns">keyword_patterns</strong>    ::= &quot;,&quot;.<a class="reference internal" href="#grammar-token-python-grammar-keyword_pattern"><code class="xref docutils literal notranslate"><span class="pre">keyword_pattern</span></code></a>+
<strong id="grammar-token-python-grammar-keyword_pattern">keyword_pattern</strong>     ::= NAME &quot;=&quot; <a class="reference internal" href="#grammar-token-python-grammar-pattern"><code class="xref docutils literal notranslate"><span class="pre">pattern</span></code></a>
</pre>
<p class="translated">O mesmo argumento nomeado não deve ser repetido em padrões de classe.</p>
<p class="translated">A seguir está o fluxo lógico para corresponder a um padrão de classe com um valor de assunto:</p>
<ol class="arabic">
<li><p class="translated">Se <code class="docutils literal notranslate"><span class="pre">name_or_attr</span></code> não for uma instância do tipo embutido <a class="reference internal" href="../library/functions.html#type" title="type"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a> , levanta <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>.</p></li>
<li><p class="translated">Se o valor do assunto não for uma instância de <code class="docutils literal notranslate"><span class="pre">name_or_attr</span></code> (testado via <a class="reference internal" href="../library/functions.html#isinstance" title="isinstance"><code class="xref py py-func docutils literal notranslate"><span class="pre">isinstance()</span></code></a>), o padrão de classe falhará.</p></li>
<li><p class="translated">Se nenhum argumento de padrão estiver presente, o padrão é bem-sucedido. Caso contrário, as etapas subsequentes dependem se os padrões de argumento posicional ou nomeado estão presentes.</p>
<p class="translated">Para vários tipos embutidos (especificados abaixo), um único subpadrão posicional é aceito, o qual corresponderá a todo o assunto; para esses tipos, os padrões de argumentos nomeados também funcionam como para outros tipos.</p>
<p class="translated">Se apenas padrões de argumentos nomeados estiverem presentes, eles serão processados da seguinte forma, um por um:</p>
<p class="translated">I. A palavra-chave é procurada como um atributo no assunto.</p>
<blockquote>
<div><ul class="simple">
<li><p class="translated">Se isso levantar uma exceção diferente de <a class="reference internal" href="../library/exceptions.html#AttributeError" title="AttributeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a>, a exceção será exibida.</p></li>
<li><p class="translated">Se isso levantar <a class="reference internal" href="../library/exceptions.html#AttributeError" title="AttributeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a>, o padrão de classe falhou.</p></li>
<li><p class="translated">Caso contrário, o subpadrão associado ao padrão de argumento nomeado é correspondido ao valor de atributo do sujeito. Se isso falhar, o padrão de classe falha; se isso for bem-sucedido, a correspondência prossegue para o próximo argumento nomeado.</p></li>
</ul>
</div></blockquote>
<p class="translated">II. Se todos os padrões de argumento nomeado forem bem-sucedidos, o padrão de classe será bem-sucedido.</p>
<p class="translated">Se houver algum padrão posicional presente, ele será convertido em padrões de argumento nomeado usando o atributo <a class="reference internal" href="datamodel.html#object.__match_args__" title="object.__match_args__"><code class="xref py py-data docutils literal notranslate"><span class="pre">__match_args__</span></code></a> na classe <code class="docutils literal notranslate"><span class="pre">name_or_attr</span></code> antes da correspondência:</p>
<p class="translated">I. O equivalente de <code class="docutils literal notranslate"><span class="pre">getattr(cls,</span> <span class="pre">&quot;__match_args__&quot;,</span> <span class="pre">())</span></code> é chamado.</p>
<blockquote>
<div><ul class="simple">
<li><p class="translated">Se isso levantar uma exceção, a exceção surgirá.</p></li>
<li><p class="translated">Se o valor retornado não for uma tupla, a conversão falhará e <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> será levantada.</p></li>
<li><p class="translated">Se houver mais padrões posicionais do que <code class="docutils literal notranslate"><span class="pre">len(cls.__match_args__)</span></code>, <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> será levantada.</p></li>
<li><p class="translated">Caso contrário, o padrão posicional <code class="docutils literal notranslate"><span class="pre">i</span></code> é convertido em um padrão de argumento nomeado usando <code class="docutils literal notranslate"><span class="pre">__match_args__[i]</span></code> como argumento nomeado. <code class="docutils literal notranslate"><span class="pre">__match_args__[i]</span></code> deve ser uma string; caso contrário, <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> é levantada.</p></li>
<li><p class="translated">Se houver argumentos nomeados duplicados, <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> será levantada.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">Ver também</p>
<p class="translated"><a class="reference internal" href="datamodel.html#class-pattern-matching"><span class="std std-ref">Customizando argumentos posicionais na classe correspondência de padrão</span></a></p>
</div>
</div></blockquote>
<dl class="simple">
<dt class="translated">II. Uma vez que todos os padrões posicionais foram convertidos em padrões de argumentos nomeados,</dt><dd><p class="translated">a partida prossegue como se houvesse apenas padrões de argumentos nomeados.</p>
</dd>
</dl>
<p class="translated">Para os seguintes tipos embutidos, o tratamento de subpadrões posicionais é diferente:</p>
<ul class="simple">
<li><p class="translated"><a class="reference internal" href="../library/functions.html#bool" title="bool"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/stdtypes.html#bytearray" title="bytearray"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytearray</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/functions.html#float" title="float"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/stdtypes.html#frozenset" title="frozenset"><code class="xref py py-class docutils literal notranslate"><span class="pre">frozenset</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/stdtypes.html#set" title="set"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/stdtypes.html#tuple" title="tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p></li>
</ul>
<p class="translated">Essas classes aceitam um único argumento posicional, e o padrão ali é correspondido ao objeto inteiro em vez de um atributo. Por exemplo, <code class="docutils literal notranslate"><span class="pre">int(0|1)</span></code> corresponde ao valor <code class="docutils literal notranslate"><span class="pre">0</span></code>, mas não ao valor <code class="docutils literal notranslate"><span class="pre">0.0</span></code>.</p>
</li>
</ol>
<p class="translated">Em termos simples, <code class="docutils literal notranslate"><span class="pre">CLS(P1,</span> <span class="pre">attr=P2)</span></code> corresponde somente se o seguinte acontecer:</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">isinstance(&lt;assunto&gt;,</span> <span class="pre">CLS)</span></code></p></li>
<li><p class="translated">converte <code class="docutils literal notranslate"><span class="pre">P1</span></code> em um padrão de argumento nomeado usando <code class="docutils literal notranslate"><span class="pre">CLS.__match_args__</span></code></p></li>
<li><p class="translated">Para cada argumento de palavra-chave <code class="docutils literal notranslate"><span class="pre">attr=P2</span></code>:</p>
<ul>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">hasattr(&lt;assunto&gt;,</span> <span class="pre">&quot;attr&quot;)</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">P2</span></code> corresponde a <code class="docutils literal notranslate"><span class="pre">&lt;assunto&gt;.attr</span></code></p></li>
</ul>
</li>
<li><p class="translated">… e assim por diante para o par argumento nomeado/elemento correspondente.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">Ver também</p>
<ul class="simple">
<li><p class="translated"><span class="target" id="index-25"></span><a class="pep reference external" href="https://peps.python.org/pep-0634/"><strong>PEP 634</strong></a> – Structural Pattern Matching: Specification</p></li>
<li><p class="translated"><span class="target" id="index-77"></span><a class="pep reference external" href="https://peps.python.org/pep-0636/"><strong>PEP 636</strong></a> – Correspondência de padrões estruturais: Tutorial</p></li>
</ul>
</div>
</section>
</section>
</section>
<section id="function-definitions">
<span id="def"></span><span id="function"></span><span id="index-27"></span><h2 class="translated"><span class="section-number">8.7. </span>Definições de função<a class="headerlink" href="#function-definitions" title="Link para este cabeçalho">¶</a></h2>
<p class="translated" id="index-28">Uma definição de função define um objeto função definido pelo usuário (veja a seção <a class="reference internal" href="datamodel.html#types"><span class="std std-ref">A hierarquia de tipos padrão</span></a>):</p>
<pre>
<strong id="grammar-token-python-grammar-funcdef">funcdef</strong>                   ::= [<a class="reference internal" href="#grammar-token-python-grammar-decorators"><code class="xref docutils literal notranslate"><span class="pre">decorators</span></code></a>] &quot;def&quot; <a class="reference internal" href="#grammar-token-python-grammar-funcname"><code class="xref docutils literal notranslate"><span class="pre">funcname</span></code></a> [<a class="reference internal" href="#grammar-token-python-grammar-type_params"><code class="xref docutils literal notranslate"><span class="pre">type_params</span></code></a>] &quot;(&quot; [<a class="reference internal" href="#grammar-token-python-grammar-parameter_list"><code class="xref docutils literal notranslate"><span class="pre">parameter_list</span></code></a>] &quot;)&quot;
                              [&quot;-&gt;&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-expression"><code class="xref docutils literal notranslate"><span class="pre">expression</span></code></a>] &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>
<strong id="grammar-token-python-grammar-decorators">decorators</strong>                ::= <a class="reference internal" href="#grammar-token-python-grammar-decorator"><code class="xref docutils literal notranslate"><span class="pre">decorator</span></code></a>+
<strong id="grammar-token-python-grammar-decorator">decorator</strong>                 ::= &quot;&#64;&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-assignment_expression"><code class="xref docutils literal notranslate"><span class="pre">assignment_expression</span></code></a> NEWLINE
<strong id="grammar-token-python-grammar-parameter_list">parameter_list</strong>            ::= <a class="reference internal" href="#grammar-token-python-grammar-defparameter"><code class="xref docutils literal notranslate"><span class="pre">defparameter</span></code></a> (&quot;,&quot; <a class="reference internal" href="#grammar-token-python-grammar-defparameter"><code class="xref docutils literal notranslate"><span class="pre">defparameter</span></code></a>)* &quot;,&quot; &quot;/&quot; [&quot;,&quot; [<a class="reference internal" href="#grammar-token-python-grammar-parameter_list_no_posonly"><code class="xref docutils literal notranslate"><span class="pre">parameter_list_no_posonly</span></code></a>]]
                              | <a class="reference internal" href="#grammar-token-python-grammar-parameter_list_no_posonly"><code class="xref docutils literal notranslate"><span class="pre">parameter_list_no_posonly</span></code></a>
<strong id="grammar-token-python-grammar-parameter_list_no_posonly">parameter_list_no_posonly</strong> ::= <a class="reference internal" href="#grammar-token-python-grammar-defparameter"><code class="xref docutils literal notranslate"><span class="pre">defparameter</span></code></a> (&quot;,&quot; <a class="reference internal" href="#grammar-token-python-grammar-defparameter"><code class="xref docutils literal notranslate"><span class="pre">defparameter</span></code></a>)* [&quot;,&quot; [<a class="reference internal" href="#grammar-token-python-grammar-parameter_list_starargs"><code class="xref docutils literal notranslate"><span class="pre">parameter_list_starargs</span></code></a>]]
                              | <a class="reference internal" href="#grammar-token-python-grammar-parameter_list_starargs"><code class="xref docutils literal notranslate"><span class="pre">parameter_list_starargs</span></code></a>
<strong id="grammar-token-python-grammar-parameter_list_starargs">parameter_list_starargs</strong>   ::= &quot;*&quot; [<a class="reference internal" href="#grammar-token-python-grammar-star_parameter"><code class="xref docutils literal notranslate"><span class="pre">star_parameter</span></code></a>] (&quot;,&quot; <a class="reference internal" href="#grammar-token-python-grammar-defparameter"><code class="xref docutils literal notranslate"><span class="pre">defparameter</span></code></a>)* [&quot;,&quot; [<a class="reference internal" href="#grammar-token-python-grammar-parameter_star_kwargs"><code class="xref docutils literal notranslate"><span class="pre">parameter_star_kwargs</span></code></a>]]
                              | &quot;*&quot; (&quot;,&quot; <a class="reference internal" href="#grammar-token-python-grammar-defparameter"><code class="xref docutils literal notranslate"><span class="pre">defparameter</span></code></a>)+ [&quot;,&quot; [<a class="reference internal" href="#grammar-token-python-grammar-parameter_star_kwargs"><code class="xref docutils literal notranslate"><span class="pre">parameter_star_kwargs</span></code></a>]]
                              | <a class="reference internal" href="#grammar-token-python-grammar-parameter_star_kwargs"><code class="xref docutils literal notranslate"><span class="pre">parameter_star_kwargs</span></code></a>
<strong id="grammar-token-python-grammar-parameter_star_kwargs">parameter_star_kwargs</strong>     ::= &quot;**&quot; <a class="reference internal" href="#grammar-token-python-grammar-parameter"><code class="xref docutils literal notranslate"><span class="pre">parameter</span></code></a> [&quot;,&quot;]
<strong id="grammar-token-python-grammar-parameter">parameter</strong>                 ::= <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> [&quot;:&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-expression"><code class="xref docutils literal notranslate"><span class="pre">expression</span></code></a>]
<strong id="grammar-token-python-grammar-star_parameter">star_parameter</strong>            ::= <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> [&quot;:&quot; [&quot;*&quot;] <a class="reference internal" href="expressions.html#grammar-token-python-grammar-expression"><code class="xref docutils literal notranslate"><span class="pre">expression</span></code></a>]
<strong id="grammar-token-python-grammar-defparameter">defparameter</strong>              ::= <a class="reference internal" href="#grammar-token-python-grammar-parameter"><code class="xref docutils literal notranslate"><span class="pre">parameter</span></code></a> [&quot;=&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-expression"><code class="xref docutils literal notranslate"><span class="pre">expression</span></code></a>]
<strong id="grammar-token-python-grammar-funcname">funcname</strong>                  ::= <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a>
</pre>
<p class="translated">Uma definição de função é uma instrução executável. Sua execução vincula o nome da função no espaço de nomes local atual a um objeto função (um invólucro em torno do código executável para a função). Este objeto função contém uma referência ao espaço de nomes global atual como o espaço de nomes global a ser usado quando a função é chamada.</p>
<p class="translated">A definição da função não executa o corpo da função; ela é executada somente quando a função é chamada. <a class="footnote-reference brackets" href="#id23" id="id15" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a></p>
<p class="translated" id="index-29">Uma definição de função pode ser encapsulada por uma ou mais expressões <a class="reference internal" href="../glossary.html#term-decorator"><span class="xref std std-term">decoradoras</span></a>. Expressões decoradoras são avaliadas quando a função é definida, no escopo que contém a definição da função. O resultado deve ser um chamável, que é invocado com o objeto de função como o único argumento. O valor retornado é vinculado ao nome da função em vez do objeto de função. Vários decoradores são aplicados de forma aninhada. Por exemplo, o código a seguir</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@f1</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
<span class="nd">@f2</span>
<span class="k">def</span><span class="w"> </span><span class="nf">func</span><span class="p">():</span> <span class="k">pass</span>
</pre></div>
</div>
<p class="translated">é aproximadamente equivalente a</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">func</span><span class="p">():</span> <span class="k">pass</span>
<span class="n">func</span> <span class="o">=</span> <span class="n">f1</span><span class="p">(</span><span class="n">arg</span><span class="p">)(</span><span class="n">f2</span><span class="p">(</span><span class="n">func</span><span class="p">))</span>
</pre></div>
</div>
<p class="translated">exceto que a função original não está temporariamente vinculada ao nome <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.9: </span>Funções podem ser decoradas com qualquer <a class="reference internal" href="expressions.html#grammar-token-python-grammar-assignment_expression"><code class="xref std std-token docutils literal notranslate"><span class="pre">assignment_expression</span></code></a> válida. Anteriormente, a gramática era muito mais restritiva; veja <span class="target" id="index-78"></span><a class="pep reference external" href="https://peps.python.org/pep-0614/"><strong>PEP 614</strong></a> para detalhes.</p>
</div>
<p class="translated">Uma lista de <a class="reference internal" href="#type-params"><span class="std std-ref">parâmetros de tipo</span></a> pode ser dada entre colchetes entre o nome da função e o parêntese de abertura para sua lista de parâmetros. Isso indica aos verificadores de tipo estático que a função é genérica. Em tempo de execução, os parâmetros de tipo podem ser recuperados do atributo <a class="reference internal" href="datamodel.html#function.__type_params__" title="function.__type_params__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__type_params__</span></code></a> da função. Veja <a class="reference internal" href="#generic-functions"><span class="std std-ref">Funções genéricas</span></a> para mais.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.12: </span>Listas de parâmetros de tipo são novas no Python 3.12.</p>
</div>
<p class="translated" id="index-31">Quando um ou mais <a class="reference internal" href="../glossary.html#term-parameter"><span class="xref std std-term">parâmetros</span></a> têm a forma <em>parameter</em> <code class="docutils literal notranslate"><span class="pre">=</span></code> <em>expression</em>, diz-se que a função tem “valores de parâmetro padrão”. Para um parâmetro com um valor padrão, o <a class="reference internal" href="../glossary.html#term-argument"><span class="xref std std-term">argumento</span></a> correspondente pode ser omitido de uma chamada, em cujo caso o valor padrão do parâmetro é substituído. Se um parâmetro tiver um valor padrão, todos os parâmetros seguintes até “<code class="docutils literal notranslate"><span class="pre">*</span></code>” também devem ter um valor padrão — esta é uma restrição sintática que não é expressa pela gramática.</p>
<p class="translated"><strong>Os valores de parâmetro padrão são avaliados da esquerda para a direita quando a definição da função é executada.</strong> Isso significa que a expressão é avaliada uma vez, quando a função é definida, e que o mesmo valor “pré-calculado” é usado para cada chamada. Isso é especialmente importante para entender quando um valor de parâmetro padrão é um objeto mutável, como uma lista ou um dicionário: se a função modifica o objeto (por exemplo, anexando um item a uma lista), o valor de parâmetro padrão é efetivamente modificado. Isso geralmente não é o que se pretendia. Uma maneira de contornar isso é usar <code class="docutils literal notranslate"><span class="pre">None</span></code> como o padrão e testá-lo explicitamente no corpo da função, por exemplo:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">whats_on_the_telly</span><span class="p">(</span><span class="n">penguin</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">penguin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">penguin</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">penguin</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;property of the zoo&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">penguin</span>
</pre></div>
</div>
<p class="translated" id="index-32">A semântica de chamada de função é descrita em mais detalhes na seção <a class="reference internal" href="expressions.html#calls"><span class="std std-ref">Chamadas</span></a>. Uma chamada de função sempre atribui valores a todos os parâmetros mencionados na lista de parâmetros, seja de argumentos posicionais, de argumentos nomeados ou de valores padrão. Se o formato “<code class="docutils literal notranslate"><span class="pre">*identifier</span></code>” estiver presente, ele será inicializado para uma tupla que recebe quaisquer parâmetros posicionais excedentes, padronizando para a tupla vazia. Se o formato “<code class="docutils literal notranslate"><span class="pre">**identifier</span></code>” estiver presente, ele será inicializado para um novo mapeamento ordenado que recebe quaisquer argumentos nomeados excedentes, padronizando para um novo mapeamento vazio do mesmo tipo. Parâmetros após “<code class="docutils literal notranslate"><span class="pre">*</span></code>” ou “<code class="docutils literal notranslate"><span class="pre">*identifier</span></code>” são parâmetros somente-nomeados e podem ser passados somente por argumentos nomeados. Parâmetros antes de “<code class="docutils literal notranslate"><span class="pre">/</span></code>” são parâmetros somente-posicionais e podem ser passados somente por argumentos posicionais.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.8: </span>A sintaxe do parâmetro de função <code class="docutils literal notranslate"><span class="pre">/</span></code> pode ser usada para indicar parâmetros somente-posicionais. Veja <span class="target" id="index-79"></span><a class="pep reference external" href="https://peps.python.org/pep-0570/"><strong>PEP 570</strong></a> para detalhes.</p>
</div>
<p class="translated" id="index-34">Os parâmetros podem ter uma <a class="reference internal" href="../glossary.html#term-function-annotation"><span class="xref std std-term">anotação</span></a> do formato “<code class="docutils literal notranslate"><span class="pre">:</span> <span class="pre">expressão</span></code>” após o nome do parâmetro. Qualquer parâmetro pode ter uma anotação, mesmo aqueles do formato <code class="docutils literal notranslate"><span class="pre">*identificador</span></code> ou <code class="docutils literal notranslate"><span class="pre">**identificador</span></code>. (Como um caso especial, parâmetros do formato <code class="docutils literal notranslate"><span class="pre">*identificador</span></code> podem ter uma anotação “<code class="docutils literal notranslate"><span class="pre">:</span> <span class="pre">*expressão</span></code>”.) As funções podem ter uma anotação “return” do formato “<code class="docutils literal notranslate"><span class="pre">-&gt;</span> <span class="pre">expressão</span></code>” após a lista de parâmetros. Essas anotações podem ser qualquer expressão Python válida. A presença de anotações não altera a semântica de uma função. Os valores de anotação estão disponíveis como valores de um dicionário indexados pelos nomes dos parâmetros no atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">__annotations__</span></code> do objeto função. Se a importação de <code class="docutils literal notranslate"><span class="pre">annotations</span></code> de <a class="reference internal" href="../library/__future__.html#module-__future__" title="__future__: Future statement definitions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">__future__</span></code></a> for usada, as anotações serão preservadas como strings em tempo de execução, o que permite avaliação adiada. Caso contrário, elas são avaliadas quando a definição da função é executada. Nesse caso, as anotações podem ser avaliadas em uma ordem diferente daquela em que aparecem no código-fonte.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.11: </span>Parâmetros do formato “<code class="docutils literal notranslate"><span class="pre">*identificador</span></code>” podem ter uma anotação “<code class="docutils literal notranslate"><span class="pre">:</span> <span class="pre">*expressão</span></code>”. Veja <span class="target" id="index-80"></span><a class="pep reference external" href="https://peps.python.org/pep-0646/"><strong>PEP 646</strong></a>.</p>
</div>
<p class="translated" id="index-36">Também é possível criar funções anônimas (funções não vinculadas a um nome), para uso imediato em expressões. Isso usa expressões lambda, descritas na seção <a class="reference internal" href="expressions.html#lambda"><span class="std std-ref">Lambdas</span></a>. Observe que a expressão lambda é meramente uma abreviação para uma definição de função simplificada; uma função definida em uma instrução “<a class="reference internal" href="#def"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">def</span></code></a>” pode ser passada adiante ou atribuída a outro nome, assim como uma função definida por uma expressão lambda. O formato “<code class="xref std std-keyword docutils literal notranslate"><span class="pre">def</span></code>” é, na verdade, mais poderoso, pois permite a execução de várias instruções e anotações.</p>
<p class="translated"><strong>Nota do programador:</strong> funções são objetos de primeira classe. Uma instrução “<code class="docutils literal notranslate"><span class="pre">def</span></code>” executada dentro de uma definição de função define uma função local que pode ser retornada ou passada adiante. Variáveis livres usadas na função aninhada podem acessar as variáveis locais da função que contém o “def”. Veja a seção <a class="reference internal" href="executionmodel.html#naming"><span class="std std-ref">Nomeação e ligação</span></a> para detalhes.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver também</p>
<dl class="simple">
<dt class="translated"><span class="target" id="index-81"></span><a class="pep reference external" href="https://peps.python.org/pep-3107/"><strong>PEP 3107</strong></a> - Anotações de função</dt><dd><p class="translated">A especificação original para anotações de funções.</p>
</dd>
<dt class="translated"><span class="target" id="index-82"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> - Dicas de tipo</dt><dd><p class="translated">Definição de um significado padrão para anotações: dicas de tipo.</p>
</dd>
<dt class="translated"><span class="target" id="index-83"></span><a class="pep reference external" href="https://peps.python.org/pep-0526/"><strong>PEP 526</strong></a> - Sintaxe para anotações de variáveis</dt><dd><p class="translated">Capacidade de fornecer dica de tipo para declarações de variáveis, incluindo variáveis de classe e variáveis de instância.</p>
</dd>
<dt class="translated"><span class="target" id="index-84"></span><a class="pep reference external" href="https://peps.python.org/pep-0563/"><strong>PEP 563</strong></a> - Avaliação postergada de anotações</dt><dd><p class="translated">Suporte para referências futuras dentro de anotações, preservando anotações em um formato de string em tempo de execução em vez de avaliação antecipada.</p>
</dd>
<dt class="translated"><span class="target" id="index-85"></span><a class="pep reference external" href="https://peps.python.org/pep-0318/"><strong>PEP 318</strong></a> - Decoradores para funções e métodos</dt><dd><p class="translated">Decoradores de função e método foram introduzidos. Decoradores de classe foram introduzidos na <span class="target" id="index-86"></span><a class="pep reference external" href="https://peps.python.org/pep-3129/"><strong>PEP 3129</strong></a>.</p>
</dd>
</dl>
</div>
</section>
<section id="class-definitions">
<span id="class"></span><h2 class="translated"><span class="section-number">8.8. </span>Definições de classe<a class="headerlink" href="#class-definitions" title="Link para este cabeçalho">¶</a></h2>
<p class="translated" id="index-43">Uma definição de classe define um objeto classe (veja a seção <a class="reference internal" href="datamodel.html#types"><span class="std std-ref">A hierarquia de tipos padrão</span></a>):</p>
<pre>
<strong id="grammar-token-python-grammar-classdef">classdef</strong>    ::= [<a class="reference internal" href="#grammar-token-python-grammar-decorators"><code class="xref docutils literal notranslate"><span class="pre">decorators</span></code></a>] &quot;class&quot; <a class="reference internal" href="#grammar-token-python-grammar-classname"><code class="xref docutils literal notranslate"><span class="pre">classname</span></code></a> [<a class="reference internal" href="#grammar-token-python-grammar-type_params"><code class="xref docutils literal notranslate"><span class="pre">type_params</span></code></a>] [<a class="reference internal" href="#grammar-token-python-grammar-inheritance"><code class="xref docutils literal notranslate"><span class="pre">inheritance</span></code></a>] &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>
<strong id="grammar-token-python-grammar-inheritance">inheritance</strong> ::= &quot;(&quot; [<a class="reference internal" href="expressions.html#grammar-token-python-grammar-argument_list"><code class="xref docutils literal notranslate"><span class="pre">argument_list</span></code></a>] &quot;)&quot;
<strong id="grammar-token-python-grammar-classname">classname</strong>   ::= <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a>
</pre>
<p class="translated">Uma definição de classe é uma instrução executável. A lista de herança geralmente fornece uma lista de classes base (veja <a class="reference internal" href="datamodel.html#metaclasses"><span class="std std-ref">Metaclasses</span></a> para usos mais avançados), então cada item na lista deve ser executada como um objeto classe que permite extensão via subclasse. Classes sem uma lista de herança herdam, por padrão, da classe base <a class="reference internal" href="../library/functions.html#object" title="object"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a>; portanto,</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Foo</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p class="translated">equivale a</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p class="translated">O conjunto da classe é então executado em um novo quadro de execução (veja <a class="reference internal" href="executionmodel.html#naming"><span class="std std-ref">Nomeação e ligação</span></a>), usando um espaço de nomes local recém-criado e o espaço de nomes global original. (Normalmente, o conjunto contém principalmente definições de função.) Quando o conjunto da classe termina a execução, seu quadro de execução é descartado, mas seu espaço de nomes local é salvo. <a class="footnote-reference brackets" href="#id24" id="id16" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a> Um objeto classe é então criado usando a lista de herança para as classes base e o espaço de nomes local salvo para o dicionário de atributos. O nome da classe é vinculado a este objeto classe no espaço de nomes local original.</p>
<p class="translated">A ordem em que os atributos são definidos no corpo da classe é preservada no <a class="reference internal" href="datamodel.html#type.__dict__" title="type.__dict__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__dict__</span></code></a> da nova classe. Observe que isso é confiável somente logo após a classe ser criada e somente para classes que foram definidas usando a sintaxe de definição.</p>
<p class="translated">A criação de classes pode ser bastante personalizada usando <a class="reference internal" href="datamodel.html#metaclasses"><span class="std std-ref">metaclasses</span></a>.</p>
<p class="translated" id="index-44">As classes também podem ser decoradas: assim como na decoração de funções,</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@f1</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
<span class="nd">@f2</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Foo</span><span class="p">:</span> <span class="k">pass</span>
</pre></div>
</div>
<p class="translated">é aproximadamente equivalente a</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Foo</span><span class="p">:</span> <span class="k">pass</span>
<span class="n">Foo</span> <span class="o">=</span> <span class="n">f1</span><span class="p">(</span><span class="n">arg</span><span class="p">)(</span><span class="n">f2</span><span class="p">(</span><span class="n">Foo</span><span class="p">))</span>
</pre></div>
</div>
<p class="translated">As regras de execução para as expressões de decorador são as mesmas que para decoradores de função. O resultado é então vinculado ao nome da classe.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.9: </span>Classes podem ser decoradas com qualquer <a class="reference internal" href="expressions.html#grammar-token-python-grammar-assignment_expression"><code class="xref std std-token docutils literal notranslate"><span class="pre">assignment_expression</span></code></a> válida. Anteriormente, a gramática era muito mais restritiva; veja <span class="target" id="index-87"></span><a class="pep reference external" href="https://peps.python.org/pep-0614/"><strong>PEP 614</strong></a> para detalhes.</p>
</div>
<p class="translated">Uma lista de <a class="reference internal" href="#type-params"><span class="std std-ref">parâmetros de tipo</span></a> pode ser dada entre colchetes imediatamente após o nome da classe. Isso indica aos verificadores de tipo estático que a classe é genérica. Em tempo de execução, os parâmetros de tipo podem ser recuperados do atributo <a class="reference internal" href="datamodel.html#type.__type_params__" title="type.__type_params__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__type_params__</span></code></a> da classe. Veja <a class="reference internal" href="#generic-classes"><span class="std std-ref">Classes genéricas</span></a> para mais.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.12: </span>Listas de parâmetros de tipo são novas no Python 3.12.</p>
</div>
<p class="translated"><strong>Nota do programador:</strong> Variáveis definidas na definição de classe são atributos de classe; elas são compartilhadas por instâncias. Atributos de instância podem ser definidos em um método com <code class="docutils literal notranslate"><span class="pre">self.nome</span> <span class="pre">=</span> <span class="pre">valor</span></code>. Atributos de classe e instância são acessíveis por meio da notação “<code class="docutils literal notranslate"><span class="pre">self.nome</span></code>”, e um atributo de instância oculta um atributo de classe com o mesmo nome quando acessado dessa forma. Atributos de classe podem ser usados como padrões para atributos de instância, mas usar valores mutáveis pode levar a resultados inesperados. <a class="reference internal" href="datamodel.html#descriptors"><span class="std std-ref">Descritores</span></a> podem ser usados para criar variáveis de instância com diferentes detalhes de implementação.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver também</p>
<dl class="simple">
<dt class="translated"><span class="target" id="index-88"></span><a class="pep reference external" href="https://peps.python.org/pep-3115/"><strong>PEP 3115</strong></a> - Metaclasses no Python 3000</dt><dd><p class="translated">A proposta que alterou a declaração de metaclasses para a sintaxe atual e a semântica de como as classes com metaclasses são construídas.</p>
</dd>
<dt class="translated"><span class="target" id="index-47"></span><a class="pep reference external" href="https://peps.python.org/pep-3129/"><strong>PEP 3129</strong></a> - Class Decorators</dt><dd><p class="translated">A proposta que adicionou decoradores de classe. Decoradores de função e método foram introduzidos na <span class="target" id="index-89"></span><a class="pep reference external" href="https://peps.python.org/pep-0318/"><strong>PEP 318</strong></a>.</p>
</dd>
</dl>
</div>
</section>
<section id="coroutines">
<span id="async"></span><h2 class="translated"><span class="section-number">8.9. </span>Corrotinas<a class="headerlink" href="#coroutines" title="Link para este cabeçalho">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Adicionado na versão 3.5.</span></p>
</div>
<section id="coroutine-function-definition">
<span id="async-def"></span><span id="index-49"></span><h3 class="translated"><span class="section-number">8.9.1. </span>Definição de função de corrotina<a class="headerlink" href="#coroutine-function-definition" title="Link para este cabeçalho">¶</a></h3>
<pre>
<strong id="grammar-token-python-grammar-async_funcdef">async_funcdef</strong> ::= [<a class="reference internal" href="#grammar-token-python-grammar-decorators"><code class="xref docutils literal notranslate"><span class="pre">decorators</span></code></a>] &quot;async&quot; &quot;def&quot; <a class="reference internal" href="#grammar-token-python-grammar-funcname"><code class="xref docutils literal notranslate"><span class="pre">funcname</span></code></a> &quot;(&quot; [<a class="reference internal" href="#grammar-token-python-grammar-parameter_list"><code class="xref docutils literal notranslate"><span class="pre">parameter_list</span></code></a>] &quot;)&quot;
                  [&quot;-&gt;&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-expression"><code class="xref docutils literal notranslate"><span class="pre">expression</span></code></a>] &quot;:&quot; <a class="reference internal" href="#grammar-token-python-grammar-suite"><code class="xref docutils literal notranslate"><span class="pre">suite</span></code></a>
</pre>
<p class="translated" id="index-50">A execução de corrotinas do Python pode ser suspensa e retomada em muitos pontos (consulte <a class="reference internal" href="../glossary.html#term-coroutine"><span class="xref std std-term">coroutine</span></a>). As expressões <a class="reference internal" href="expressions.html#await"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">await</span></code></a>, <a class="reference internal" href="#async-for"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code></a> e <a class="reference internal" href="#async-with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span></code></a> só podem ser usadas no corpo de uma função de corrotina.</p>
<p class="translated">Funções definidas com a sintaxe <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">def</span></code> são sempre funções de corrotina, mesmo que não contenham palavras reservadas <code class="docutils literal notranslate"><span class="pre">await</span></code> ou <code class="docutils literal notranslate"><span class="pre">async</span></code>.</p>
<p class="translated">Ocorre uma <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> se usada uma expressão <code class="docutils literal notranslate"><span class="pre">yield</span> <span class="pre">from</span></code> dentro do corpo de uma função de corrotina.</p>
<p class="translated">Um exemplo de uma função de corrotina:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">func</span><span class="p">(</span><span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">):</span>
    <span class="n">faz_algo</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">alguma_corrotina</span><span class="p">()</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.7: </span><code class="docutils literal notranslate"><span class="pre">await</span></code> e <code class="docutils literal notranslate"><span class="pre">async</span></code> agora são palavras reservadas; anteriormente, elas só eram tratadas como tal dentro do corpo de uma função de corrotina.</p>
</div>
</section>
<section id="the-async-for-statement">
<span id="async-for"></span><span id="index-51"></span><h3 class="translated"><span class="section-number">8.9.2. </span>A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code><a class="headerlink" href="#the-async-for-statement" title="Link para este cabeçalho">¶</a></h3>
<pre>
<strong id="grammar-token-python-grammar-async_for_stmt">async_for_stmt</strong> ::= &quot;async&quot; <a class="reference internal" href="#grammar-token-python-grammar-for_stmt"><code class="xref docutils literal notranslate"><span class="pre">for_stmt</span></code></a>
</pre>
<p class="translated">Um <a class="reference internal" href="../glossary.html#term-asynchronous-iterable"><span class="xref std std-term">iterável assíncrono</span></a> fornece um método <code class="docutils literal notranslate"><span class="pre">__aiter__</span></code> que retorna diretamente um <a class="reference internal" href="../glossary.html#term-asynchronous-iterator"><span class="xref std std-term">iterador assíncrono</span></a>, que pode chamar código assíncrono em seu método <code class="docutils literal notranslate"><span class="pre">__anext__</span></code>.</p>
<p class="translated">A instrução <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code> permite iteração conveniente sobre iteráveis assíncronos.</p>
<p class="translated">O seguinte código:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">for</span> <span class="n">TARGET</span> <span class="ow">in</span> <span class="n">ITER</span><span class="p">:</span>
    <span class="n">SUITE</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">SUITE2</span>
</pre></div>
</div>
<p class="translated">É semanticamente equivalente a:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nb">iter</span> <span class="o">=</span> <span class="p">(</span><span class="n">ITER</span><span class="p">)</span>
<span class="nb">iter</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="nb">iter</span><span class="p">)</span><span class="o">.</span><span class="fm">__aiter__</span><span class="p">(</span><span class="nb">iter</span><span class="p">)</span>
<span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>

<span class="k">while</span> <span class="n">running</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">TARGET</span> <span class="o">=</span> <span class="k">await</span> <span class="nb">type</span><span class="p">(</span><span class="nb">iter</span><span class="p">)</span><span class="o">.</span><span class="fm">__anext__</span><span class="p">(</span><span class="nb">iter</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">StopAsyncIteration</span><span class="p">:</span>
        <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">SUITE</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">SUITE2</span>
</pre></div>
</div>
<p class="translated">Veja também <a class="reference internal" href="datamodel.html#object.__aiter__" title="object.__aiter__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__aiter__()</span></code></a> e <a class="reference internal" href="datamodel.html#object.__anext__" title="object.__anext__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__anext__()</span></code></a> para detalhes.</p>
<p class="translated">Ocorre uma <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> se usada uma instrução <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code> fora do corpo de uma função de corrotina.</p>
</section>
<section id="the-async-with-statement">
<span id="async-with"></span><span id="index-52"></span><h3 class="translated"><span class="section-number">8.9.3. </span>A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span></code><a class="headerlink" href="#the-async-with-statement" title="Link para este cabeçalho">¶</a></h3>
<pre>
<strong id="grammar-token-python-grammar-async_with_stmt">async_with_stmt</strong> ::= &quot;async&quot; <a class="reference internal" href="#grammar-token-python-grammar-with_stmt"><code class="xref docutils literal notranslate"><span class="pre">with_stmt</span></code></a>
</pre>
<p class="translated">Um <a class="reference internal" href="../glossary.html#term-asynchronous-context-manager"><span class="xref std std-term">gerenciador de contexto assíncrono</span></a> é um <a class="reference internal" href="../glossary.html#term-context-manager"><span class="xref std std-term">gerenciador de contexto</span></a> que é capaz de suspender a execução em seus métodos <em>enter</em> e <em>exit</em>.</p>
<p class="translated">O seguinte código:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">with</span> <span class="n">EXPRESSÃO</span> <span class="k">as</span> <span class="n">ALVO</span><span class="p">:</span>
    <span class="n">COMANDOS</span>
</pre></div>
</div>
<p class="translated">é semanticamente equivalente a:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">manager</span> <span class="o">=</span> <span class="p">(</span><span class="n">EXPRESSÃO</span><span class="p">)</span>
<span class="n">aenter</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">manager</span><span class="p">)</span><span class="o">.</span><span class="fm">__aenter__</span>
<span class="n">aexit</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">manager</span><span class="p">)</span><span class="o">.</span><span class="fm">__aexit__</span>
<span class="n">value</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aenter</span><span class="p">(</span><span class="n">manager</span><span class="p">)</span>
<span class="n">hit_except</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">ALVO</span> <span class="o">=</span> <span class="n">value</span>
    <span class="n">COMANDOS</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">hit_except</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="k">await</span> <span class="n">aexit</span><span class="p">(</span><span class="n">manager</span><span class="p">,</span> <span class="o">*</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()):</span>
        <span class="k">raise</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">hit_except</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">aexit</span><span class="p">(</span><span class="n">manager</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Veja também  <a class="reference internal" href="datamodel.html#object.__aenter__" title="object.__aenter__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__aenter__()</span></code></a> e <a class="reference internal" href="datamodel.html#object.__aexit__" title="object.__aexit__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__aexit__()</span></code></a> para detalhes.</p>
<p class="translated">Ocorre uma <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> se usada uma instrução <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span></code> fora do corpo de uma função de corrotina.</p>
<div class="admonition seealso">
<p class="admonition-title">Ver também</p>
<dl class="simple">
<dt class="translated"><span class="target" id="index-90"></span><a class="pep reference external" href="https://peps.python.org/pep-0492/"><strong>PEP 492</strong></a> - Corrotina com sintaxe de async e wait</dt><dd><p class="translated">A proposta que tornou as corrotinas um conceito autônomo em Python e adicionou sintaxe de suporte.</p>
</dd>
</dl>
</div>
</section>
</section>
<section id="type-parameter-lists">
<span id="type-params"></span><h2 class="translated"><span class="section-number">8.10. </span>Listas de parâmetros de tipo<a class="headerlink" href="#type-parameter-lists" title="Link para este cabeçalho">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Adicionado na versão 3.12.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Alterado na versão 3.13: </span>Foi adicionado suporte para valores padrão (veja <span class="target" id="index-91"></span><a class="pep reference external" href="https://peps.python.org/pep-0696/"><strong>PEP 696</strong></a>).</p>
</div>
<pre id="index-55">
<strong id="grammar-token-python-grammar-type_params">type_params</strong>  ::= &quot;[&quot; <a class="reference internal" href="#grammar-token-python-grammar-type_param"><code class="xref docutils literal notranslate"><span class="pre">type_param</span></code></a> (&quot;,&quot; <a class="reference internal" href="#grammar-token-python-grammar-type_param"><code class="xref docutils literal notranslate"><span class="pre">type_param</span></code></a>)* &quot;]&quot;
<strong id="grammar-token-python-grammar-type_param">type_param</strong>   ::= <a class="reference internal" href="#grammar-token-python-grammar-typevar"><code class="xref docutils literal notranslate"><span class="pre">typevar</span></code></a> | <a class="reference internal" href="#grammar-token-python-grammar-typevartuple"><code class="xref docutils literal notranslate"><span class="pre">typevartuple</span></code></a> | <a class="reference internal" href="#grammar-token-python-grammar-paramspec"><code class="xref docutils literal notranslate"><span class="pre">paramspec</span></code></a>
<strong id="grammar-token-python-grammar-typevar">typevar</strong>      ::= <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> (&quot;:&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-expression"><code class="xref docutils literal notranslate"><span class="pre">expression</span></code></a>)? (&quot;=&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-expression"><code class="xref docutils literal notranslate"><span class="pre">expression</span></code></a>)?
<strong id="grammar-token-python-grammar-typevartuple">typevartuple</strong> ::= &quot;*&quot; <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> (&quot;=&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-expression"><code class="xref docutils literal notranslate"><span class="pre">expression</span></code></a>)?
<strong id="grammar-token-python-grammar-paramspec">paramspec</strong>    ::= &quot;**&quot; <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-identifier"><code class="xref docutils literal notranslate"><span class="pre">identifier</span></code></a> (&quot;=&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-expression"><code class="xref docutils literal notranslate"><span class="pre">expression</span></code></a>)?
</pre>
<p class="translated"><a class="reference internal" href="#def"><span class="std std-ref">Funções</span></a> (incluindo <a class="reference internal" href="#async-def"><span class="std std-ref">corrotinas</span></a>), <a class="reference internal" href="#class"><span class="std std-ref">classes</span></a> e <a class="reference internal" href="simple_stmts.html#type"><span class="std std-ref">apelidos de tipo</span></a> podem conter uma lista de parâmetros de tipo:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">max</span><span class="p">[</span><span class="n">T</span><span class="p">](</span><span class="n">args</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
    <span class="o">...</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">amax</span><span class="p">[</span><span class="n">T</span><span class="p">](</span><span class="n">args</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
    <span class="o">...</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Bag</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
        <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="o">...</span>

<span class="nb">type</span> <span class="n">ListOrSet</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">|</span> <span class="nb">set</span><span class="p">[</span><span class="n">T</span><span class="p">]</span>
</pre></div>
</div>
<p class="translated">Semanticamente, isso indica que a função, classe ou apelido de tipo é genérico sobre uma variável de tipo. Essas informações são usadas principalmente por verificadores de tipo estático e, em tempo de execução, objetos genéricos se comportam muito como suas contrapartes não genéricas.</p>
<p class="translated">Parâmetros de tipo são declarados entre colchetes (<code class="docutils literal notranslate"><span class="pre">[]</span></code>) imediatamente após o nome da função, classe ou apelido de tipo. Os parâmetros de tipo são acessíveis dentro do escopo do objeto genérico, mas não em outro lugar. Assim, após uma declaração <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">func[T]():</span> <span class="pre">pass</span></code>, o nome <code class="docutils literal notranslate"><span class="pre">T</span></code> não está disponível no escopo do módulo. Abaixo, a semântica de objetos genéricos é descrita com mais precisão. O escopo de parâmetros de tipo é modelado com uma função especial (tecnicamente, um <a class="reference internal" href="executionmodel.html#annotation-scopes"><span class="std std-ref">escopo de anotação</span></a>) que encapsula a criação do objeto genérico.</p>
<p class="translated">Funções genéricas, classes e apelidos de tipo têm um atributo <a class="reference internal" href="../library/stdtypes.html#definition.__type_params__" title="definition.__type_params__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__type_params__</span></code></a> listando seus parâmetros de tipo.</p>
<p class="translated">Existem três espécies de parâmetros de tipo:</p>
<ul class="simple">
<li><p class="translated"><a class="reference internal" href="../library/typing.html#typing.TypeVar" title="typing.TypeVar"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.TypeVar</span></code></a>, introduzido por um nome simples (por exemplo, <code class="docutils literal notranslate"><span class="pre">T</span></code>). Semanticamente, isso representa um único tipo para um verificador de tipos.</p></li>
<li><p class="translated"><a class="reference internal" href="../library/typing.html#typing.TypeVarTuple" title="typing.TypeVarTuple"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.TypeVarTuple</span></code></a>, introduzido por um nome prefixado com um único asterisco (por exemplo, <code class="docutils literal notranslate"><span class="pre">*Ts</span></code>). Semanticamente, isso representa uma tupla de qualquer número de tipos.</p></li>
<li><p class="translated"><a class="reference internal" href="../library/typing.html#typing.ParamSpec" title="typing.ParamSpec"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.ParamSpec</span></code></a>, introduzido por um nome prefixado com dois asteriscos (por exemplo, <code class="docutils literal notranslate"><span class="pre">**P</span></code>). Semanticamente, isso representa os parâmetros de um chamável.</p></li>
</ul>
<p class="translated">As declarações de <a class="reference internal" href="../library/typing.html#typing.TypeVar" title="typing.TypeVar"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.TypeVar</span></code></a> podem definir delimitações (<em>bounds</em>) e restrições (<em>constraints</em>) com dois pontos (<code class="docutils literal notranslate"><span class="pre">:</span></code>) seguidos por uma expressão. Uma única expressão após os dois pontos indica uma delimitação (por exemplo, <code class="docutils literal notranslate"><span class="pre">T:</span> <span class="pre">int</span></code>). Semanticamente, isso significa que o <code class="xref py py-data docutils literal notranslate"><span class="pre">typing.TypeVar</span></code> pode representar apenas tipos que são um subtipo desse limite. Uma tupla de expressões entre parênteses após os dois pontos indica um conjunto de restrições (por exemplo, <code class="docutils literal notranslate"><span class="pre">T:</span> <span class="pre">(str,</span> <span class="pre">bytes)</span></code>). Cada membro da tupla deve ser um tipo (novamente, isso não é imposto em tempo de execução). Variáveis de tipo restrito podem assumir apenas um dos tipos na lista de restrições.</p>
<p class="translated">Para <code class="xref py py-data docutils literal notranslate"><span class="pre">typing.TypeVar</span></code>s declarados usando a sintaxe de lista de parâmetros de tipo, a delimitação e as restrições não são avaliados quando o objeto genérico é criado, mas somente quando o valor é acessado explicitamente por meio dos atributos <code class="docutils literal notranslate"><span class="pre">__bound__</span></code> e <code class="docutils literal notranslate"><span class="pre">__constraints__</span></code>. Para fazer isso, as delimitações ou restrições são avaliados em um <a class="reference internal" href="executionmodel.html#annotation-scopes"><span class="std std-ref">escopo de anotação</span></a> separado.</p>
<p class="translated"><a class="reference internal" href="../library/typing.html#typing.TypeVarTuple" title="typing.TypeVarTuple"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.TypeVarTuple</span></code></a>s e <a class="reference internal" href="../library/typing.html#typing.ParamSpec" title="typing.ParamSpec"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.ParamSpec</span></code></a>s não pode ter delimitações e restrições.</p>
<p class="translated">Todas as três espécies de parâmetros de tipo também podem ter um <em>valor padrão</em>, que é usado quando o parâmetro de tipo não é fornecido explicitamente. Isso é adicionado anexando um único sinal de igual (<code class="docutils literal notranslate"><span class="pre">=</span></code>) seguido por uma expressão. Como os limites e restrições de tipos variáveis, o valor padrão não é avaliado quando o objeto é criado, mas apenas quando o atributo <code class="docutils literal notranslate"><span class="pre">__default__</span></code> do parâmetro de tipo é acessado. Para esse fim, o valor padrão é avaliado em um <a class="reference internal" href="executionmodel.html#annotation-scopes"><span class="std std-ref">escopo de anotação</span></a> separado. Se nenhum valor padrão for especificado para um parâmetro de tipo, o atributo <code class="docutils literal notranslate"><span class="pre">__default__</span></code> é definido como o objeto sinalizador especial <a class="reference internal" href="../library/typing.html#typing.NoDefault" title="typing.NoDefault"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.NoDefault</span></code></a>.</p>
<p class="translated">O exemplo a seguir indica o conjunto completo de declarações de parâmetros de tipo permitidas:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">overly_generic</span><span class="p">[</span>
   <span class="n">SimpleTypeVar</span><span class="p">,</span>
   <span class="n">TypeVarWithDefault</span> <span class="o">=</span> <span class="nb">int</span><span class="p">,</span>
   <span class="n">TypeVarWithBound</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
   <span class="n">TypeVarWithConstraints</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">),</span>
   <span class="o">*</span><span class="n">SimpleTypeVarTuple</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>
   <span class="o">**</span><span class="n">SimpleParamSpec</span> <span class="o">=</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">),</span>
<span class="p">](</span>
   <span class="n">a</span><span class="p">:</span> <span class="n">SimpleTypeVar</span><span class="p">,</span>
   <span class="n">b</span><span class="p">:</span> <span class="n">TypeVarWithDefault</span><span class="p">,</span>
   <span class="n">c</span><span class="p">:</span> <span class="n">TypeVarWithBound</span><span class="p">,</span>
   <span class="n">d</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">SimpleParamSpec</span><span class="p">,</span> <span class="n">TypeVarWithConstraints</span><span class="p">],</span>
   <span class="o">*</span><span class="n">e</span><span class="p">:</span> <span class="n">SimpleTypeVarTuple</span><span class="p">,</span>
<span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<section id="generic-functions">
<span id="id17"></span><h3 class="translated"><span class="section-number">8.10.1. </span>Funções genéricas<a class="headerlink" href="#generic-functions" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Funções genéricas são declaradas assim:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">func</span><span class="p">[</span><span class="n">T</span><span class="p">](</span><span class="n">arg</span><span class="p">:</span> <span class="n">T</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p class="translated">Essa sintaxe é equivalente a:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">annotation</span><span class="o">-</span><span class="k">def</span><span class="w"> </span><span class="nf">TYPE_PARAMS_OF_func</span><span class="p">():</span>
    <span class="n">T</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">func</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="n">T</span><span class="p">):</span> <span class="o">...</span>
    <span class="n">func</span><span class="o">.</span><span class="n">__type_params__</span> <span class="o">=</span> <span class="p">(</span><span class="n">T</span><span class="p">,)</span>
    <span class="k">return</span> <span class="n">func</span>
<span class="n">func</span> <span class="o">=</span> <span class="n">TYPE_PARAMS_OF_func</span><span class="p">()</span>
</pre></div>
</div>
<p class="translated">Aqui, <code class="docutils literal notranslate"><span class="pre">annotation-def</span></code> indica um <a class="reference internal" href="executionmodel.html#annotation-scopes"><span class="std std-ref">escopo de anotação</span></a>, que não é vinculado de verdade a nenhum nome em tempo de execução. (Uma outra liberdade foi tomada na tradução: essa sintaxe não faz ocorrer um acesso de atributo no módulo <a class="reference internal" href="../library/typing.html#module-typing" title="typing: Support for type hints (see :pep:`484`)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">typing</span></code></a>; ao invés disso é criada uma instância de <a class="reference internal" href="../library/typing.html#typing.TypeVar" title="typing.TypeVar"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.TypeVar</span></code></a> diretamente.)</p>
<p class="translated">As anotações das funções genéricas são lidas dentro do escopo de anotação usado para declarar os parâmetros de tipo, mas os valores padrão dos argumentos e decoradores da função não são.</p>
<p class="translated">Este exemplo ilustra as regras de escopo para estes casos, bem como para outras espécies de parâmetros de tipo:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@decorator</span>
<span class="k">def</span><span class="w"> </span><span class="nf">func</span><span class="p">[</span><span class="n">T</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">*</span><span class="n">Ts</span><span class="p">,</span> <span class="o">**</span><span class="n">P</span><span class="p">](</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="o">*</span><span class="n">Ts</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">some_default</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p class="translated">Tirando a <a class="reference internal" href="executionmodel.html#lazy-evaluation"><span class="std std-ref">avaliação preguiçosa</span></a> da delimitação da <a class="reference internal" href="../library/typing.html#typing.TypeVar" title="typing.TypeVar"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code></a>, isso é equivalente a:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">DEFAULT_OF_arg</span> <span class="o">=</span> <span class="n">some_default</span>

<span class="n">annotation</span><span class="o">-</span><span class="k">def</span><span class="w"> </span><span class="nf">TYPE_PARAMS_OF_func</span><span class="p">():</span>

    <span class="n">annotation</span><span class="o">-</span><span class="k">def</span><span class="w"> </span><span class="nf">BOUND_OF_T</span><span class="p">():</span>
        <span class="k">return</span> <span class="nb">int</span>
    <span class="c1"># In reality, BOUND_OF_T() is evaluated only on demand.</span>
    <span class="n">T</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">BOUND_OF_T</span><span class="p">())</span>

    <span class="n">Ts</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypeVarTuple</span><span class="p">(</span><span class="s2">&quot;Ts&quot;</span><span class="p">)</span>
    <span class="n">P</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">ParamSpec</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="o">*</span><span class="n">Ts</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_OF_arg</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="n">func</span><span class="o">.</span><span class="n">__type_params__</span> <span class="o">=</span> <span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">Ts</span><span class="p">,</span> <span class="n">P</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">func</span>
<span class="n">func</span> <span class="o">=</span> <span class="n">decorator</span><span class="p">(</span><span class="n">TYPE_PARAMS_OF_func</span><span class="p">())</span>
</pre></div>
</div>
<p class="translated">Os nomes com maiúsculas como <code class="docutils literal notranslate"><span class="pre">DEFAULT_OF_arg</span></code> não são realmente vinculados em tempo de execução.</p>
</section>
<section id="generic-classes">
<span id="id18"></span><h3 class="translated"><span class="section-number">8.10.2. </span>Classes genéricas<a class="headerlink" href="#generic-classes" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Classes genéricas são declaradas assim:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Bag</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span> <span class="o">...</span>
</pre></div>
</div>
<p class="translated">Essa sintaxe é equivalente a:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">annotation</span><span class="o">-</span><span class="k">def</span><span class="w"> </span><span class="nf">TYPE_PARAMS_OF_Bag</span><span class="p">():</span>
    <span class="n">T</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">Bag</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
        <span class="n">__type_params__</span> <span class="o">=</span> <span class="p">(</span><span class="n">T</span><span class="p">,)</span>
        <span class="o">...</span>
    <span class="k">return</span> <span class="n">Bag</span>
<span class="n">Bag</span> <span class="o">=</span> <span class="n">TYPE_PARAMS_OF_Bag</span><span class="p">()</span>
</pre></div>
</div>
<p class="translated">Aqui novamente <code class="docutils literal notranslate"><span class="pre">annotation-def</span></code> (não é uma palavra reservada real) indica um <a class="reference internal" href="executionmodel.html#annotation-scopes"><span class="std std-ref">escopo de anotação</span></a>, e o nome <code class="docutils literal notranslate"><span class="pre">TYPE_PARAMS_OF_Bag</span></code> não é realmente vinculado em tempo de execução.</p>
<p class="translated">Classes genéricas herdam implicitamente de <a class="reference internal" href="../library/typing.html#typing.Generic" title="typing.Generic"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Generic</span></code></a>. As classes base e os argumentos nomeados de classes genéricas são avaliados dentro do escopo de tipo para os parâmetros de tipo, e os decoradores são avaliados fora desse escopo. Isso é ilustrado por este exemplo:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@decorator</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Bag</span><span class="p">(</span><span class="n">Base</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">arg</span><span class="o">=</span><span class="n">T</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p class="translated">Isso equivale a:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">annotation</span><span class="o">-</span><span class="k">def</span><span class="w"> </span><span class="nf">TYPE_PARAMS_OF_Bag</span><span class="p">():</span>
    <span class="n">T</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">Bag</span><span class="p">(</span><span class="n">Base</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">arg</span><span class="o">=</span><span class="n">T</span><span class="p">):</span>
        <span class="n">__type_params__</span> <span class="o">=</span> <span class="p">(</span><span class="n">T</span><span class="p">,)</span>
        <span class="o">...</span>
    <span class="k">return</span> <span class="n">Bag</span>
<span class="n">Bag</span> <span class="o">=</span> <span class="n">decorator</span><span class="p">(</span><span class="n">TYPE_PARAMS_OF_Bag</span><span class="p">())</span>
</pre></div>
</div>
</section>
<section id="generic-type-aliases">
<span id="id19"></span><h3 class="translated"><span class="section-number">8.10.3. </span>Apelidos de tipo genérico<a class="headerlink" href="#generic-type-aliases" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">A instrução <a class="reference internal" href="simple_stmts.html#type"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">type</span></code></a> também pode ser usada para criar um apelido de tipo genérico:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span> <span class="n">ListOrSet</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">|</span> <span class="nb">set</span><span class="p">[</span><span class="n">T</span><span class="p">]</span>
</pre></div>
</div>
<p class="translated">Exceto pela <a class="reference internal" href="executionmodel.html#lazy-evaluation"><span class="std std-ref">avaliação preguiçosa</span></a> do valor, isso é equivalente a:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">annotation</span><span class="o">-</span><span class="k">def</span><span class="w"> </span><span class="nf">TYPE_PARAMS_OF_ListOrSet</span><span class="p">():</span>
    <span class="n">T</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>

    <span class="n">annotation</span><span class="o">-</span><span class="k">def</span><span class="w"> </span><span class="nf">VALUE_OF_ListOrSet</span><span class="p">():</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">|</span> <span class="nb">set</span><span class="p">[</span><span class="n">T</span><span class="p">]</span>
    <span class="c1"># Na realidade, o valor é avaliado preguiçosamente</span>
    <span class="k">return</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypeAliasType</span><span class="p">(</span><span class="s2">&quot;ListOrSet&quot;</span><span class="p">,</span> <span class="n">VALUE_OF_ListOrSet</span><span class="p">(),</span> <span class="n">type_params</span><span class="o">=</span><span class="p">(</span><span class="n">T</span><span class="p">,))</span>
<span class="n">ListOrSet</span> <span class="o">=</span> <span class="n">TYPE_PARAMS_OF_ListOrSet</span><span class="p">()</span>
</pre></div>
</div>
<p class="translated">Aqui, <code class="docutils literal notranslate"><span class="pre">annotation-def</span></code> (não é uma palavra reservada real) indica um <a class="reference internal" href="executionmodel.html#annotation-scopes"><span class="std std-ref">escopo de anotação</span></a>. Os nomes em maiúsculas como <code class="docutils literal notranslate"><span class="pre">TYPE_PARAMS_OF_ListOrSet</span></code> não são realmente vinculados em tempo de execução.</p>
<p class="translated rubric">Notas de rodapé</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id20" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p class="translated">A exceção é propagada para a pilha de invocação, a menos que haja uma cláusula <a class="reference internal" href="#finally"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code></a> que por acaso levante outra exceção. Essa nova exceção faz com que a antiga seja perdida.</p>
</aside>
<aside class="footnote brackets" id="id21" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id11">2</a><span class="fn-bracket">]</span></span>
<p class="translated">Na correspondência de padrões, uma sequência é definida como uma das seguintes:</p>
<ul class="simple">
<li><p class="translated">uma classe que herda de <a class="reference internal" href="../library/collections.abc.html#collections.abc.Sequence" title="collections.abc.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Sequence</span></code></a></p></li>
<li><p class="translated">uma classe Python que foi registrada como <a class="reference internal" href="../library/collections.abc.html#collections.abc.Sequence" title="collections.abc.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Sequence</span></code></a></p></li>
<li><p class="translated">uma classe embutida que tem seu bit <a class="reference internal" href="../c-api/typeobj.html#c.Py_TPFLAGS_SEQUENCE" title="Py_TPFLAGS_SEQUENCE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_TPFLAGS_SEQUENCE</span></code></a> (CPython) definido</p></li>
<li><p class="translated">uma classe que herda de qualquer uma das anteriores</p></li>
</ul>
<p class="translated">As seguintes classes de biblioteca padrão são sequências:</p>
<ul class="simple">
<li><p class="translated"><a class="reference internal" href="../library/array.html#array.array" title="array.array"><code class="xref py py-class docutils literal notranslate"><span class="pre">array.array</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/collections.html#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.deque</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/stdtypes.html#memoryview" title="memoryview"><code class="xref py py-class docutils literal notranslate"><span class="pre">memoryview</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/stdtypes.html#range" title="range"><code class="xref py py-class docutils literal notranslate"><span class="pre">range</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../library/stdtypes.html#tuple" title="tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">Valores de assunto do tipo <code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">bytes</span></code> e <code class="docutils literal notranslate"><span class="pre">bytearray</span></code> não correspondem aos padrões de sequência.</p>
</div>
</aside>
<aside class="footnote brackets" id="id22" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id13">3</a><span class="fn-bracket">]</span></span>
<p class="translated">Na correspondência de padrões, um mapeamento é definido como uma das seguintes:</p>
<ul class="simple">
<li><p class="translated">uma classe que herda de <a class="reference internal" href="../library/collections.abc.html#collections.abc.Mapping" title="collections.abc.Mapping"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code></a></p></li>
<li><p class="translated">uma classe Python que foi registrada como <a class="reference internal" href="../library/collections.abc.html#collections.abc.Mapping" title="collections.abc.Mapping"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code></a></p></li>
<li><p class="translated">uma classe embutida que tem seu bit <a class="reference internal" href="../c-api/typeobj.html#c.Py_TPFLAGS_MAPPING" title="Py_TPFLAGS_MAPPING"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_TPFLAGS_MAPPING</span></code></a> (CPython) definido</p></li>
<li><p class="translated">uma classe que herda de qualquer uma das anteriores</p></li>
</ul>
<p class="translated">As classes de biblioteca padrão <a class="reference internal" href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> e <a class="reference internal" href="../library/types.html#types.MappingProxyType" title="types.MappingProxyType"><code class="xref py py-class docutils literal notranslate"><span class="pre">types.MappingProxyType</span></code></a> são mapeamentos.</p>
</aside>
<aside class="footnote brackets" id="id23" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id15">4</a><span class="fn-bracket">]</span></span>
<p class="translated">Um literal de string que aparece como a primeira instrução no corpo da função é transformado no atributo <a class="reference internal" href="datamodel.html#function.__doc__" title="function.__doc__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__doc__</span></code></a> da função e, portanto, no <a class="reference internal" href="../glossary.html#term-docstring"><span class="xref std std-term">docstring</span></a> da função.</p>
</aside>
<aside class="footnote brackets" id="id24" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id16">5</a><span class="fn-bracket">]</span></span>
<p class="translated">Um literal de string que aparece como a primeira instrução no corpo da classe é transformado no item <a class="reference internal" href="datamodel.html#type.__doc__" title="type.__doc__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__doc__</span></code></a> do espaço de nomes e, portanto, no <a class="reference internal" href="../glossary.html#term-docstring"><span class="xref std std-term">docstring</span></a> da classe.</p>
</aside>
</aside>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Tabela de Conteúdo</a></h3>
    <ul>
<li><a class="reference internal" href="#">8. Instruções compostas</a><ul>
<li><a class="reference internal" href="#the-if-statement">8.1. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a></li>
<li><a class="reference internal" href="#the-while-statement">8.2. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">while</span></code></a></li>
<li><a class="reference internal" href="#the-for-statement">8.3. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code></a></li>
<li><a class="reference internal" href="#the-try-statement">8.4. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a><ul>
<li><a class="reference internal" href="#except-clause">8.4.1. Cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except</span></code></a></li>
<li><a class="reference internal" href="#except-star">8.4.2. Cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">except*</span></code></a></li>
<li><a class="reference internal" href="#else-clause">8.4.3. Cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code></a></li>
<li><a class="reference internal" href="#finally-clause">8.4.4. Cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-with-statement">8.5. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a></li>
<li><a class="reference internal" href="#the-match-statement">8.6. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">match</span></code></a><ul>
<li><a class="reference internal" href="#overview">8.6.1. Visão Geral</a></li>
<li><a class="reference internal" href="#guards">8.6.2. Guards</a></li>
<li><a class="reference internal" href="#irrefutable-case-blocks">8.6.3. Blocos irrefutáveis de case</a></li>
<li><a class="reference internal" href="#patterns">8.6.4. Padrões</a><ul>
<li><a class="reference internal" href="#or-patterns">8.6.4.1. Padrões OR</a></li>
<li><a class="reference internal" href="#as-patterns">8.6.4.2. Padrões AS</a></li>
<li><a class="reference internal" href="#literal-patterns">8.6.4.3. Padrões literais</a></li>
<li><a class="reference internal" href="#capture-patterns">8.6.4.4. Padrões de captura</a></li>
<li><a class="reference internal" href="#wildcard-patterns">8.6.4.5. Padrões curingas</a></li>
<li><a class="reference internal" href="#value-patterns">8.6.4.6. Padrões de valor</a></li>
<li><a class="reference internal" href="#group-patterns">8.6.4.7. Padrões de grupo</a></li>
<li><a class="reference internal" href="#sequence-patterns">8.6.4.8. Padrões de sequência</a></li>
<li><a class="reference internal" href="#mapping-patterns">8.6.4.9. Padrões de mapeamento</a></li>
<li><a class="reference internal" href="#class-patterns">8.6.4.10. Padrões de classe</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#function-definitions">8.7. Definições de função</a></li>
<li><a class="reference internal" href="#class-definitions">8.8. Definições de classe</a></li>
<li><a class="reference internal" href="#coroutines">8.9. Corrotinas</a><ul>
<li><a class="reference internal" href="#coroutine-function-definition">8.9.1. Definição de função de corrotina</a></li>
<li><a class="reference internal" href="#the-async-for-statement">8.9.2. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code></a></li>
<li><a class="reference internal" href="#the-async-with-statement">8.9.3. A instrução <code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#type-parameter-lists">8.10. Listas de parâmetros de tipo</a><ul>
<li><a class="reference internal" href="#generic-functions">8.10.1. Funções genéricas</a></li>
<li><a class="reference internal" href="#generic-classes">8.10.2. Classes genéricas</a></li>
<li><a class="reference internal" href="#generic-type-aliases">8.10.3. Apelidos de tipo genérico</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tópico anterior</h4>
    <p class="topless"><a href="simple_stmts.html"
                          title="capítulo anterior"><span class="section-number">7. </span>Instruções simples</a></p>
  </div>
  <div>
    <h4>Próximo tópico</h4>
    <p class="topless"><a href="toplevel_components.html"
                          title="próximo capítulo"><span class="section-number">9. </span>Componentes de Alto Nível</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Relatar um bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/reference/compound_stmts.rst?plain=1"
            rel="nofollow">Mostrar o código-fonte
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="Recolher painel lateral">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegação</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice Geral"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="toplevel_components.html" title="9. Componentes de Alto Nível"
             >próximo</a> |</li>
        <li class="right" >
          <a href="simple_stmts.html" title="7. Instruções simples"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.13.5 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >A Referência da Linguagem Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">8. </span>Instruções compostas</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Busca rápida" aria-label="Busca rápida" type="search" name="q" id="search-box">
          <input type="submit" value="Ir">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; 
      <a href="../copyright.html">
    
    Direitos autorais
    
      </a>
     2001-2025, Python Software Foundation.
    <br>
    This page is licensed under the Python Software Foundation License Version 2.
    <br>
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br>
    
      See <a href="/license.html">History and License</a> for more information.<br>
    
    
    <br>

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br>
    <br>
      Última atualização em ago. 03, 2025 (07:16 UTC).
    
      <a href="/bugs.html">Found a bug</a>?
    
    <br>

    Criada usando <a href="https://www.sphinx-doc.org/pt_BR/master">Sphinx</a> 8.2.3.
    </div>

  </body>
</html>