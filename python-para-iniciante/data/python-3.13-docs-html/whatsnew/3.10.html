<!DOCTYPE html>

<html lang="pt-BR" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="O que há de novo no Python 3.10" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/whatsnew/3.10.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Editor, Pablo Galindo Salgado,. Este artigo explica os novos recursos no Python 3.10, em comparação com 3.9. Python 3.10 foi lançado em 4 de outubro de 2021. Veja changelog para uma lista completa ..." />
<meta property="og:image:width" content="1146" />
<meta property="og:image:height" content="600" />
<meta property="og:image" content="https://docs.python.org/3.13/pt-br/_images/social_previews/summary_whatsnew_3.10_e5ff4551.png" />
<meta property="og:image:alt" content="Editor, Pablo Galindo Salgado,. Este artigo explica os novos recursos no Python 3.10, em comparação com 3.9. Python 3.10 foi lançado em 4 de outubro de 2021. Veja changelog para uma lista completa ..." />
<meta name="description" content="Editor, Pablo Galindo Salgado,. Este artigo explica os novos recursos no Python 3.10, em comparação com 3.9. Python 3.10 foi lançado em 4 de outubro de 2021. Veja changelog para uma lista completa ..." />
<meta name="twitter:card" content="summary_large_image" />

    <title>O que há de novo no Python 3.10 &#8212; Documentação Python 3.13.5</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=234b1a7c" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?v=5ff89526" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css?v=5349f25f" />
    
    <script src="../_static/documentation_options.js?v=62a4a58b"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=71a39b36"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Pesquisar dentro de Documentação Python 3.13.5"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre esses documentos" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Buscar" href="../search.html" />
    <link rel="copyright" title="Direitos autorais" href="../copyright.html" />
    <link rel="next" title="O que há de novo no Python 3.9" href="3.9.html" />
    <link rel="prev" title="O que há de novo no Python 3.11" href="3.11.html" />
    
      
      <script defer data-domain="docs.python.org" src="https://analytics.python.org/js/script.outbound-links.js"></script>
      
      <link rel="canonical" href="https://docs.python.org/3/whatsnew/3.10.html">
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg">
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
            <script type="text/javascript" src="../_static/rtd_switcher.js"></script>
            <meta name="readthedocs-addons-api-version" content="1">

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu">
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo">
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="Busca rápida" aria-label="Busca rápida" type="search" name="q">
                <input type="submit" value="Ir">
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">Tabela de Conteúdo</a></h3>
    <ul>
<li><a class="reference internal" href="#">O que há de novo no Python 3.10</a><ul>
<li><a class="reference internal" href="#summary-release-highlights">Resumo – Destaques da versão</a></li>
<li><a class="reference internal" href="#new-features">Novas funcionalidades</a><ul>
<li><a class="reference internal" href="#parenthesized-context-managers">Gerenciadores de contexto entre parênteses</a></li>
<li><a class="reference internal" href="#better-error-messages">Melhores mensagens de erro</a><ul>
<li><a class="reference internal" href="#syntaxerrors">SyntaxErrors</a></li>
<li><a class="reference internal" href="#indentationerrors">IndentationErrors</a></li>
<li><a class="reference internal" href="#attributeerrors">AttributeErrors</a></li>
<li><a class="reference internal" href="#nameerrors">NameErrors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pep-626-precise-line-numbers-for-debugging-and-other-tools">PEP 626: Números de linha precisos para depuração e outras ferramentas</a></li>
<li><a class="reference internal" href="#pep-634-structural-pattern-matching">PEP 634: Correspondência de padrão estrutural</a><ul>
<li><a class="reference internal" href="#syntax-and-operations">Sintaxe e operações</a></li>
<li><a class="reference internal" href="#declarative-approach">Abordagem declarativa</a></li>
<li><a class="reference internal" href="#simple-pattern-match-to-a-literal">Padrão simples: corresponder a um literal</a><ul>
<li><a class="reference internal" href="#behavior-without-the-wildcard">Comportamento sem o curinga</a></li>
</ul>
</li>
<li><a class="reference internal" href="#patterns-with-a-literal-and-variable">Padrões com uma literal e variável</a></li>
<li><a class="reference internal" href="#patterns-and-classes">Padrões e classes</a><ul>
<li><a class="reference internal" href="#patterns-with-positional-parameters">Padrões com parâmetros posicionais</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nested-patterns">Padrões aninhados</a></li>
<li><a class="reference internal" href="#complex-patterns-and-the-wildcard">Padrões complexos e o curinga</a></li>
<li><a class="reference internal" href="#guard">Guarda</a></li>
<li><a class="reference internal" href="#other-key-features">Outros recursos-chave</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optional-encodingwarning-and-encoding-locale-option"><code class="docutils literal notranslate"><span class="pre">EncodingWarning</span></code> opcional e opção <code class="docutils literal notranslate"><span class="pre">encoding=&quot;locale&quot;</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-features-related-to-type-hints">Novos recursos relacionados a dicas de tipo</a><ul>
<li><a class="reference internal" href="#pep-604-new-type-union-operator">PEP 604: novo operador de união de tipo</a></li>
<li><a class="reference internal" href="#pep-612-parameter-specification-variables">PEP 612: variáveis de especificação de parâmetros</a></li>
<li><a class="reference internal" href="#pep-613-typealias">PEP 613: TypeAlias</a></li>
<li><a class="reference internal" href="#pep-647-user-defined-type-guards">PEP 647: guardas de tipo definidas pelo usuário</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-language-changes">Outras mudanças na linguagem</a></li>
<li><a class="reference internal" href="#new-modules">Novos módulos</a></li>
<li><a class="reference internal" href="#improved-modules">Módulos melhorados</a><ul>
<li><a class="reference internal" href="#asyncio">asyncio</a></li>
<li><a class="reference internal" href="#argparse">argparse</a></li>
<li><a class="reference internal" href="#array">array</a></li>
<li><a class="reference internal" href="#asynchat-asyncore-smtpd">asynchat, asyncore, smtpd</a></li>
<li><a class="reference internal" href="#base64">base64</a></li>
<li><a class="reference internal" href="#bdb">bdb</a></li>
<li><a class="reference internal" href="#bisect">bisect</a></li>
<li><a class="reference internal" href="#codecs">codecs</a></li>
<li><a class="reference internal" href="#collections-abc">collections.abc</a></li>
<li><a class="reference internal" href="#contextlib">contextlib</a></li>
<li><a class="reference internal" href="#curses">curses</a></li>
<li><a class="reference internal" href="#dataclasses">dataclasses</a><ul>
<li><a class="reference internal" href="#slots">__slots__</a></li>
<li><a class="reference internal" href="#keyword-only-fields">Campos somente-nomeados</a></li>
</ul>
</li>
<li><a class="reference internal" href="#distutils">distutils</a></li>
<li><a class="reference internal" href="#doctest">doctest</a></li>
<li><a class="reference internal" href="#encodings">encodings</a></li>
<li><a class="reference internal" href="#enum">enum</a></li>
<li><a class="reference internal" href="#fileinput">fileinput</a></li>
<li><a class="reference internal" href="#faulthandler">faulthandler</a></li>
<li><a class="reference internal" href="#gc">gc</a></li>
<li><a class="reference internal" href="#glob">glob</a></li>
<li><a class="reference internal" href="#hashlib">hashlib</a></li>
<li><a class="reference internal" href="#hmac">hmac</a></li>
<li><a class="reference internal" href="#idle-and-idlelib">IDLE e idlelib</a></li>
<li><a class="reference internal" href="#importlib-metadata">importlib.metadata</a></li>
<li><a class="reference internal" href="#inspect">inspect</a></li>
<li><a class="reference internal" href="#itertools">itertools</a></li>
<li><a class="reference internal" href="#linecache">linecache</a></li>
<li><a class="reference internal" href="#os">os</a></li>
<li><a class="reference internal" href="#os-path">os.path</a></li>
<li><a class="reference internal" href="#pathlib">pathlib</a></li>
<li><a class="reference internal" href="#platform">platform</a></li>
<li><a class="reference internal" href="#pprint">pprint</a></li>
<li><a class="reference internal" href="#py-compile">py_compile</a></li>
<li><a class="reference internal" href="#pyclbr">pyclbr</a></li>
<li><a class="reference internal" href="#shelve">shelve</a></li>
<li><a class="reference internal" href="#statistics">statistics</a></li>
<li><a class="reference internal" href="#site">site</a></li>
<li><a class="reference internal" href="#socket">socket</a></li>
<li><a class="reference internal" href="#ssl">ssl</a></li>
<li><a class="reference internal" href="#sqlite3">sqlite3</a></li>
<li><a class="reference internal" href="#sys">sys</a></li>
<li><a class="reference internal" href="#thread">_thread</a></li>
<li><a class="reference internal" href="#threading">threading</a></li>
<li><a class="reference internal" href="#traceback">traceback</a></li>
<li><a class="reference internal" href="#types">types</a></li>
<li><a class="reference internal" href="#typing">typing</a></li>
<li><a class="reference internal" href="#unittest">unittest</a></li>
<li><a class="reference internal" href="#urllib-parse">urllib.parse</a></li>
<li><a class="reference internal" href="#xml">xml</a></li>
<li><a class="reference internal" href="#zipimport">zipimport</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optimizations">Otimizações</a></li>
<li><a class="reference internal" href="#deprecated">Descontinuados</a></li>
<li><a class="reference internal" href="#removed">Removidos</a></li>
<li><a class="reference internal" href="#porting-to-python-3-10">Portando para Python 3.10</a><ul>
<li><a class="reference internal" href="#changes-in-the-python-syntax">Alterações na sintaxe Python</a></li>
<li><a class="reference internal" href="#changes-in-the-python-api">Alterações na API Python</a></li>
<li><a class="reference internal" href="#changes-in-the-c-api">Alterações na API C</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cpython-bytecode-changes">Alterações de bytecode do CPython</a></li>
<li><a class="reference internal" href="#build-changes">Mudanças na construção</a></li>
<li><a class="reference internal" href="#c-api-changes">Alterações na API C</a><ul>
<li><a class="reference internal" href="#pep-652-maintaining-the-stable-abi">PEP 652: Mantendo a ABI estável</a></li>
<li><a class="reference internal" href="#id1">Novas funcionalidades</a></li>
<li><a class="reference internal" href="#id2">Portando para Python 3.10</a></li>
<li><a class="reference internal" href="#id3">Descontinuados</a></li>
<li><a class="reference internal" href="#id4">Removidos</a></li>
</ul>
</li>
<li><a class="reference internal" href="#notable-security-feature-in-3-10-7">Recursos de segurança notáveis no 3.10.7</a></li>
<li><a class="reference internal" href="#notable-security-feature-in-3-10-8">Recursos de segurança notáveis no 3.10.8</a></li>
<li><a class="reference internal" href="#notable-changes-in-3-10-12">Alterações notáveis no 3.10.12</a><ul>
<li><a class="reference internal" href="#tarfile">tarfile</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tópico anterior</h4>
    <p class="topless"><a href="3.11.html"
                          title="capítulo anterior">O que há de novo no Python 3.11</a></p>
  </div>
  <div>
    <h4>Próximo tópico</h4>
    <p class="topless"><a href="3.9.html"
                          title="próximo capítulo">O que há de novo no Python 3.9</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Relatar um bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/whatsnew/3.10.rst?plain=1"
            rel="nofollow">Mostrar o código-fonte
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegação</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice Geral"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="3.9.html" title="O que há de novo no Python 3.9"
             accesskey="N">próximo</a> |</li>
        <li class="right" >
          <a href="3.11.html" title="O que há de novo no Python 3.11"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.13.5 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">O que há de novo no Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">O que há de novo no Python 3.10</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Busca rápida" aria-label="Busca rápida" type="search" name="q" id="search-box">
          <input type="submit" value="Ir">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="what-s-new-in-python-3-10">
<h1 class="translated">O que há de novo no Python 3.10<a class="headerlink" href="#what-s-new-in-python-3-10" title="Link para este cabeçalho">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd translated">Editor<span class="colon">:</span></dt>
<dd class="field-odd translated"><p class="translated">Pablo Galindo Salgado</p>
</dd>
</dl>
<p class="translated">Este artigo explica os novos recursos no Python 3.10, em comparação com 3.9. Python 3.10 foi lançado em 4 de outubro de 2021. Veja <a class="reference internal" href="changelog.html#changelog"><span class="std std-ref">changelog</span></a> para uma lista completa de mudanças.</p>
<section id="summary-release-highlights">
<h2 class="translated">Resumo – Destaques da versão<a class="headerlink" href="#summary-release-highlights" title="Link para este cabeçalho">¶</a></h2>
<p class="translated">Novos recursos de sintaxe:</p>
<ul class="simple">
<li><p class="translated"><span class="target" id="index-84"></span><a class="pep reference external" href="https://peps.python.org/pep-0634/"><strong>PEP 634</strong></a>, Correspondência de padrão estrutural: especificação</p></li>
<li><p class="translated"><span class="target" id="index-85"></span><a class="pep reference external" href="https://peps.python.org/pep-0635/"><strong>PEP 635</strong></a>, Correspondência de padrão estrutural: motivação e justificativa</p></li>
<li><p class="translated"><span class="target" id="index-86"></span><a class="pep reference external" href="https://peps.python.org/pep-0636/"><strong>PEP 636</strong></a>, Correspondência de padrão estrutural: Tutorial</p></li>
<li><p class="translated"><a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=12782">bpo-12782</a>, Gerenciadores de contexto entre parênteses agora são permitidos oficialmente.</p></li>
</ul>
<p class="translated">Novos recursos na biblioteca padrão:</p>
<ul class="simple">
<li><p class="translated"><span class="target" id="index-87"></span><a class="pep reference external" href="https://peps.python.org/pep-0618/"><strong>PEP 618</strong></a>, Adiciona verificação de comprimento opcional ao zip.</p></li>
</ul>
<p class="translated">Melhorias no interpretador:</p>
<ul class="simple">
<li><p class="translated"><span class="target" id="index-88"></span><a class="pep reference external" href="https://peps.python.org/pep-0626/"><strong>PEP 626</strong></a>, Números de linha precisos para depuração e outras ferramentas.</p></li>
</ul>
<p class="translated">Novos recursos de tipagem:</p>
<ul class="simple">
<li><p class="translated"><span class="target" id="index-89"></span><a class="pep reference external" href="https://peps.python.org/pep-0604/"><strong>PEP 604</strong></a>, Permite escrever tipos de união como X | Y</p></li>
<li><p class="translated"><span class="target" id="index-90"></span><a class="pep reference external" href="https://peps.python.org/pep-0612/"><strong>PEP 612</strong></a>, Variáveis de especificação de parâmetro</p></li>
<li><p class="translated"><span class="target" id="index-91"></span><a class="pep reference external" href="https://peps.python.org/pep-0613/"><strong>PEP 613</strong></a>, Apelidos de tipo explícitos</p></li>
<li><p class="translated"><span class="target" id="index-92"></span><a class="pep reference external" href="https://peps.python.org/pep-0647/"><strong>PEP 647</strong></a>, Guardas de Tipo Definidas Pelo Usuário</p></li>
</ul>
<p class="translated">Descontinuações, remoções ou restrições importantes:</p>
<ul class="simple">
<li><p class="translated"><span class="target" id="index-93"></span><a class="pep reference external" href="https://peps.python.org/pep-0644/"><strong>PEP 644</strong></a>, Exige OpenSSL 1.1.1 ou mais novo</p></li>
<li><p class="translated"><span class="target" id="index-94"></span><a class="pep reference external" href="https://peps.python.org/pep-0632/"><strong>PEP 632</strong></a>, Descontinua o módulo distutils.</p></li>
<li><p class="translated"><span class="target" id="index-95"></span><a class="pep reference external" href="https://peps.python.org/pep-0623/"><strong>PEP 623</strong></a>, Descontinua e prepara para a remoção do membro wstr em PyUnicodeObject.</p></li>
<li><p class="translated"><span class="target" id="index-96"></span><a class="pep reference external" href="https://peps.python.org/pep-0624/"><strong>PEP 624</strong></a>, Remove APIs codificadoras de Py_UNICODE</p></li>
<li><p class="translated"><span class="target" id="index-97"></span><a class="pep reference external" href="https://peps.python.org/pep-0597/"><strong>PEP 597</strong></a>, Adiciona EncodingWarning opcional</p></li>
</ul>
</section>
<section id="new-features">
<h2 class="translated">Novas funcionalidades<a class="headerlink" href="#new-features" title="Link para este cabeçalho">¶</a></h2>
<section id="parenthesized-context-managers">
<span id="whatsnew310-pep563"></span><h3 class="translated">Gerenciadores de contexto entre parênteses<a class="headerlink" href="#parenthesized-context-managers" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">O uso de parênteses para continuação em várias linhas em gerenciadores de contexto agora é suportado. Isso permite a formatação de uma longa coleção de gerenciadores de contexto em várias linhas de maneira semelhante à que era possível anteriormente com instruções de importação. Por exemplo, todos esses exemplos agora são válidos:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="p">(</span><span class="n">CtxManager</span><span class="p">()</span> <span class="k">as</span> <span class="n">exemplo</span><span class="p">):</span>
    <span class="o">...</span>

<span class="k">with</span> <span class="p">(</span>
    <span class="n">CtxManager1</span><span class="p">(),</span>
    <span class="n">CtxManager2</span><span class="p">()</span>
<span class="p">):</span>
    <span class="o">...</span>

<span class="k">with</span> <span class="p">(</span><span class="n">CtxManager1</span><span class="p">()</span> <span class="k">as</span> <span class="n">exemplo</span><span class="p">,</span>
      <span class="n">CtxManager2</span><span class="p">()):</span>
    <span class="o">...</span>

<span class="k">with</span> <span class="p">(</span><span class="n">CtxManager1</span><span class="p">(),</span>
      <span class="n">CtxManager2</span><span class="p">()</span> <span class="k">as</span> <span class="n">exemplo</span><span class="p">):</span>
    <span class="o">...</span>

<span class="k">with</span> <span class="p">(</span>
    <span class="n">CtxManager1</span><span class="p">()</span> <span class="k">as</span> <span class="n">exemplo1</span><span class="p">,</span>
    <span class="n">CtxManager2</span><span class="p">()</span> <span class="k">as</span> <span class="n">exemplo2</span>
<span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p class="translated">também é possível usar uma vírgula no final do grupo fechado:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="p">(</span>
    <span class="n">CtxManager1</span><span class="p">()</span> <span class="k">as</span> <span class="n">exemplo1</span><span class="p">,</span>
    <span class="n">CtxManager2</span><span class="p">()</span> <span class="k">as</span> <span class="n">exemplo2</span><span class="p">,</span>
    <span class="n">CtxManager3</span><span class="p">()</span> <span class="k">as</span> <span class="n">exemplo3</span><span class="p">,</span>
<span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p class="translated">Esta nova sintaxe usa as capacidades não LL(1) do novo analisador sintático. Confira <span class="target" id="index-98"></span><a class="pep reference external" href="https://peps.python.org/pep-0617/"><strong>PEP 617</strong></a> para mais detalhes.</p>
<p class="translated">(Contribuição de Guido van Rossum, Pablo Galindo e Lysandros Nikolaou em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=12782">bpo-12782</a> e <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40334">bpo-40334</a>.)</p>
</section>
<section id="better-error-messages">
<h3 class="translated">Melhores mensagens de erro<a class="headerlink" href="#better-error-messages" title="Link para este cabeçalho">¶</a></h3>
<section id="syntaxerrors">
<h4 class="translated">SyntaxErrors<a class="headerlink" href="#syntaxerrors" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Ao analisar o código que contém parênteses ou chaves não fechados, o interpretador agora inclui o local da chave não fechado de parênteses em vez de exibir <em>SyntaxError: unexpected EOF while parsing</em> ou apontando para algum local incorreto. Por exemplo, considere o seguinte código (observe o “{” não fechado):</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">esperado</span> <span class="o">=</span> <span class="p">{</span><span class="mi">9</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">18</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">19</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">27</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">28</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">29</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">36</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">37</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="mi">38</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">39</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">45</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">46</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">47</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">48</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">49</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">54</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="n">algum_outro_codigo</span> <span class="o">=</span> <span class="n">foo</span><span class="p">()</span>
</pre></div>
</div>
<p class="translated">Versões anteriores do interpretador relatavam lugares confusos como local do erro de sintaxe:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">File</span> <span class="s2">&quot;exemplo.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">3</span>
    <span class="n">algum_outro_codigo</span> <span class="o">=</span> <span class="n">foo</span><span class="p">()</span>
                       <span class="o">^</span>
<span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">syntax</span>
</pre></div>
</div>
<p class="translated">mas no Python 3.10, um erro mais informativo é emitido:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">File</span> <span class="s2">&quot;exemplo.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span>
    <span class="n">esperado</span> <span class="o">=</span> <span class="p">{</span><span class="mi">9</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">18</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">19</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">27</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">28</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">29</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">36</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">37</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
               <span class="o">^</span>
<span class="ne">SyntaxError</span><span class="p">:</span> <span class="s1">&#39;{&#39;</span> <span class="n">was</span> <span class="n">never</span> <span class="n">closed</span>
</pre></div>
</div>
<p class="translated">De maneira semelhante, erros envolvendo literais de string não fechadas (entre aspas simples e triplas) agora apontam para o início da string em vez de relatar EOF/EOL.</p>
<p class="translated">Essas melhorias são inspiradas em trabalhos anteriores no interpretador PyPy.</p>
<p class="translated">(Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42864">bpo-42864</a> e Batuhan Taskaya em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40176">bpo-40176</a>.)</p>
<p class="translated">As exceções <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> levantadas pelo interpretador agora destacam o intervalo total de erros da expressão que constitui o próprio erro de sintaxe, em vez de apenas onde o problema foi detectado. Desta forma, em vez de exibir (antes do Python 3.10):</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span> <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>
<span class="w">    </span><span class="n">foo</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span> <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
<span class="w">           </span><span class="pm">^</span>
<span class="gr">SyntaxError</span>: <span class="n">Generator expression must be parenthesized</span>
</pre></div>
</div>
<p class="translated">agora o Python 3.10 vai exibir a exceção como:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span> <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>
<span class="w">    </span><span class="n">foo</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span> <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
<span class="w">           </span><span class="pm">^^^^^^^^^^^^^^^^^^^^</span>
<span class="gr">SyntaxError</span>: <span class="n">Generator expression must be parenthesized</span>
</pre></div>
</div>
<p class="translated">Esta melhoria foi contribuída por Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43914">bpo-43914</a>.</p>
<p class="translated">Uma quantidade considerável de novas mensagens especializadas para exceções <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> foram incorporadas. Alguns dos mais notáveis são os seguintes:</p>
<ul>
<li><p class="translated">Faltando <code class="docutils literal notranslate"><span class="pre">:</span></code> antes de blocos:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">foguete</span><span class="o">.</span><span class="n">posicao</span> <span class="o">&gt;</span> <span class="n">horizonte_evento</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>
<span class="w">    </span><span class="k">if</span> <span class="n">foguete</span><span class="o">.</span><span class="n">posicao</span> <span class="o">&gt;</span> <span class="n">horizonte_evento</span>
<span class="w">                                        </span><span class="pm">^</span>
<span class="gr">SyntaxError</span>: <span class="n">expected &#39;:&#39;</span>
</pre></div>
</div>
<p class="translated">(Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42997">bpo-42997</a>.)</p>
</li>
<li><p class="translated">Tuplas sem parênteses em alvos de compreensão:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="s1">&#39;1234&#39;</span><span class="p">)}</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>
<span class="w">    </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="s1">&#39;1234&#39;</span><span class="p">)}</span>
<span class="w">     </span><span class="pm">^</span>
<span class="gr">SyntaxError</span>: <span class="n">did you forget parentheses around the comprehension target?</span>
</pre></div>
</div>
<p class="translated">(Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43017">bpo-43017</a>.)</p>
</li>
<li><p class="translated">Faltando vírgulas em literais de coleção e entre expressões:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span><span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span><span class="n">y</span><span class="p">:</span> <span class="mi">2</span>
<span class="gp">... </span><span class="n">z</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">3</span>
<span class="w">    </span><span class="n">y</span><span class="p">:</span> <span class="mi">2</span>
<span class="w">       </span><span class="pm">^</span>
<span class="gr">SyntaxError</span>: <span class="n">invalid syntax. Perhaps you forgot a comma?</span>
</pre></div>
</div>
<p class="translated">(Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43822">bpo-43822</a>.)</p>
</li>
<li><p class="translated">Vários tipos de exceção sem parênteses:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">construir_esfera_de_dyson</span><span class="p">()</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">NotEnoughScienceError</span><span class="p">,</span> <span class="n">NotEnoughResourcesError</span><span class="p">:</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">3</span>
<span class="w">    </span><span class="k">except</span> <span class="n">NotEnoughScienceError</span><span class="p">,</span> <span class="n">NotEnoughResourcesError</span><span class="p">:</span>
<span class="w">           </span><span class="pm">^</span>
<span class="gr">SyntaxError</span>: <span class="n">multiple exception types must be parenthesized</span>
</pre></div>
</div>
<p class="translated">(Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43149">bpo-43149</a>.)</p>
</li>
<li><p class="translated">Faltando <code class="docutils literal notranslate"><span class="pre">:</span></code> em valores em literais de dicionário:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span><span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span><span class="n">y</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span><span class="n">z</span><span class="p">:</span>
<span class="gp">... </span><span class="p">}</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">4</span>
<span class="w">    </span><span class="n">z</span><span class="p">:</span>
<span class="w">     </span><span class="pm">^</span>
<span class="gr">SyntaxError</span>: <span class="n">expression expected after dictionary key and &#39;:&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="n">z</span> <span class="n">w</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>
<span class="w">    </span><span class="n">values</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="n">z</span> <span class="n">w</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
<span class="w">                        </span><span class="pm">^</span>
<span class="gr">SyntaxError</span>: <span class="n">&#39;:&#39; expected after dictionary key</span>
</pre></div>
</div>
<p class="translated">(Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43823">bpo-43823</a>.)</p>
</li>
<li><p class="translated">Blocos <code class="docutils literal notranslate"><span class="pre">try</span></code> sem blocos <code class="docutils literal notranslate"><span class="pre">except</span></code> ou <code class="docutils literal notranslate"><span class="pre">finally</span></code>:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">... </span><span class="n">algumacoisa</span> <span class="o">=</span> <span class="mi">3</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">3</span>
<span class="w">    </span><span class="n">algumacoisa</span> <span class="o">=</span> <span class="mi">3</span>
<span class="w">    </span><span class="pm">^^^^^^^^^^^</span>
<span class="gr">SyntaxError</span>: <span class="n">expected &#39;except&#39; or &#39;finally&#39; block</span>
</pre></div>
</div>
<p class="translated">(Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44305">bpo-44305</a>.)</p>
</li>
<li><p class="translated">Uso de <code class="docutils literal notranslate"><span class="pre">=</span></code> em vez de <code class="docutils literal notranslate"><span class="pre">==</span></code> nas comparações:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">foguete</span><span class="o">.</span><span class="n">posicao</span> <span class="o">=</span> <span class="n">horizonte_evento</span><span class="p">:</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>
<span class="w">    </span><span class="k">if</span> <span class="n">foguete</span><span class="o">.</span><span class="n">posicao</span> <span class="o">=</span> <span class="n">horizonte_evento</span><span class="p">:</span>
<span class="w">                       </span><span class="pm">^</span>
<span class="gr">SyntaxError</span>: <span class="n">cannot assign to attribute here. Maybe you meant &#39;==&#39; instead of &#39;=&#39;?</span>
</pre></div>
</div>
<p class="translated">(Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43797">bpo-43797</a>.)</p>
</li>
<li><p class="translated">Uso de <code class="docutils literal notranslate"><span class="pre">*</span></code> em f-strings:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;Buracos negros </span><span class="si">{</span><span class="o">*</span><span class="n">all_black_holes</span><span class="si">}</span><span class="s2"> e revelações&quot;</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>
<span class="w">    </span><span class="p">(</span><span class="o">*</span><span class="n">all_black_holes</span><span class="p">)</span>
<span class="w">     </span><span class="pm">^</span>
<span class="gr">SyntaxError</span>: <span class="n">f-string: cannot use starred expression here</span>
</pre></div>
</div>
<p class="translated">(Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41064">bpo-41064</a>.)</p>
</li>
</ul>
</section>
<section id="indentationerrors">
<h4 class="translated">IndentationErrors<a class="headerlink" href="#indentationerrors" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Muitas exceções <a class="reference internal" href="../library/exceptions.html#IndentationError" title="IndentationError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IndentationError</span></code></a> agora têm mais contexto sobre que tipo de bloco estava esperando um indentação, incluindo a localização da instrução:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">foo</span><span class="p">():</span>
<span class="gp">... </span>   <span class="k">if</span> <span class="n">lel</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">3</span>
<span class="w">    </span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="w">    </span><span class="pm">^</span>
<span class="gr">IndentationError</span>: <span class="n">expected an indented block after &#39;if&#39; statement in line 2</span>
</pre></div>
</div>
</section>
<section id="attributeerrors">
<h4 class="translated">AttributeErrors<a class="headerlink" href="#attributeerrors" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Ao exibir <a class="reference internal" href="../library/exceptions.html#AttributeError" title="AttributeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a>, <code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_Display()</span></code> oferecerá sugestões de nomes de atributos semelhantes no objeto a partir do qual a exceção foi levantada:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">collections</span><span class="o">.</span><span class="n">namedtoplo</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">AttributeError</span>: <span class="n">module &#39;collections&#39; has no attribute &#39;namedtoplo&#39;. Did you mean: namedtuple?</span>
</pre></div>
</div>
<p class="translated">(Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38530">bpo-38530</a>.)</p>
<div class="admonition warning">
<p class="admonition-title">Aviso</p>
<p class="translated">Observe que isso não funcionará se <code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_Display()</span></code> não for chamado para exibir o erro que pode ocorrer se alguma outra função personalizada de exibição de erro for usada. Este é um cenário comum em alguns REPLs, laços de leitura-avaliação-impressão, como o IPython.</p>
</div>
</section>
<section id="nameerrors">
<h4 class="translated">NameErrors<a class="headerlink" href="#nameerrors" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Ao exibir <a class="reference internal" href="../library/exceptions.html#NameError" title="NameError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NameError</span></code></a> levantada pelo interpretador, <code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_Display()</span></code> irá oferecer sugestões de nomes de variáveis semelhantes na função de onde a exceção foi levantada:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">buraco_negro_de_schwarzschild</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buraco_negro_de_schwarschild</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;buraco_negro_de_schwarschild&#39; is not defined. Did you mean: buraco_negro_de_schwarzschild?</span>
</pre></div>
</div>
<p class="translated">(Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38530">bpo-38530</a>.)</p>
<div class="admonition warning">
<p class="admonition-title">Aviso</p>
<p class="translated">Observe que isso não funcionará se <code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_Display()</span></code> não for chamado para exibir o erro que pode ocorrer se alguma outra função personalizada de exibição de erro for usada. Este é um cenário comum em alguns REPLs, laços de leitura-avaliação-impressão, como o IPython.</p>
</div>
</section>
</section>
<section id="pep-626-precise-line-numbers-for-debugging-and-other-tools">
<h3 class="translated">PEP 626: Números de linha precisos para depuração e outras ferramentas<a class="headerlink" href="#pep-626-precise-line-numbers-for-debugging-and-other-tools" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">O PEP 626 traz números de linha mais precisos e confiáveis para ferramentas de depuração, criação de perfil e cobertura. Eventos de rastreamento, com o número de linha correto, são gerados para todas as linhas de código executadas e apenas para linhas de código que são executadas.</p>
<p class="translated">O atributo <a class="reference internal" href="../reference/datamodel.html#frame.f_lineno" title="frame.f_lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">f_lineno</span></code></a> de objetos de quadro sempre conterá o número de linha esperado.</p>
<p class="translated">O atributo <a class="reference internal" href="../reference/datamodel.html#codeobject.co_lnotab" title="codeobject.co_lnotab"><code class="xref py py-attr docutils literal notranslate"><span class="pre">co_lnotab</span></code></a> <a class="reference internal" href="../reference/datamodel.html#code-objects"><span class="std std-ref">code objects</span></a> foi descontinuado e será removido no 3.12. O código que precisa ser convertido do deslocamento para o número da linha deve usar o novo método <a class="reference internal" href="../reference/datamodel.html#codeobject.co_lines" title="codeobject.co_lines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">co_lines()</span></code></a>.</p>
</section>
<section id="pep-634-structural-pattern-matching">
<h3 class="translated">PEP 634: Correspondência de padrão estrutural<a class="headerlink" href="#pep-634-structural-pattern-matching" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">A correspondência de padrão estrutural foi adicionada na forma de uma <em>instrução de correspondência</em> e <em>instruções de caso</em> de padrões com ações associadas. Os padrões consistem em sequências, mapeamentos, tipos de dados primitivos, bem como instâncias de classe. A correspondência de padrão permite que os programas extraiam informações de tipos de dados complexos, ramifiquem na estrutura de dados e apliquem ações específicas com base em diferentes formas de dados.</p>
<section id="syntax-and-operations">
<h4 class="translated">Sintaxe e operações<a class="headerlink" href="#syntax-and-operations" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">A sintaxe genérica da correspondência de padrão é:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">match</span> <span class="n">sujeito</span><span class="p">:</span>
    <span class="k">case</span> <span class="o">&lt;</span><span class="n">padrão_1</span><span class="o">&gt;</span><span class="p">:</span>
        <span class="o">&lt;</span><span class="n">ação_1</span><span class="o">&gt;</span>
    <span class="k">case</span> <span class="o">&lt;</span><span class="n">padrão_2</span><span class="o">&gt;</span><span class="p">:</span>
        <span class="o">&lt;</span><span class="n">ação_2</span><span class="o">&gt;</span>
    <span class="k">case</span> <span class="o">&lt;</span><span class="n">padrão_3</span><span class="o">&gt;</span><span class="p">:</span>
        <span class="o">&lt;</span><span class="n">ação_3</span><span class="o">&gt;</span>
    <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
        <span class="o">&lt;</span><span class="n">ação_curinga</span><span class="o">&gt;</span>
</pre></div>
</div>
<p class="translated">Uma instrução de correspondência pega uma expressão e compara seu valor com padrões sucessivos fornecidos como um ou mais blocos de caso. Especificamente, a correspondência de padrões opera:</p>
<ol class="arabic simple">
<li><p class="translated">usando dados com tipo e forma (o <code class="docutils literal notranslate"><span class="pre">sujeito</span></code>)</p></li>
<li><p class="translated">avaliando o <code class="docutils literal notranslate"><span class="pre">sujeito</span></code> na instrução <code class="docutils literal notranslate"><span class="pre">match</span></code></p></li>
<li><p class="translated">comparando o assunto com cada padrão em uma instrução <code class="docutils literal notranslate"><span class="pre">case</span></code> de cima para baixo até que uma correspondência seja confirmada.</p></li>
<li><p class="translated">executando a ação associada ao padrão da correspondência confirmada</p></li>
<li><p class="translated">Se uma correspondência exata não for confirmada, no último caso, um curinga <code class="docutils literal notranslate"><span class="pre">_</span></code>, se fornecido, será usado como o caso de correspondência. Se uma correspondência exata não for confirmada e não houver um caractere curinga, todo o bloco de correspondência será autônomo.</p></li>
</ol>
</section>
<section id="declarative-approach">
<h4 class="translated">Abordagem declarativa<a class="headerlink" href="#declarative-approach" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Os leitores podem estar cientes da correspondência de padrão por meio do exemplo simples de correspondência de um assunto (objeto de dados) a um literal (padrão) com a instrução switch encontrada em C, Java ou JavaScript (e muitas outras linguagens). Frequentemente, a instrução switch é usada para comparação de um objeto/expressão com instruções case contendo literais.</p>
<p class="translated">Exemplos mais poderosos de correspondência de padrão podem ser encontrados em linguagens como Scala e Elixir. Com a correspondência de padrão estrutural, a abordagem é “declarativa” e declara explicitamente as condições (os padrões) para que os dados correspondam.</p>
<p class="translated">Embora uma série “imperativa” de instruções usando instruções “if” aninhadas possa ser usada para realizar algo semelhante à correspondência de padrão estrutural, é menos clara do que a abordagem “declarativa”. Em vez disso, a abordagem “declarativa” estabelece as condições a serem atendidas para uma correspondência e é mais legível por meio de seus padrões explícitos. Embora a correspondência de padrão estrutural possa ser usada em sua forma mais simples comparando uma variável a um literal em uma instrução case, seu verdadeiro valor para Python reside em seu tratamento do tipo e forma do sujeito.</p>
</section>
<section id="simple-pattern-match-to-a-literal">
<h4 class="translated">Padrão simples: corresponder a um literal<a class="headerlink" href="#simple-pattern-match-to-a-literal" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Vejamos este exemplo como correspondência de padrão em sua forma mais simples: um valor, o assunto, sendo correspondido a vários literais, os padrões. No exemplo abaixo, <code class="docutils literal notranslate"><span class="pre">status</span></code> é o assunto da instrução de correspondência. Os padrões são cada uma das instruções de caso, onde literais representam códigos de status de solicitação. A ação associada ao caso é executada após uma partida:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">http_error</span><span class="p">(</span><span class="n">status</span><span class="p">):</span>
    <span class="k">match</span> <span class="n">status</span><span class="p">:</span>
        <span class="k">case</span> <span class="mi">400</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Bad request&quot;</span>
        <span class="k">case</span> <span class="mi">404</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Not found&quot;</span>
        <span class="k">case</span> <span class="mi">418</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;I&#39;m a teapot&quot;</span>
        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Something&#39;s wrong with the internet&quot;</span>
</pre></div>
</div>
<p class="translated">Se a função acima receber um <code class="docutils literal notranslate"><span class="pre">status</span></code> de 418, “I’m a teapot” será retornado. Se a função acima receber um <code class="docutils literal notranslate"><span class="pre">status</span></code> de 500, a instrução case com <code class="docutils literal notranslate"><span class="pre">_</span></code> irá corresponder a um curinga, e “Something’s wrong with the Internet” é retornado. Observe o último bloco: o nome da variável, <code class="docutils literal notranslate"><span class="pre">_</span></code>, atua como um <em>curinga</em> e garante que o assunto sempre corresponderá. O uso de <code class="docutils literal notranslate"><span class="pre">_</span></code> é opcional.</p>
<p class="translated">Você pode combinar vários literais em um único padrão usando <code class="docutils literal notranslate"><span class="pre">|</span></code> (“ou”):</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">case</span> <span class="mi">401</span> <span class="o">|</span> <span class="mi">403</span> <span class="o">|</span> <span class="mi">404</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;Não permitido&quot;</span>
</pre></div>
</div>
<section id="behavior-without-the-wildcard">
<h5 class="translated">Comportamento sem o curinga<a class="headerlink" href="#behavior-without-the-wildcard" title="Link para este cabeçalho">¶</a></h5>
<p class="translated">Se modificarmos o exemplo acima removendo o último bloco case, o exemplo se tornará:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">http_error</span><span class="p">(</span><span class="n">status</span><span class="p">):</span>
    <span class="k">match</span> <span class="n">status</span><span class="p">:</span>
        <span class="k">case</span> <span class="mi">400</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Bad request&quot;</span>
        <span class="k">case</span> <span class="mi">404</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Not found&quot;</span>
        <span class="k">case</span> <span class="mi">418</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;I&#39;m a teapot&quot;</span>
</pre></div>
</div>
<p class="translated">Sem o uso de <code class="docutils literal notranslate"><span class="pre">_</span></code> em uma instrução case, uma correspondência pode não existir. Se não houver correspondência, o comportamento é autônomo. Por exemplo, se o <code class="docutils literal notranslate"><span class="pre">status</span></code> de 500 for passado, ocorre um no-op.</p>
</section>
</section>
<section id="patterns-with-a-literal-and-variable">
<h4 class="translated">Padrões com uma literal e variável<a class="headerlink" href="#patterns-with-a-literal-and-variable" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Os padrões podem parecer atribuições de desempacotamento e um padrão pode ser usado para vincular variáveis. Neste exemplo, um ponto de dados pode ser desempacotado em sua coordenada x e coordenada y:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ponto é uma tupla (x, y)</span>
<span class="k">match</span> <span class="n">ponto</span><span class="p">:</span>
    <span class="k">case</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Origem&quot;</span><span class="p">)</span>
    <span class="k">case</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Y=</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">case</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;X=</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">case</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;X=</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, Y=</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Não é um ponto&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">O primeiro padrão tem dois literais, <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0)</span></code>, e pode ser considerado uma extensão do padrão literal mostrado acima. Os próximos dois padrões combinam um literal e uma variável, e a variável <em>vincula</em> um valor do assunto (<code class="docutils literal notranslate"><span class="pre">ponto</span></code>). O quarto padrão captura dois valores, o que o torna conceitualmente semelhante à atribuição de desempacotamento <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y)</span> <span class="pre">=</span> <span class="pre">ponto</span></code>.</p>
</section>
<section id="patterns-and-classes">
<h4 class="translated">Padrões e classes<a class="headerlink" href="#patterns-and-classes" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Se estiver usando classes para estruturar seus dados, você pode usar como padrão o nome da classe seguido por uma lista de argumentos semelhante a um construtor. Este padrão tem a capacidade de capturar atributos da instância em variáveis:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Point</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>

<span class="k">def</span><span class="w"> </span><span class="nf">location</span><span class="p">(</span><span class="n">point</span><span class="p">):</span>
    <span class="k">match</span> <span class="n">point</span><span class="p">:</span>
        <span class="k">case</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
           <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;O ponto está na origem.&quot;</span><span class="p">)</span>
        <span class="k">case</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">):</span>
           <span class="nb">print</span><span class="p">(</span><span class="n">f</span> <span class="s2">&quot;Y=</span><span class="si">{y}</span><span class="s2"> e o ponto está no eixo y.&quot;</span><span class="p">)</span>
        <span class="k">case</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
           <span class="nb">print</span><span class="p">(</span><span class="n">f</span> <span class="s2">&quot;X=</span><span class="si">{x}</span><span class="s2"> e o ponto está no eixo x.&quot;</span><span class="p">)</span>
        <span class="k">case</span> <span class="n">Point</span><span class="p">():</span>
           <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;O ponto está localizado em outro lugar no plano.&quot;</span><span class="p">)</span>
        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
           <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Não é um ponto&quot;</span><span class="p">)</span>
</pre></div>
</div>
<section id="patterns-with-positional-parameters">
<h5 class="translated">Padrões com parâmetros posicionais<a class="headerlink" href="#patterns-with-positional-parameters" title="Link para este cabeçalho">¶</a></h5>
<p class="translated">Você pode usar parâmetros posicionais com algumas classes embutidas que fornecem uma ordem para seus atributos (por exemplo, classes de dados). Você também pode definir uma posição específica para atributos em padrões configurando o atributo especial <code class="docutils literal notranslate"><span class="pre">__match_args__</span></code> em suas classes. Se for definido como (“x”, “y”), os seguintes padrões são todos equivalentes (e todos ligam o atributo <code class="docutils literal notranslate"><span class="pre">y</span></code> à variável <code class="docutils literal notranslate"><span class="pre">var</span></code>):</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Ponto</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span>
<span class="n">Ponto</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">var</span><span class="p">)</span>
<span class="n">Ponto</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">var</span><span class="p">)</span>
<span class="n">Ponto</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">var</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="nested-patterns">
<h4 class="translated">Padrões aninhados<a class="headerlink" href="#nested-patterns" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Os padrões podem ser aninhados arbitrariamente. Por exemplo, se nossos dados forem uma pequena lista de pontos, eles podem ser correspondidos assim:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">match</span> <span class="n">points</span><span class="p">:</span>
    <span class="k">case</span> <span class="p">[]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nenhum ponto na lista.&quot;</span><span class="p">)</span>
    <span class="k">case</span> <span class="p">[</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A origem é o único ponto na lista.&quot;</span><span class="p">)</span>
    <span class="k">case</span> <span class="p">[</span><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Um único ponto </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2"> está na lista.&quot;</span><span class="p">)</span>
    <span class="k">case</span> <span class="p">[</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">y2</span><span class="p">)]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dois pontos no eixo Y em </span><span class="si">{</span><span class="n">y1</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">y2</span><span class="si">}</span><span class="s2"> estão na lista.&quot;</span><span class="p">)</span>
    <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Algo diferente foi encontrado na lista.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="complex-patterns-and-the-wildcard">
<h4 class="translated">Padrões complexos e o curinga<a class="headerlink" href="#complex-patterns-and-the-wildcard" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Até este ponto, os exemplos usaram <code class="docutils literal notranslate"><span class="pre">_</span></code> sozinho na última instrução case. Um curinga pode ser usado em padrões mais complexos, como <code class="docutils literal notranslate"><span class="pre">('error',</span> <span class="pre">code,</span> <span class="pre">_)</span></code>. Por exemplo:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">match</span> <span class="n">test_variable</span><span class="p">:</span>
    <span class="k">case</span> <span class="p">(</span><span class="s1">&#39;warning&#39;</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="mi">40</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Foi recebido um alerta.&quot;</span><span class="p">)</span>
    <span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="k">_</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ocorreu um erro </span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">No caso acima, <code class="docutils literal notranslate"><span class="pre">test_variable</span></code> irá corresponder a (‘erro’, código, 100) e (‘erro’, código, 800).</p>
</section>
<section id="guard">
<h4 class="translated">Guarda<a class="headerlink" href="#guard" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Podemos adicionar uma cláusula <code class="docutils literal notranslate"><span class="pre">if</span></code> a um padrão, conhecido como “guarda”. Se a guarda for falsa, <code class="docutils literal notranslate"><span class="pre">match</span></code> tenta o próximo bloco de caso. Observe que a captura de valor ocorre antes que a guarda seja avaliada:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">match</span> <span class="n">point</span><span class="p">:</span>
    <span class="k">case</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;O ponto está localizado em uma diagonal Y=X at </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
    <span class="k">case</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ponto não está na diagonal.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="other-key-features">
<h4 class="translated">Outros recursos-chave<a class="headerlink" href="#other-key-features" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Vários outros recursos-chave:</p>
<ul>
<li><p class="translated">Assim como desempacotar atribuições, os padrões de tupla e lista têm exatamente o mesmo significado e realmente correspondem a sequências arbitrárias. Tecnicamente, o sujeito deve ser uma sequência. Portanto, uma exceção importante é que padrões não correspondem a iteradores. Também evita um erro comum, sequência de padrões não correspondem a strings.</p></li>
<li><p class="translated">Os padrões de sequência têm suporte a curingas: <code class="docutils literal notranslate"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">*rest]</span></code> e <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">*rest)</span></code> funcionam de forma semelhante a curingas em desempacotamentos de atribuições. O nome depois de <code class="docutils literal notranslate"><span class="pre">*</span></code> também pode ser <code class="docutils literal notranslate"><span class="pre">_</span></code>, então <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">*_)</span></code> corresponde a uma sequência de pelo menos dois itens sem ligar os itens restantes.</p></li>
<li><p class="translated">Padrões de mapeamento: <code class="docutils literal notranslate"><span class="pre">{&quot;bandwidth&quot;:</span> <span class="pre">b,</span> <span class="pre">&quot;latency&quot;:</span> <span class="pre">l}</span></code> captura os valores <code class="docutils literal notranslate"><span class="pre">&quot;bandwidth&quot;</span></code> e <code class="docutils literal notranslate"><span class="pre">&quot;latency&quot;</span></code> de um dicionário. Diferente dos padrões de sequência, chaves extra são ignoradas.  Um curinga <code class="docutils literal notranslate"><span class="pre">**rest</span></code> também é permitido.  (Mas <code class="docutils literal notranslate"><span class="pre">**_</span></code> seria redundante, então não é permitido.)</p></li>
<li><p class="translated">Subpadrões podem ser capturados usando a palavra reservada <code class="docutils literal notranslate"><span class="pre">as</span></code></p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">case</span> <span class="p">(</span><span class="n">Ponto</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="n">Ponto</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span> <span class="k">as</span> <span class="n">p2</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p class="translated">Isso liga x1, y1, x2, y2 como você esperaria sem a cláusula <code class="docutils literal notranslate"><span class="pre">as</span></code> e p2 a todo o segundo item do sujeito.</p>
</li>
<li><p class="translated">A maioria dos literais são comparados por igualdade. No entanto, os singletons <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">False</span></code> e <code class="docutils literal notranslate"><span class="pre">None</span></code> são comparados por identidade.</p></li>
<li><p class="translated">Constantes nomeadas podem ser usadas em padrões. Essas constantes nomeadas devem ser nomes pontilhados para evitar que a constante seja interpretada como uma variável de captura:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Color</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">RED</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">GREEN</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">BLUE</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">GREEN</span>
<span class="k">match</span> <span class="n">color</span><span class="p">:</span>
    <span class="k">case</span> <span class="n">Color</span><span class="o">.</span><span class="n">RED</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Eu vejo vermelho!&quot;</span><span class="p">)</span>
    <span class="k">case</span> <span class="n">Color</span><span class="o">.</span><span class="n">GREEN</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A grama é verde&quot;</span><span class="p">)</span>
    <span class="k">case</span> <span class="n">Color</span><span class="o">.</span><span class="n">BLUE</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Eu azul de fome :(&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p class="translated">Para obter as especificações completas, consulte a <span class="target" id="index-99"></span><a class="pep reference external" href="https://peps.python.org/pep-0634/"><strong>PEP 634</strong></a>. A motivação e o raciocínio estão na <span class="target" id="index-100"></span><a class="pep reference external" href="https://peps.python.org/pep-0635/"><strong>PEP 635</strong></a>, e um tutorial mais longo está na <span class="target" id="index-101"></span><a class="pep reference external" href="https://peps.python.org/pep-0636/"><strong>PEP 636</strong></a>.</p>
</section>
</section>
<section id="optional-encodingwarning-and-encoding-locale-option">
<span id="whatsnew310-pep597"></span><h3 class="translated"><code class="docutils literal notranslate"><span class="pre">EncodingWarning</span></code> opcional e opção <code class="docutils literal notranslate"><span class="pre">encoding=&quot;locale&quot;</span></code><a class="headerlink" href="#optional-encodingwarning-and-encoding-locale-option" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">A codificação padrão de <a class="reference internal" href="../library/io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOWrapper</span></code></a> e <a class="reference internal" href="../library/functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> depende da plataforma e da localidade. Como o UTF-8 é usado na maioria das plataformas Unix, omitir a opção <code class="docutils literal notranslate"><span class="pre">encoding</span></code> ao abrir arquivos UTF-8 (por exemplo, JSON, YAML, TOML, Markdown) é um bug muito comum. Por exemplo:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># BUG: mode &quot;rb&quot; ou encoding=&quot;utf-8&quot; deve ser usado.</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Para encontrar este tipo de bug, uma <code class="docutils literal notranslate"><span class="pre">EncodingWarning</span></code> opcional é adicionada. É emitido quando <a class="reference internal" href="../library/sys.html#sys.flags" title="sys.flags"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.flags.warn_default_encoding</span></code></a> é verdadeiro e a codificação padrão específica da localidade é usada.</p>
<p class="translated">A opção <code class="docutils literal notranslate"><span class="pre">-X</span> <span class="pre">warn_default_encoding</span></code> e <span class="target" id="index-102"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONWARNDEFAULTENCODING"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONWARNDEFAULTENCODING</span></code></a> são adicionadas para ativar o aviso.</p>
<p class="translated">Veja <a class="reference internal" href="../library/io.html#io-text-encoding"><span class="std std-ref">Codificação do texto</span></a> para mais informações.</p>
</section>
</section>
<section id="new-features-related-to-type-hints">
<span id="new-feat-related-type-hints"></span><h2 class="translated">Novos recursos relacionados a dicas de tipo<a class="headerlink" href="#new-features-related-to-type-hints" title="Link para este cabeçalho">¶</a></h2>
<p class="translated">Esta seção cobre as principais mudanças que afetam as dicas de tipo da  <span class="target" id="index-103"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> e o módulo <a class="reference internal" href="../library/typing.html#module-typing" title="typing: Support for type hints (see :pep:`484`)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">typing</span></code></a>.</p>
<section id="pep-604-new-type-union-operator">
<h3 class="translated">PEP 604: novo operador de união de tipo<a class="headerlink" href="#pep-604-new-type-union-operator" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Um novo operador de união de tipo foi introduzido, o que permite a sintaxe <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">|</span> <span class="pre">Y</span></code>. Isso fornece uma maneira mais limpa de expressar “tanto o tipo X quanto o tipo Y” ao invés de usar <a class="reference internal" href="../library/typing.html#typing.Union" title="typing.Union"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Union</span></code></a>, especialmente em dicas de tipo.</p>
<p class="translated">Nas versões anteriores do Python, para aplicar uma dica de tipo para funções que aceitam argumentos de vários tipos, era usado <a class="reference internal" href="../library/typing.html#typing.Union" title="typing.Union"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Union</span></code></a>:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">square</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">number</span> <span class="o">**</span> <span class="mi">2</span>
</pre></div>
</div>
<p class="translated">As dicas de tipo agora podem ser escritas de uma maneira mais sucinta:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">square</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">number</span> <span class="o">**</span> <span class="mi">2</span>
</pre></div>
</div>
<p class="translated">Esta nova sintaxe também é aceita como o segundo argumento para <a class="reference internal" href="../library/functions.html#isinstance" title="isinstance"><code class="xref py py-func docutils literal notranslate"><span class="pre">isinstance()</span></code></a> e <a class="reference internal" href="../library/functions.html#issubclass" title="issubclass"><code class="xref py py-func docutils literal notranslate"><span class="pre">issubclass()</span></code></a>:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p class="translated">Veja <a class="reference internal" href="../library/stdtypes.html#types-union"><span class="std std-ref">Tipo União</span></a> e <span class="target" id="index-104"></span><a class="pep reference external" href="https://peps.python.org/pep-0604/"><strong>PEP 604</strong></a> para mais detalhes.</p>
<p class="translated">(Contribuição de Maggie Moss e Philippe Prados em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41428">bpo-41428</a>, com acréscimos por Yurii Karabas e Serhiy Storchaka em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44490">bpo-44490</a>.)</p>
</section>
<section id="pep-612-parameter-specification-variables">
<h3 class="translated">PEP 612: variáveis de especificação de parâmetros<a class="headerlink" href="#pep-612-parameter-specification-variables" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Duas novas opções para melhorar as informações fornecidas para verificadores de tipo estático para <code class="docutils literal notranslate"><span class="pre">Callable</span></code> da <span class="target" id="index-105"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> foram adicionadas ao módulo <a class="reference internal" href="../library/typing.html#module-typing" title="typing: Support for type hints (see :pep:`484`)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">typing</span></code></a>.</p>
<p class="translated">A primeira é a variável de especificação de parâmetro. Eles são usados para encaminhar os tipos de parâmetro de um chamável para outro chamável – um padrão comumente encontrado em funções de ordem superior e decoradores. Exemplos de uso podem ser encontrados em <a class="reference internal" href="../library/typing.html#typing.ParamSpec" title="typing.ParamSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.ParamSpec</span></code></a>. Anteriormente, não havia uma maneira fácil de digitar a dependência de anotação de tipos de parâmetro de maneira tão precisa.</p>
<p class="translated">A segunda opção é o novo operador <code class="docutils literal notranslate"><span class="pre">Concatenate</span></code>. É usado em conjunto com variáveis de especificação de parâmetro para digitar anotar um chamável de ordem superior que adiciona ou remove parâmetros de outro chamável. Exemplos de uso podem ser encontrados em <a class="reference internal" href="../library/typing.html#typing.Concatenate" title="typing.Concatenate"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Concatenate</span></code></a>.</p>
<p class="translated">Veja <a class="reference internal" href="../library/typing.html#typing.Callable" title="typing.Callable"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Callable</span></code></a>, <a class="reference internal" href="../library/typing.html#typing.ParamSpec" title="typing.ParamSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.ParamSpec</span></code></a>, <a class="reference internal" href="../library/typing.html#typing.Concatenate" title="typing.Concatenate"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Concatenate</span></code></a>, <a class="reference internal" href="../library/typing.html#typing.ParamSpecArgs" title="typing.ParamSpecArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.ParamSpecArgs</span></code></a>, <a class="reference internal" href="../library/typing.html#typing.ParamSpecKwargs" title="typing.ParamSpecKwargs"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.ParamSpecKwargs</span></code></a> e <span class="target" id="index-106"></span><a class="pep reference external" href="https://peps.python.org/pep-0612/"><strong>PEP 612</strong></a> para mais detalhes.</p>
<p class="translated">(Contribuição de Ken Jin em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41559">bpo-41559</a>, com pequenas melhorias por Jelle Zijlstra em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43783">bpo-43783</a>. PEP escrita por Mark Mendoza.)</p>
</section>
<section id="pep-613-typealias">
<h3 class="translated">PEP 613: TypeAlias<a class="headerlink" href="#pep-613-typealias" title="Link para este cabeçalho">¶</a></h3>
<p class="translated"><span class="target" id="index-107"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> introduziu o conceito de apelidos de tipo, exigindo apenas que fossem atribuições não anotadas de nível superior. Essa simplicidade às vezes tornava difícil para os verificadores de tipo distinguirem entre apelidos de tipo e atribuições comuns, especialmente quando referências diretas ou tipos inválidos estavam envolvidos. Compare:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">StrCache</span> <span class="o">=</span> <span class="s1">&#39;Cache[str]&#39;</span>  <span class="c1"># um apelido de tipo</span>
<span class="n">LOG_PREFIX</span> <span class="o">=</span> <span class="s1">&#39;LOG[DEBUG]&#39;</span>  <span class="c1"># uma constante do módulo</span>
</pre></div>
</div>
<p class="translated">Agora o módulo <a class="reference internal" href="../library/typing.html#module-typing" title="typing: Support for type hints (see :pep:`484`)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">typing</span></code></a> tem um valor especial <a class="reference internal" href="../library/typing.html#typing.TypeAlias" title="typing.TypeAlias"><code class="xref py py-data docutils literal notranslate"><span class="pre">TypeAlias</span></code></a> que permite declarar apelidos de tipo, mais explicitamente:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">StrCache</span><span class="p">:</span> <span class="n">TypeAlias</span> <span class="o">=</span> <span class="s1">&#39;Cache[str]&#39;</span>  <span class="c1"># um apelido de tipo</span>
<span class="n">LOG_PREFIX</span> <span class="o">=</span> <span class="s1">&#39;LOG[DEBUG]&#39;</span>  <span class="c1"># uma constante do módulo</span>
</pre></div>
</div>
<p class="translated">Veja <span class="target" id="index-108"></span><a class="pep reference external" href="https://peps.python.org/pep-0613/"><strong>PEP 613</strong></a> para mais detalhes.</p>
<p class="translated">(Contribuição de Mikhail Golubev em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41923">bpo-41923</a>.)</p>
</section>
<section id="pep-647-user-defined-type-guards">
<h3 class="translated">PEP 647: guardas de tipo definidas pelo usuário<a class="headerlink" href="#pep-647-user-defined-type-guards" title="Link para este cabeçalho">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/typing.html#typing.TypeGuard" title="typing.TypeGuard"><code class="xref py py-data docutils literal notranslate"><span class="pre">TypeGuard</span></code></a> foi adicionado ao módulo <a class="reference internal" href="../library/typing.html#module-typing" title="typing: Support for type hints (see :pep:`484`)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">typing</span></code></a> para anotar funções de guarda de tipo e melhorar informações fornecidas a verificadores de tipo estático durante um estreitamento de tipo. Para mais informações, veja a documentação do <a class="reference internal" href="../library/typing.html#typing.TypeGuard" title="typing.TypeGuard"><code class="xref py py-data docutils literal notranslate"><span class="pre">TypeGuard</span></code></a> e a <span class="target" id="index-109"></span><a class="pep reference external" href="https://peps.python.org/pep-0647/"><strong>PEP 647</strong></a>.</p>
<p class="translated">(Contribuição de Ken Jin e Guido van Rossum em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43766">bpo-43766</a>. PEP escrita por Eric Traut.)</p>
</section>
</section>
<section id="other-language-changes">
<h2 class="translated">Outras mudanças na linguagem<a class="headerlink" href="#other-language-changes" title="Link para este cabeçalho">¶</a></h2>
<ul class="simple">
<li><p class="translated">O tipo <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> tem um novo método <a class="reference internal" href="../library/stdtypes.html#int.bit_count" title="int.bit_count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">int.bit_count()</span></code></a>, retornando o número de unidades na expansão binária de um dado inteiro, também conhecido como contagem da população. (Contribuição de Niklas Fiekas em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=29882">bpo-29882</a>.)</p></li>
<li><p class="translated">As visualizações retornadas por <a class="reference internal" href="../library/stdtypes.html#dict.keys" title="dict.keys"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.keys()</span></code></a>, <a class="reference internal" href="../library/stdtypes.html#dict.values" title="dict.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.values()</span></code></a> e <a class="reference internal" href="../library/stdtypes.html#dict.items" title="dict.items"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.items()</span></code></a> agora têm um atributo <code class="docutils literal notranslate"><span class="pre">mapping</span></code> que fornece um objeto <a class="reference internal" href="../library/types.html#types.MappingProxyType" title="types.MappingProxyType"><code class="xref py py-class docutils literal notranslate"><span class="pre">types.MappingProxyType</span></code></a> que envolve o dicionário original. (Contribuição de Dennis Sweeney em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40890">bpo-40890</a>.)</p></li>
<li><p class="translated"><span class="target" id="index-110"></span><a class="pep reference external" href="https://peps.python.org/pep-0618/"><strong>PEP 618</strong></a>: A função <a class="reference internal" href="../library/functions.html#zip" title="zip"><code class="xref py py-func docutils literal notranslate"><span class="pre">zip()</span></code></a> agora tem um sinalizador opcional <code class="docutils literal notranslate"><span class="pre">strict</span></code>, usado para exigir que todos os iteráveis tenham um comprimento igual.</p></li>
<li><p class="translated">Funções embutidas e de extensão que recebem argumentos inteiros não aceitam mais <a class="reference internal" href="../library/decimal.html#decimal.Decimal" title="decimal.Decimal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Decimal</span></code></a>, <a class="reference internal" href="../library/fractions.html#fractions.Fraction" title="fractions.Fraction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fraction</span></code></a> e outros objetos que podem ser convertidos em inteiros apenas com uma perda (por exemplo, tem o método <a class="reference internal" href="../reference/datamodel.html#object.__int__" title="object.__int__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__int__()</span></code></a>, mas não tem o método <a class="reference internal" href="../reference/datamodel.html#object.__index__" title="object.__index__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__index__()</span></code></a>). (Contribuição de Serhiy Storchaka em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37999">bpo-37999</a>.)</p></li>
<li><p class="translated">Se <a class="reference internal" href="../reference/datamodel.html#object.__ipow__" title="object.__ipow__"><code class="xref py py-func docutils literal notranslate"><span class="pre">object.__ipow__()</span></code></a> retorna <a class="reference internal" href="../library/constants.html#NotImplemented" title="NotImplemented"><code class="xref py py-data docutils literal notranslate"><span class="pre">NotImplemented</span></code></a>, o operador vai corretamente recorrer ao <a class="reference internal" href="../reference/datamodel.html#object.__pow__" title="object.__pow__"><code class="xref py py-func docutils literal notranslate"><span class="pre">object.__pow__()</span></code></a> e <a class="reference internal" href="../reference/datamodel.html#object.__rpow__" title="object.__rpow__"><code class="xref py py-func docutils literal notranslate"><span class="pre">object.__rpow__()</span></code></a> como esperado. (Contribuição de Alex Shkop em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38302">bpo-38302</a>.)</p></li>
<li><p class="translated">Expressões de atribuição agora podem ser usadas sem parênteses dentro de literais de conjuntos e compreensões de conjuntos, bem como em índices de sequência (mas não em fatias).</p></li>
<li><p class="translated">As funções têm um novo atributo <code class="docutils literal notranslate"><span class="pre">__builtins__</span></code> que é usado para procurar por símbolos embutidos quando uma função é executada, em vez de procurar em <code class="docutils literal notranslate"><span class="pre">__globals__['__builtins__']</span></code>. O atributo é inicializado a partir de <code class="docutils literal notranslate"><span class="pre">__globals__[&quot;__builtins__&quot;]</span></code> se existir; do contrário, a partir dos embutidos atuais. (Contribuição de Mark Shannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42990">bpo-42990</a>.)</p></li>
<li><p class="translated">Duas novas funções embutidas – <a class="reference internal" href="../library/functions.html#aiter" title="aiter"><code class="xref py py-func docutils literal notranslate"><span class="pre">aiter()</span></code></a> e <a class="reference internal" href="../library/functions.html#anext" title="anext"><code class="xref py py-func docutils literal notranslate"><span class="pre">anext()</span></code></a> foram adicionadas para fornecer contrapartes assíncronas para <a class="reference internal" href="../library/functions.html#iter" title="iter"><code class="xref py py-func docutils literal notranslate"><span class="pre">iter()</span></code></a> e <a class="reference internal" href="../library/functions.html#next" title="next"><code class="xref py py-func docutils literal notranslate"><span class="pre">next()</span></code></a>, respectivamente. (Contribuição de Joshua Bronson, Daniel Pope e Justin Wang em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=31861">bpo-31861</a>.)</p></li>
<li><p class="translated">Métodos estáticos (<a class="reference internal" href="../library/functions.html#staticmethod" title="staticmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;staticmethod</span></code></a>) e métodos de classe (<a class="reference internal" href="../library/functions.html#classmethod" title="classmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;classmethod</span></code></a>) agora herdam os atributos de método (<code class="docutils literal notranslate"><span class="pre">__module__</span></code>, <code class="docutils literal notranslate"><span class="pre">__name__</span></code>, <code class="docutils literal notranslate"><span class="pre">__qualname__</span></code>, <code class="docutils literal notranslate"><span class="pre">__doc__</span></code>, <code class="docutils literal notranslate"><span class="pre">__annotations__</span></code>) e têm um novo atributo <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code> . Além disso, métodos estáticos são agora chamáveis como funções comuns. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43682">bpo-43682</a>.)</p></li>
<li><p class="translated">Anotações para alvos complexos (tudo além de alvos de nome simples, ou <code class="docutils literal notranslate"><span class="pre">simple</span> <span class="pre">name</span></code>, definidos pela <span class="target" id="index-111"></span><a class="pep reference external" href="https://peps.python.org/pep-0526/"><strong>PEP 526</strong></a>) não causam mais nenhum efeito de tempo de execução com <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">annotations</span></code>. (Contribuição de Batuhan Taskaya em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42737">bpo-42737</a>.)</p></li>
<li><p class="translated">Objetos classe e módulo agora criam preguiçosamente dados vazios de anotações sob demanda. Os dicionários de anotações são armazenados em <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> do objeto para compatibilidade com versões anteriores. Isso melhora as melhores práticas para trabalhar com <code class="docutils literal notranslate"><span class="pre">__annotations__</span></code>; para mais informações, veja <a class="reference internal" href="../howto/annotations.html#annotations-howto"><span class="std std-ref">Boas práticas para anotações</span></a>. (Contribuição de Larry Hastings em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43901">bpo-43901</a>.)</p></li>
<li><p class="translated">Anotações consistindo em <code class="docutils literal notranslate"><span class="pre">yield</span></code>, <code class="docutils literal notranslate"><span class="pre">yield</span> <span class="pre">from</span></code>, <code class="docutils literal notranslate"><span class="pre">await</span></code> ou expressões nomeadas agora são proibidas em <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">annotations</span></code> por causa de seus efeitos colaterais. (Contribuição de Batuhan Taskaya em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42725">bpo-42725</a>.)</p></li>
<li><p class="translated">O uso de variáveis não ligadas, <code class="docutils literal notranslate"><span class="pre">super()</span></code> e outras expressões que podem alterar o processamento da tabela de símbolos como anotações são agora processadas sem efeito sob <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">annotations</span></code>. (Contribuição de Batuhan Taskaya em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42725">bpo-42725</a>.)</p></li>
<li><p class="translated">Hashes de valores NaN de ambos os tipos <a class="reference internal" href="../library/functions.html#float" title="float"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> e <a class="reference internal" href="../library/decimal.html#decimal.Decimal" title="decimal.Decimal"><code class="xref py py-class docutils literal notranslate"><span class="pre">decimal.Decimal</span></code></a> agora dependem da identidade do objeto. Anteriormente, eles sempre hash para <code class="docutils literal notranslate"><span class="pre">0</span></code> mesmo que os valores NaN não sejam iguais uns aos outros. Isso causou um comportamento de tempo de execução potencialmente quadrático devido a colisões de hash excessivas ao criar dicionários e conjuntos contendo vários NaNs. (Contribuição de Raymond Hettinger em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43475">bpo-43475</a>.)</p></li>
<li><p class="translated">Uma <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> (ao invés de uma <a class="reference internal" href="../library/exceptions.html#NameError" title="NameError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NameError</span></code></a>) será levantada ao excluir a constante <a class="reference internal" href="../library/constants.html#debug__" title="__debug__"><code class="xref py py-const docutils literal notranslate"><span class="pre">__debug__</span></code></a>. (Contribuição de Donghee Na em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45000">bpo-45000</a>.)</p></li>
<li><p class="translated">Exceções <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> agora possuem atributos <code class="docutils literal notranslate"><span class="pre">end_lineno</span></code> e <code class="docutils literal notranslate"><span class="pre">end_offset</span></code>. Eles serão <code class="docutils literal notranslate"><span class="pre">None</span></code> se não forem determinados. (Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43914">bpo-43914</a>.)</p></li>
</ul>
</section>
<section id="new-modules">
<h2 class="translated">Novos módulos<a class="headerlink" href="#new-modules" title="Link para este cabeçalho">¶</a></h2>
<ul class="simple">
<li><p class="translated">Nenhum.</p></li>
</ul>
</section>
<section id="improved-modules">
<h2 class="translated">Módulos melhorados<a class="headerlink" href="#improved-modules" title="Link para este cabeçalho">¶</a></h2>
<section id="asyncio">
<h3 class="translated">asyncio<a class="headerlink" href="#asyncio" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona o método <code class="xref py py-meth docutils literal notranslate"><span class="pre">connect_accepted_socket()</span></code> até então em falta. (Contribuição de Alex Grönholm em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41332">bpo-41332</a>.)</p>
</section>
<section id="argparse">
<h3 class="translated">argparse<a class="headerlink" href="#argparse" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">A frase enganosa “argumentos opcionais” foi substituída por “opções” na ajuda do argparse. Alguns testes podem exigir adaptação se eles dependerem da correspondência de saída exata. (Contribuição de Raymond Hettinger em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=9694">bpo-9694</a>.)</p>
</section>
<section id="array">
<h3 class="translated">array<a class="headerlink" href="#array" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">O método <a class="reference internal" href="../library/array.html#array.array.index" title="array.array.index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">index()</span></code></a> de <a class="reference internal" href="../library/array.html#array.array" title="array.array"><code class="xref py py-class docutils literal notranslate"><span class="pre">array.array</span></code></a> agora possui os parâmetros <em>start</em> e <em>stop</em>. (Contribuição de Anders Lorentsen e Zackery Spytz em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=31956">bpo-31956</a>.)</p>
</section>
<section id="asynchat-asyncore-smtpd">
<h3 class="translated">asynchat, asyncore, smtpd<a class="headerlink" href="#asynchat-asyncore-smtpd" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Esses módulos foram marcados como descontinuados em sua documentação de módulo desde o Python 3.6. Uma exceção <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a> em tempo de importação agora foi adicionada a todos esses três módulos.</p>
</section>
<section id="base64">
<h3 class="translated">base64<a class="headerlink" href="#base64" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona <a class="reference internal" href="../library/base64.html#base64.b32hexencode" title="base64.b32hexencode"><code class="xref py py-func docutils literal notranslate"><span class="pre">base64.b32hexencode()</span></code></a> e <a class="reference internal" href="../library/base64.html#base64.b32hexdecode" title="base64.b32hexdecode"><code class="xref py py-func docutils literal notranslate"><span class="pre">base64.b32hexdecode()</span></code></a> para dar suporte a Codificação Base32 com alfabeto hexa estendido.</p>
</section>
<section id="bdb">
<h3 class="translated">bdb<a class="headerlink" href="#bdb" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona <code class="xref py py-meth docutils literal notranslate"><span class="pre">clearBreakpoints()</span></code> para redefinir todos os pontos de interrupção  definidos. (Contribuição de Irit Katriel em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=24160">bpo-24160</a>.)</p>
</section>
<section id="bisect">
<h3 class="translated">bisect<a class="headerlink" href="#bisect" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adicionada a possibilidade de fornecer uma função <em>key</em> para as APIs no módulo <a class="reference internal" href="../library/bisect.html#module-bisect" title="bisect: Array bisection algorithms for binary searching."><code class="xref py py-mod docutils literal notranslate"><span class="pre">bisect</span></code></a>. (Contribuição de Raymond Hettinger em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=4356">bpo-4356</a>.)</p>
</section>
<section id="codecs">
<h3 class="translated">codecs<a class="headerlink" href="#codecs" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona uma função <a class="reference internal" href="../library/codecs.html#codecs.unregister" title="codecs.unregister"><code class="xref py py-func docutils literal notranslate"><span class="pre">codecs.unregister()</span></code></a> para cancelar um registro de uma função de pesquisa de codecs. (Contribuição de Hai Shi em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41842">bpo-41842</a>.)</p>
</section>
<section id="collections-abc">
<h3 class="translated">collections.abc<a class="headerlink" href="#collections-abc" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Os <code class="docutils literal notranslate"><span class="pre">__args__</span></code> do <a class="reference internal" href="../library/stdtypes.html#types-genericalias"><span class="std std-ref">genérico parametrizado</span></a> para <a class="reference internal" href="../library/collections.abc.html#collections.abc.Callable" title="collections.abc.Callable"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Callable</span></code></a> agora são consistentes com <a class="reference internal" href="../library/typing.html#typing.Callable" title="typing.Callable"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Callable</span></code></a>. A classe genérica <a class="reference internal" href="../library/collections.abc.html#collections.abc.Callable" title="collections.abc.Callable"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Callable</span></code></a> agora achata parâmetros de tipo, de forma semelhante ao que <a class="reference internal" href="../library/typing.html#typing.Callable" title="typing.Callable"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Callable</span></code></a> atualmente faz. Isso significa que <code class="docutils literal notranslate"><span class="pre">collections.abc.Callable[[int,</span> <span class="pre">str],</span> <span class="pre">str]</span></code> terá <code class="docutils literal notranslate"><span class="pre">__args__</span></code> de <code class="docutils literal notranslate"><span class="pre">(int,</span> <span class="pre">str,</span> <span class="pre">str)</span></code>; anteriormente, isso era <code class="docutils literal notranslate"><span class="pre">([int,</span> <span class="pre">str],</span> <span class="pre">str)</span></code>. Para permitir esta alteração, agora é possível criar subclasse de <a class="reference internal" href="../library/types.html#types.GenericAlias" title="types.GenericAlias"><code class="xref py py-class docutils literal notranslate"><span class="pre">types.GenericAlias</span></code></a> e uma subclasse será retornada ao fazer um subscript do tipo <a class="reference internal" href="../library/collections.abc.html#collections.abc.Callable" title="collections.abc.Callable"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Callable</span></code></a>. Observe que uma <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> pode ser levantada para formas inválidas de parametrizar <a class="reference internal" href="../library/collections.abc.html#collections.abc.Callable" title="collections.abc.Callable"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Callable</span></code></a> que podem ter passado silenciosamente no Python 3.9. (Contribuição de Ken Jin em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42195">bpo-42195</a>.)</p>
</section>
<section id="contextlib">
<h3 class="translated">contextlib<a class="headerlink" href="#contextlib" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona um gerenciador de contexto <a class="reference internal" href="../library/contextlib.html#contextlib.aclosing" title="contextlib.aclosing"><code class="xref py py-func docutils literal notranslate"><span class="pre">contextlib.aclosing()</span></code></a> para fechar com segurança geradores assíncronos e objetos que representam recursos liberados de forma assíncrona. (Contribuição de Joongi Kim e John Belmonte em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41229">bpo-41229</a>.)</p>
<p class="translated">Adiciona suporte a gerenciador de contexto assíncrono a <a class="reference internal" href="../library/contextlib.html#contextlib.nullcontext" title="contextlib.nullcontext"><code class="xref py py-func docutils literal notranslate"><span class="pre">contextlib.nullcontext()</span></code></a>. (Contribuição de Tom Gringauz em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41543">bpo-41543</a>.)</p>
<p class="translated">Adiciona <a class="reference internal" href="../library/contextlib.html#contextlib.AsyncContextDecorator" title="contextlib.AsyncContextDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncContextDecorator</span></code></a>, para dar suporte ao uso de gerenciadores de contexto assíncronos como decoradores.</p>
</section>
<section id="curses">
<h3 class="translated">curses<a class="headerlink" href="#curses" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">As funções de cores estendidas adicionadas no ncurses 6.1 serão usadas transparentemente por <a class="reference internal" href="../library/curses.html#curses.color_content" title="curses.color_content"><code class="xref py py-func docutils literal notranslate"><span class="pre">curses.color_content()</span></code></a>, <a class="reference internal" href="../library/curses.html#curses.init_color" title="curses.init_color"><code class="xref py py-func docutils literal notranslate"><span class="pre">curses.init_color()</span></code></a>, <a class="reference internal" href="../library/curses.html#curses.init_pair" title="curses.init_pair"><code class="xref py py-func docutils literal notranslate"><span class="pre">curses.init_pair()</span></code></a> e <a class="reference internal" href="../library/curses.html#curses.pair_content" title="curses.pair_content"><code class="xref py py-func docutils literal notranslate"><span class="pre">curses.pair_content()</span></code></a>. Uma nova função, <a class="reference internal" href="../library/curses.html#curses.has_extended_color_support" title="curses.has_extended_color_support"><code class="xref py py-func docutils literal notranslate"><span class="pre">curses.has_extended_color_support()</span></code></a>, indica se o suporte a cores estendidas é fornecido pela biblioteca ncurses subjacente. (Contribuição de Jeffrey Kintscher e Hans Petter Jansson em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36982">bpo-36982</a>.)</p>
<p class="translated">As constantes <code class="docutils literal notranslate"><span class="pre">BUTTON5_*</span></code> agora são expostas no módulo <a class="reference internal" href="../library/curses.html#module-curses" title="curses: An interface to the curses library, providing portable terminal handling. (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">curses</span></code></a> se forem fornecidas pela biblioteca curses subjacente. (Contribuição de Zackery Spytz em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=39273">bpo-39273</a>.)</p>
</section>
<section id="dataclasses">
<h3 class="translated">dataclasses<a class="headerlink" href="#dataclasses" title="Link para este cabeçalho">¶</a></h3>
<section id="slots">
<h4 class="translated">__slots__<a class="headerlink" href="#slots" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">Adicionado o parâmetro <code class="docutils literal notranslate"><span class="pre">slots</span></code> no decorador <a class="reference internal" href="../library/dataclasses.html#dataclasses.dataclass" title="dataclasses.dataclass"><code class="xref py py-func docutils literal notranslate"><span class="pre">dataclasses.dataclass()</span></code></a>. (Contribuição de Yurii Karabas em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42269">bpo-42269</a>)</p>
</section>
<section id="keyword-only-fields">
<h4 class="translated">Campos somente-nomeados<a class="headerlink" href="#keyword-only-fields" title="Link para este cabeçalho">¶</a></h4>
<p class="translated">dataclasses agora oferece suporte a campos que são somente-nomeados no método __init__ gerado. Há várias maneiras de especificar campos somente-nomeados.</p>
<p class="translated">Você pode dizer que todos os campos são somente-nomeados:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>

<span class="nd">@dataclass</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Birthday</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">birthday</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span>
</pre></div>
</div>
<p class="translated">Ambos <code class="docutils literal notranslate"><span class="pre">name</span></code> e <code class="docutils literal notranslate"><span class="pre">birthday</span></code> são parâmetros somente-nomeados para o método __init__ gerado.</p>
<p class="translated">Você pode especificar somente-nomeado por campo:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Birthday</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">birthday</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">kw_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Aqui apenas <code class="docutils literal notranslate"><span class="pre">birthday</span></code> é somente-nomeado. Se você definir <code class="docutils literal notranslate"><span class="pre">kw_only</span></code> em campos individuais, esteja ciente de que existem regras sobre a reordenação de campos devido a campos somente-nomeados que precisam seguir campos não somente-nomeados. Consulte a documentação completa de dataclasses para obter detalhes.</p>
<p class="translated">Você também pode especificar que todos os campos a partir de um marcador KW_ONLY sejam somente-nomeados. Este provavelmente será o uso mais comum:</p>
<div class="translated highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">KW_ONLY</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Point</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">KW_ONLY</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">t</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
</pre></div>
</div>
<p class="translated">Aqui, <code class="docutils literal notranslate"><span class="pre">z</span></code> e <code class="docutils literal notranslate"><span class="pre">t</span></code> são parâmetros somente-nomeados, enquanto <code class="docutils literal notranslate"><span class="pre">x</span></code> e <code class="docutils literal notranslate"><span class="pre">y</span></code> não são. (Contribuição de Eric V. Smith em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43532">bpo-43532</a>.)</p>
</section>
</section>
<section id="distutils">
<span id="distutils-deprecated"></span><h3 class="translated">distutils<a class="headerlink" href="#distutils" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Todo o pacote <code class="docutils literal notranslate"><span class="pre">distutils</span></code> foi descontinuado, para ser removido no Python 3.12. Sua funcionalidade para especificar compilações de pacote já foi completamente substituída por pacotes de terceiros <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> e <code class="docutils literal notranslate"><span class="pre">packaging</span></code>, e a maioria das outras APIs comumente usadas estão disponíveis em outro lugar na biblioteca padrão (como <a class="reference internal" href="../library/platform.html#module-platform" title="platform: Retrieves as much platform identifying data as possible."><code class="xref py py-mod docutils literal notranslate"><span class="pre">platform</span></code></a>, <a class="reference internal" href="../library/shutil.html#module-shutil" title="shutil: High-level file operations, including copying."><code class="xref py py-mod docutils literal notranslate"><span class="pre">shutil</span></code></a>, <a class="reference internal" href="../library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> ou <a class="reference internal" href="../library/sysconfig.html#module-sysconfig" title="sysconfig: Python's configuration information"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sysconfig</span></code></a>). Não há planos para migrar qualquer outra funcionalidade de <code class="docutils literal notranslate"><span class="pre">distutils</span></code>, e aplicativos que estão usando outras funções devem planejar fazer cópias privadas do código. Consulte <span class="target" id="index-112"></span><a class="pep reference external" href="https://peps.python.org/pep-0632/"><strong>PEP 632</strong></a> para discussão.</p>
<p class="translated">O comando descontinuado <code class="docutils literal notranslate"><span class="pre">bdist_wininst</span></code> no Python 3.8 foi removido. O comando <code class="docutils literal notranslate"><span class="pre">bdist_wheel</span></code> agora é recomendado para distribuir pacotes binários no Windows. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42802">bpo-42802</a>.)</p>
</section>
<section id="doctest">
<h3 class="translated">doctest<a class="headerlink" href="#doctest" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Quando um módulo não define <code class="docutils literal notranslate"><span class="pre">__loader__</span></code>, recorre a <code class="docutils literal notranslate"><span class="pre">__spec__.loader</span></code>. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42133">bpo-42133</a>.)</p>
</section>
<section id="encodings">
<h3 class="translated">encodings<a class="headerlink" href="#encodings" title="Link para este cabeçalho">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/codecs.html#encodings.normalize_encoding" title="encodings.normalize_encoding"><code class="xref py py-func docutils literal notranslate"><span class="pre">encodings.normalize_encoding()</span></code></a> agora ignora caracteres não-ASCII. (Contribuição de Hai Shi em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=39337">bpo-39337</a>.)</p>
</section>
<section id="enum">
<h3 class="translated">enum<a class="headerlink" href="#enum" title="Link para este cabeçalho">¶</a></h3>
<p class="translated"><a class="reference internal" href="../reference/datamodel.html#object.__repr__" title="object.__repr__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__repr__()</span></code></a> do <a class="reference internal" href="../library/enum.html#enum.Enum" title="enum.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a> agora retorna <code class="docutils literal notranslate"><span class="pre">enum_name.member_name</span></code> e <a class="reference internal" href="../reference/datamodel.html#object.__str__" title="object.__str__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__str__()</span></code></a> agora retorna <code class="docutils literal notranslate"><span class="pre">member_name</span></code>. Os enums da stdlib disponíveis como constantes de módulo têm <a class="reference internal" href="../library/functions.html#repr" title="repr"><code class="xref py py-func docutils literal notranslate"><span class="pre">repr()</span></code></a> de <code class="docutils literal notranslate"><span class="pre">module_name.member_name</span></code>. (Contribuição de Ethan Furman em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40066">bpo-40066</a>.)</p>
<p class="translated">Adiciona <a class="reference internal" href="../library/enum.html#enum.StrEnum" title="enum.StrEnum"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.StrEnum</span></code></a> para enums onde todos os membros são strings. (Contribuição de Ethan Furman em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41816">bpo-41816</a>.)</p>
</section>
<section id="fileinput">
<h3 class="translated">fileinput<a class="headerlink" href="#fileinput" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona os parâmetros <em>encoding</em> e <em>errors</em> a <a class="reference internal" href="../library/fileinput.html#fileinput.input" title="fileinput.input"><code class="xref py py-func docutils literal notranslate"><span class="pre">fileinput.input()</span></code></a> e <a class="reference internal" href="../library/fileinput.html#fileinput.FileInput" title="fileinput.FileInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">fileinput.FileInput</span></code></a>. (Contribuição de Inada Naoki em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43712">bpo-43712</a>.)</p>
<p class="translated"><a class="reference internal" href="../library/fileinput.html#fileinput.hook_compressed" title="fileinput.hook_compressed"><code class="xref py py-func docutils literal notranslate"><span class="pre">fileinput.hook_compressed()</span></code></a> agora retorna um objeto <a class="reference internal" href="../library/io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOWrapper</span></code></a> quando <em>mode</em> é “r” e o arquivo está compactado, como arquivos descompactados. (Contribuição de Inada Naoki em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=5758">bpo-5758</a>.)</p>
</section>
<section id="faulthandler">
<h3 class="translated">faulthandler<a class="headerlink" href="#faulthandler" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">O módulo <a class="reference internal" href="../library/faulthandler.html#module-faulthandler" title="faulthandler: Dump the Python traceback."><code class="xref py py-mod docutils literal notranslate"><span class="pre">faulthandler</span></code></a> agora detecta se um erro fatal ocorre durante a coleta do coletor de lixo. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44466">bpo-44466</a>.)</p>
</section>
<section id="gc">
<h3 class="translated">gc<a class="headerlink" href="#gc" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona ganchos de auditoria para <a class="reference internal" href="../library/gc.html#gc.get_objects" title="gc.get_objects"><code class="xref py py-func docutils literal notranslate"><span class="pre">gc.get_objects()</span></code></a>, <a class="reference internal" href="../library/gc.html#gc.get_referrers" title="gc.get_referrers"><code class="xref py py-func docutils literal notranslate"><span class="pre">gc.get_referrers()</span></code></a> e <a class="reference internal" href="../library/gc.html#gc.get_referents" title="gc.get_referents"><code class="xref py py-func docutils literal notranslate"><span class="pre">gc.get_referents()</span></code></a>. (Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43439">bpo-43439</a>.)</p>
</section>
<section id="glob">
<h3 class="translated">glob<a class="headerlink" href="#glob" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona os parâmetros <em>root_dir</em> e <em>dir_fd</em>  em <a class="reference internal" href="../library/glob.html#glob.glob" title="glob.glob"><code class="xref py py-func docutils literal notranslate"><span class="pre">glob()</span></code></a> e <a class="reference internal" href="../library/glob.html#glob.iglob" title="glob.iglob"><code class="xref py py-func docutils literal notranslate"><span class="pre">iglob()</span></code></a>, o que permite especificar o diretório raiz para a pesquisa. (Contribuição de Serhiy Storchaka em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38144">bpo-38144</a>.)</p>
</section>
<section id="hashlib">
<h3 class="translated">hashlib<a class="headerlink" href="#hashlib" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">O módulo hashlib requer OpenSSL 1.1.1 ou mais recente. (Contribuição de Christian Heimes em <span class="target" id="index-113"></span><a class="pep reference external" href="https://peps.python.org/pep-0644/"><strong>PEP 644</strong></a> e <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43669">bpo-43669</a>.)</p>
<p class="translated">O módulo hashlib tem suporte preliminar a OpenSSL 3.0.0. (Contribuição de Christian Heimes em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38820">bpo-38820</a> e outras issues.)</p>
<p class="translated">A alternativa puramente Python de <a class="reference internal" href="../library/hashlib.html#hashlib.pbkdf2_hmac" title="hashlib.pbkdf2_hmac"><code class="xref py py-func docutils literal notranslate"><span class="pre">pbkdf2_hmac()</span></code></a> foi descontinuada. No futuro, o PBKDF2-HMAC só estará disponível quando o Python for desenvolvido com suporte a OpenSSL. (Contribuição de Christian Heimes em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43880">bpo-43880</a>.)</p>
</section>
<section id="hmac">
<h3 class="translated">hmac<a class="headerlink" href="#hmac" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">O módulo hmac agora usa a implementação HMAC do OpenSSL internamente. (Contribuição de Christian Heimes em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40645">bpo-40645</a>.)</p>
</section>
<section id="idle-and-idlelib">
<h3 class="translated">IDLE e idlelib<a class="headerlink" href="#idle-and-idlelib" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Faz o IDLE invocar <a class="reference internal" href="../library/sys.html#sys.excepthook" title="sys.excepthook"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.excepthook()</span></code></a> (quando iniciado sem ‘-n’). Ganchos de usuário eram ignorados anteriormente. (Contribuição de Ken Hilton em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43008">bpo-43008</a>.)</p>
<p class="translated">Reorganiza a caixa de diálogo de configurações. Divide a aba General nas abas Windows e Shell/Ed. Move as fontes de ajuda, que estendem o menu Help, para a aba Extensions. Abre espaço para novas opções e encurta a caixa de diálogo. O último faz com que o diálogo se ajuste melhor a telas pequenas. (Contribuição de Terry Jan Reedy em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40468">bpo-40468</a>.) Move a configuração do espaço de recuo da aba Font para a nova aba Windows. (Contribuição de Mark Roseman e Terry Jan Reedy em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33962">bpo-33962</a>.)</p>
<p class="translated">As alterações acima foram portadas para uma versão de manutenção 3.9.</p>
<p class="translated">Adiciona uma barra lateral ao console. Move o prompt principal (‘&gt;&gt;&gt;’) para a barra lateral. Adiciona prompts secundários (’…’) à barra lateral. Clicar com o botão esquerdo e opcionalmente arrastar seleciona uma ou mais linhas de texto, como na barra lateral do número da linha do editor. Clicar com o botão direito após selecionar as linhas de texto exibe um menu de contexto com “copy with prompts”. Isso compacta os prompts da barra lateral com linhas do texto selecionado. Esta opção também aparece no menu de contexto para o texto. (Contribuição de Tal Einat em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37903">bpo-37903</a>.)</p>
<p class="translated">Use espaços em vez de tabulações para indentar o código interativo. Isso faz com que as entradas de código interativo “pareçam corretas”. Tornar isso viável foi a principal motivação para adicionar a barra lateral do console. Contribuição de Terry Jan Reedy em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37892">bpo-37892</a>.)</p>
<p class="translated">Realça as novas <a class="reference internal" href="../reference/lexical_analysis.html#soft-keywords"><span class="std std-ref">palavra reservada suave</span></a> <a class="reference internal" href="../reference/compound_stmts.html#match"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">match</span></code></a>, <a class="reference internal" href="../reference/compound_stmts.html#match"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">case</span></code></a> e <a class="reference internal" href="../reference/compound_stmts.html#wildcard-patterns"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">_</span></code></a> em instruções de correspondência de padrões. No entanto, este realce não é perfeito e estará incorreto em alguns casos raros, incluindo alguns <code class="docutils literal notranslate"><span class="pre">_</span></code> em padrões de <code class="docutils literal notranslate"><span class="pre">case</span></code>. (Contribuição de Tal Einat em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44010">bpo-44010</a>.)</p>
<p class="translated">Novo nas versões de manutenção 3.10.</p>
<p class="translated">Aplica realce de sintaxe em arquivos <code class="docutils literal notranslate"><span class="pre">.pyi</span></code>. (Contribuição de Alex Waygood e Terry Jan Reedy em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=45447">bpo-45447</a>.)</p>
<p class="translated">Inclui prompts ao salvar o console com entradas e saídas. (Contribuição de Terry Jan Reedy em <a class="reference external" href="https://github.com/python/cpython/issues/95191">gh-95191</a>.)</p>
</section>
<section id="importlib-metadata">
<h3 class="translated">importlib.metadata<a class="headerlink" href="#importlib-metadata" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Paridade de recursos com <code class="docutils literal notranslate"><span class="pre">importlib_metadata</span></code> 4.6 (<a class="reference external" href="https://importlib-metadata.readthedocs.io/en/latest/history.html">histórico</a>).</p>
<p class="translated"><a class="reference internal" href="../library/importlib.metadata.html#entry-points"><span class="std std-ref">Pontos de entrada importlib.metadata</span></a> agora oferecem uma experiência melhor para selecionar pontos de entrada por grupo e nome através do novo <a class="reference internal" href="../library/importlib.metadata.html#entry-points"><span class="std std-ref">importlib.metadata.EntryPoints</span></a>. Consulte a Nota de Compatibilidade nos documentos para obter mais informações sobre a descontinuação e uso.</p>
<p class="translated">Adicionada <a class="reference internal" href="../library/importlib.metadata.html#package-distributions"><span class="std std-ref">importlib.metadata.packages_distributions()</span></a> para resolver módulos e pacotes Python de alto nível com suas <a class="reference internal" href="../library/importlib.metadata.html#distributions"><span class="std std-ref">importlib.metadata.Distribution</span></a>.</p>
</section>
<section id="inspect">
<h3 class="translated">inspect<a class="headerlink" href="#inspect" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Quando um módulo não define <code class="docutils literal notranslate"><span class="pre">__loader__</span></code>, recorre a <code class="docutils literal notranslate"><span class="pre">__spec__.loader</span></code>. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42133">bpo-42133</a>.)</p>
<p class="translated">Adiciona <a class="reference internal" href="../library/inspect.html#inspect.get_annotations" title="inspect.get_annotations"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.get_annotations()</span></code></a>, que calcula com segurança as anotações definidas em um objeto. Ele contorna as peculiaridades de acessar as anotações em vários tipos de objetos e faz poucas suposições sobre o objeto que examina. <a class="reference internal" href="../library/inspect.html#inspect.get_annotations" title="inspect.get_annotations"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.get_annotations()</span></code></a> também pode desfazer a string corretamente de anotações em string. <a class="reference internal" href="../library/inspect.html#inspect.get_annotations" title="inspect.get_annotations"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.get_annotations()</span></code></a> agora é considerada a melhor prática para acessar o dict de anotações definido em qualquer objeto Python; para mais informações sobre as melhores práticas para trabalhar com anotações, consulte <a class="reference internal" href="../howto/annotations.html#annotations-howto"><span class="std std-ref">Boas práticas para anotações</span></a>. Da mesma forma, <a class="reference internal" href="../library/inspect.html#inspect.signature" title="inspect.signature"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.signature()</span></code></a>, <a class="reference internal" href="../library/inspect.html#inspect.Signature.from_callable" title="inspect.Signature.from_callable"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.Signature.from_callable()</span></code></a> e <code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.Signature.from_function()</span></code> agora chamam <a class="reference internal" href="../library/inspect.html#inspect.get_annotations" title="inspect.get_annotations"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.get_annotations()</span></code></a> para recuperar anotações. Isso significa que <a class="reference internal" href="../library/inspect.html#inspect.signature" title="inspect.signature"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.signature()</span></code></a> e <a class="reference internal" href="../library/inspect.html#inspect.Signature.from_callable" title="inspect.Signature.from_callable"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.Signature.from_callable()</span></code></a> agora também podem remover a string de anotações em string. (Contribuição de Larry Hastings em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43817">bpo-43817</a>.)</p>
</section>
<section id="itertools">
<h3 class="translated">itertools<a class="headerlink" href="#itertools" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona <a class="reference internal" href="../library/itertools.html#itertools.pairwise" title="itertools.pairwise"><code class="xref py py-func docutils literal notranslate"><span class="pre">itertools.pairwise()</span></code></a>. (Contribuição de Raymond Hettinger em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38200">bpo-38200</a>.)</p>
</section>
<section id="linecache">
<h3 class="translated">linecache<a class="headerlink" href="#linecache" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Quando um módulo não define <code class="docutils literal notranslate"><span class="pre">__loader__</span></code>, recorre a <code class="docutils literal notranslate"><span class="pre">__spec__.loader</span></code>. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42133">bpo-42133</a>.)</p>
</section>
<section id="os">
<h3 class="translated">os<a class="headerlink" href="#os" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona suporte a <a class="reference internal" href="../library/os.html#os.cpu_count" title="os.cpu_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.cpu_count()</span></code></a> para RTOS de VxWorks. (Contribuição de Peixing Xin em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41440">bpo-41440</a>.)</p>
<p class="translated">Adiciona uma nova função <a class="reference internal" href="../library/os.html#os.eventfd" title="os.eventfd"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.eventfd()</span></code></a> e auxiliares relacionados para envolver a chamada de sistema <code class="docutils literal notranslate"><span class="pre">eventfd2</span></code> no Linux. (Contribuição de Christian Heimes em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41001">bpo-41001</a>.)</p>
<p class="translated">Adiciona <a class="reference internal" href="../library/os.html#os.splice" title="os.splice"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.splice()</span></code></a> que permite mover dados entre dois descritores de arquivo sem copiar entre o espaço de endereço do kernel e o espaço de endereço do usuário, onde um dos descritores de arquivo deve se referir a um encadeamento (pipe). (Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41625">bpo-41625</a>.)</p>
<p class="translated">Adiciona <a class="reference internal" href="../library/os.html#os.O_EVTONLY" title="os.O_EVTONLY"><code class="xref py py-const docutils literal notranslate"><span class="pre">O_EVTONLY</span></code></a>, <a class="reference internal" href="../library/os.html#os.O_FSYNC" title="os.O_FSYNC"><code class="xref py py-const docutils literal notranslate"><span class="pre">O_FSYNC</span></code></a>, <a class="reference internal" href="../library/os.html#os.O_SYMLINK" title="os.O_SYMLINK"><code class="xref py py-const docutils literal notranslate"><span class="pre">O_SYMLINK</span></code></a> e <a class="reference internal" href="../library/os.html#os.O_NOFOLLOW_ANY" title="os.O_NOFOLLOW_ANY"><code class="xref py py-const docutils literal notranslate"><span class="pre">O_NOFOLLOW_ANY</span></code></a> para macOS. (Contribuição de Donghee Na em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43106">bpo-43106</a>.)</p>
</section>
<section id="os-path">
<h3 class="translated">os.path<a class="headerlink" href="#os-path" title="Link para este cabeçalho">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/os.path.html#os.path.realpath" title="os.path.realpath"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.realpath()</span></code></a> agora aceita um argumento somente-nomeado <em>strict</em>. Quando definido como <code class="docutils literal notranslate"><span class="pre">True</span></code>, a exceção <a class="reference internal" href="../library/exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> é levantada se um caminho não existe ou um loop de link simbólico é encontrado. (Contribuição de Barney Gale em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43757">bpo-43757</a>.)</p>
</section>
<section id="pathlib">
<h3 class="translated">pathlib<a class="headerlink" href="#pathlib" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona suporte a fatiamento a <a class="reference internal" href="../library/pathlib.html#pathlib.PurePath.parents" title="pathlib.PurePath.parents"><code class="xref py py-attr docutils literal notranslate"><span class="pre">PurePath.parents</span></code></a>. (Contribuição de Joshua Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35498">bpo-35498</a>.)</p>
<p class="translated">Adiciona suporte a indexação negativa a <a class="reference internal" href="../library/pathlib.html#pathlib.PurePath.parents" title="pathlib.PurePath.parents"><code class="xref py py-attr docutils literal notranslate"><span class="pre">PurePath.parents</span></code></a>. (Contribuição de Yaroslav Pankovych em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=21041">bpo-21041</a>.)</p>
<p class="translated">Adiciona o método <a class="reference internal" href="../library/pathlib.html#pathlib.Path.hardlink_to" title="pathlib.Path.hardlink_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Path.hardlink_to</span></code></a> que substitui <code class="xref py py-meth docutils literal notranslate"><span class="pre">link_to()</span></code>. O novo método tem a mesma ordem de argumentos que <a class="reference internal" href="../library/pathlib.html#pathlib.Path.symlink_to" title="pathlib.Path.symlink_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">symlink_to()</span></code></a>. (Contribuição de Barney Gale em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=39950">bpo-39950</a>.)</p>
<p class="translated"><a class="reference internal" href="../library/pathlib.html#pathlib.Path.stat" title="pathlib.Path.stat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pathlib.Path.stat()</span></code></a> e <a class="reference internal" href="../library/pathlib.html#pathlib.Path.chmod" title="pathlib.Path.chmod"><code class="xref py py-meth docutils literal notranslate"><span class="pre">chmod()</span></code></a> agora aceita um argumento somente-nomeado <em>follow_symlinks</em> para consistência com as funções correspondentes no módulo <a class="reference internal" href="../library/os.html#module-os" title="os: Miscellaneous operating system interfaces."><code class="xref py py-mod docutils literal notranslate"><span class="pre">os</span></code></a>. (Contribuição de Barney Gale em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=39906">bpo-39906</a>.)</p>
</section>
<section id="platform">
<h3 class="translated">platform<a class="headerlink" href="#platform" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona <a class="reference internal" href="../library/platform.html#platform.freedesktop_os_release" title="platform.freedesktop_os_release"><code class="xref py py-func docutils literal notranslate"><span class="pre">platform.freedesktop_os_release()</span></code></a> para obter a identificação do sistema operacional a partir do arquivo padrão <a class="reference external" href="https://www.freedesktop.org/software/systemd/man/os-release.html">os-release do freedesktop.org</a>. (Contribuição de Christian Heimes em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=28468">bpo-28468</a>.)</p>
</section>
<section id="pprint">
<h3 class="translated">pprint<a class="headerlink" href="#pprint" title="Link para este cabeçalho">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/pprint.html#pprint.pprint" title="pprint.pprint"><code class="xref py py-func docutils literal notranslate"><span class="pre">pprint.pprint()</span></code></a> agora aceita um novo argumento nomeado <code class="docutils literal notranslate"><span class="pre">underscore_numbers</span></code>. (Contribuição de sblondon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42914">bpo-42914</a>.)</p>
<p class="translated"><a class="reference internal" href="../library/pprint.html#module-pprint" title="pprint: Data pretty printer."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pprint</span></code></a> agora pode fazer impressão bonita de instâncias de <a class="reference internal" href="../library/dataclasses.html#dataclasses.dataclass" title="dataclasses.dataclass"><code class="xref py py-class docutils literal notranslate"><span class="pre">dataclasses.dataclass</span></code></a>. (Contribuição de Lewis Gaul em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43080">bpo-43080</a>.)</p>
</section>
<section id="py-compile">
<h3 class="translated">py_compile<a class="headerlink" href="#py-compile" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona a opção <code class="docutils literal notranslate"><span class="pre">--quiet</span></code> à interface de linha de comando de <a class="reference internal" href="../library/py_compile.html#module-py_compile" title="py_compile: Generate byte-code files from Python source files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">py_compile</span></code></a>. (Contribuição de Gregory Schevchenko em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38731">bpo-38731</a>.)</p>
</section>
<section id="pyclbr">
<h3 class="translated">pyclbr<a class="headerlink" href="#pyclbr" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona um atributo <code class="docutils literal notranslate"><span class="pre">end_lineno</span></code> aos objetos <code class="docutils literal notranslate"><span class="pre">Function</span></code> e <code class="docutils literal notranslate"><span class="pre">Class</span></code> na árvore retornada por <a class="reference internal" href="../library/pyclbr.html#pyclbr.readmodule" title="pyclbr.readmodule"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyclbr.readmodule()</span></code></a> e <a class="reference internal" href="../library/pyclbr.html#pyclbr.readmodule_ex" title="pyclbr.readmodule_ex"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyclbr.readmodule_ex()</span></code></a>. Isso corresponde ao <code class="docutils literal notranslate"><span class="pre">lineno</span></code> (início) existente. (Contribuição de Aviral Srivastava em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38307">bpo-38307</a>.)</p>
</section>
<section id="shelve">
<h3 class="translated">shelve<a class="headerlink" href="#shelve" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">O módulo <a class="reference internal" href="../library/shelve.html#module-shelve" title="shelve: Python object persistence."><code class="xref py py-mod docutils literal notranslate"><span class="pre">shelve</span></code></a> agora usa <a class="reference internal" href="../library/pickle.html#pickle.DEFAULT_PROTOCOL" title="pickle.DEFAULT_PROTOCOL"><code class="xref py py-const docutils literal notranslate"><span class="pre">pickle.DEFAULT_PROTOCOL</span></code></a> por padrão em vez do protocolo <code class="docutils literal notranslate"><span class="pre">3</span></code> do <a class="reference internal" href="../library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a> ao criar “shelves”. (Contribuição de Zackery Spytz em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34204">bpo-34204</a>.)</p>
</section>
<section id="statistics">
<h3 class="translated">statistics<a class="headerlink" href="#statistics" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona <a class="reference internal" href="../library/statistics.html#statistics.covariance" title="statistics.covariance"><code class="xref py py-func docutils literal notranslate"><span class="pre">covariance()</span></code></a>, <a class="reference internal" href="../library/statistics.html#statistics.correlation" title="statistics.correlation"><code class="xref py py-func docutils literal notranslate"><span class="pre">correlation()</span></code></a> do Pearson, e funções simples <a class="reference internal" href="../library/statistics.html#statistics.linear_regression" title="statistics.linear_regression"><code class="xref py py-func docutils literal notranslate"><span class="pre">linear_regression()</span></code></a>. (Contribuição de Tymoteusz Wołodźko em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38490">bpo-38490</a>.)</p>
</section>
<section id="site">
<h3 class="translated">site<a class="headerlink" href="#site" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Quando um módulo não define <code class="docutils literal notranslate"><span class="pre">__loader__</span></code>, recorre a <code class="docutils literal notranslate"><span class="pre">__spec__.loader</span></code>. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42133">bpo-42133</a>.)</p>
</section>
<section id="socket">
<h3 class="translated">socket<a class="headerlink" href="#socket" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">A exceção <a class="reference internal" href="../library/socket.html#socket.timeout" title="socket.timeout"><code class="xref py py-exc docutils literal notranslate"><span class="pre">socket.timeout</span></code></a> é agora um apelido de <a class="reference internal" href="../library/exceptions.html#TimeoutError" title="TimeoutError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TimeoutError</span></code></a>. (Contribuição de Christian Heimes em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42413">bpo-42413</a>.)</p>
<p class="translated">Adiciona a opção de criar soquetes MPTCP com <code class="docutils literal notranslate"><span class="pre">IPPROTO_MPTCP</span></code> (Contribuição de Rui Cunha em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43571">bpo-43571</a>.)</p>
<p class="translated">Adiciona a opção <code class="docutils literal notranslate"><span class="pre">IP_RECVTOS</span></code> para receber o tipo do serviço (ToS) ou campos DSCP/ECN (Contribuição de Georg Sauthoff em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44077">bpo-44077</a>.)</p>
</section>
<section id="ssl">
<h3 class="translated">ssl<a class="headerlink" href="#ssl" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">O módulo ssl requer OpenSSL 1.1.1 ou mais recente. (Contribuição de Christian Heimes em <span class="target" id="index-114"></span><a class="pep reference external" href="https://peps.python.org/pep-0644/"><strong>PEP 644</strong></a> e <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43669">bpo-43669</a>.)</p>
<p class="translated">O módulo ssl tem um suporte preliminar para OpenSSL 3.0.0 e a nova opção <a class="reference internal" href="../library/ssl.html#ssl.OP_IGNORE_UNEXPECTED_EOF" title="ssl.OP_IGNORE_UNEXPECTED_EOF"><code class="xref py py-const docutils literal notranslate"><span class="pre">OP_IGNORE_UNEXPECTED_EOF</span></code></a>. (Contribuição de Christian Heimes em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38820">bpo-38820</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43794">bpo-43794</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43788">bpo-43788</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43791">bpo-43791</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43799">bpo-43799</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43920">bpo-43920</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43789">bpo-43789</a> e <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43811">bpo-43811</a>.)</p>
<p class="translated">Função descontinuada e o uso de constantes descontinuadas agora resultam em uma <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>. <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.options" title="ssl.SSLContext.options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ssl.SSLContext.options</span></code></a> tem <a class="reference internal" href="../library/ssl.html#ssl.OP_NO_SSLv2" title="ssl.OP_NO_SSLv2"><code class="xref py py-data docutils literal notranslate"><span class="pre">OP_NO_SSLv2</span></code></a> e <a class="reference internal" href="../library/ssl.html#ssl.OP_NO_SSLv3" title="ssl.OP_NO_SSLv3"><code class="xref py py-data docutils literal notranslate"><span class="pre">OP_NO_SSLv3</span></code></a> definidos por padrão e, portanto, não consegue avisar sobre a definição do sinalizador novamente. A <a class="reference internal" href="#whatsnew310-deprecated"><span class="std std-ref">seção de descontinuidade</span></a> tem uma lista de recursos descontinuados. (Contribuição de Christian Heimes em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43880">bpo-43880</a>.)</p>
<p class="translated">O módulo ssl agora tem configurações padrão mais seguras. Cifras sem <em>forward secrecy</em> ou SHA-1 MAC são desabilitadas por padrão. O nível de segurança 2 proíbe chaves fracas RSA, DH e ECC com menos de 112 bits de segurança. <a class="reference internal" href="../library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">SSLContext</span></code></a> assume como padrão a versão mínima do protocolo TLS 1.2. As configurações são baseadas na pesquisa de Hynek Schlawack. (Contribuição de Christian Heimes em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43998">bpo-43998</a>.)</p>
<p class="translated">Os protocolos descontinuados SSL 3.0, TLS 1.0 e TLS 1.1 não são mais oficialmente suportados. Python não os bloqueia ativamente. No entanto, as opções de compilação do OpenSSL, configurações de distro, patches de fornecedores e suítes de criptografia podem impedir um handshake bem-sucedido.</p>
<p class="translated">Adiciona um parâmetro <em>timeout</em> à função <a class="reference internal" href="../library/ssl.html#ssl.get_server_certificate" title="ssl.get_server_certificate"><code class="xref py py-func docutils literal notranslate"><span class="pre">ssl.get_server_certificate()</span></code></a>. (Contribuição de Zackery Spytz em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=31870">bpo-31870</a>.)</p>
<p class="translated">O módulo ssl usa tipos de heap e inicialização multifásica. (Contribuição de Christian Heimes em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42333">bpo-42333</a>.)</p>
<p class="translated">Uma nova sinalização de verificação <a class="reference internal" href="../library/ssl.html#ssl.VERIFY_X509_PARTIAL_CHAIN" title="ssl.VERIFY_X509_PARTIAL_CHAIN"><code class="xref py py-const docutils literal notranslate"><span class="pre">VERIFY_X509_PARTIAL_CHAIN</span></code></a> foi adicionada. (Contribuição de l0x em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40849">bpo-40849</a>.)</p>
</section>
<section id="sqlite3">
<h3 class="translated">sqlite3<a class="headerlink" href="#sqlite3" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona eventos de auditoria para <code class="xref py py-func docutils literal notranslate"><span class="pre">connect/handle()</span></code>, <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.enable_load_extension" title="sqlite3.Connection.enable_load_extension"><code class="xref py py-meth docutils literal notranslate"><span class="pre">enable_load_extension()</span></code></a> e <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.load_extension" title="sqlite3.Connection.load_extension"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_extension()</span></code></a>. (Contribuição de Erlend E. Aasland em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43762">bpo-43762</a>.)</p>
</section>
<section id="sys">
<h3 class="translated">sys<a class="headerlink" href="#sys" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona o atributo <a class="reference internal" href="../library/sys.html#sys.orig_argv" title="sys.orig_argv"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.orig_argv</span></code></a>: a lista de argumentos de linha de comando originais passada para o executável Python. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=23427">bpo-23427</a>.)</p>
<p class="translated">Adiciona <a class="reference internal" href="../library/sys.html#sys.stdlib_module_names" title="sys.stdlib_module_names"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdlib_module_names</span></code></a>, contendo a lista de nomes de módulos da biblioteca padrão. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42955">bpo-42955</a>.)</p>
</section>
<section id="thread">
<h3 class="translated">_thread<a class="headerlink" href="#thread" title="Link para este cabeçalho">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/_thread.html#thread.interrupt_main" title="_thread.interrupt_main"><code class="xref py py-func docutils literal notranslate"><span class="pre">_thread.interrupt_main()</span></code></a> agora aceita um número de sinal opcional para simular (o padrão ainda é <a class="reference internal" href="../library/signal.html#signal.SIGINT" title="signal.SIGINT"><code class="xref py py-const docutils literal notranslate"><span class="pre">signal.SIGINT</span></code></a>). (Contribuição de Antoine Pitrou em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43356">bpo-43356</a>.)</p>
</section>
<section id="threading">
<h3 class="translated">threading<a class="headerlink" href="#threading" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona <a class="reference internal" href="../library/threading.html#threading.gettrace" title="threading.gettrace"><code class="xref py py-func docutils literal notranslate"><span class="pre">threading.gettrace()</span></code></a> e <a class="reference internal" href="../library/threading.html#threading.getprofile" title="threading.getprofile"><code class="xref py py-func docutils literal notranslate"><span class="pre">threading.getprofile()</span></code></a> para obter as funções definidas por <a class="reference internal" href="../library/threading.html#threading.settrace" title="threading.settrace"><code class="xref py py-func docutils literal notranslate"><span class="pre">threading.settrace()</span></code></a> e <a class="reference internal" href="../library/threading.html#threading.setprofile" title="threading.setprofile"><code class="xref py py-func docutils literal notranslate"><span class="pre">threading.setprofile()</span></code></a>, respectivamente. (Contribuição de Mario Corchero em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42251">bpo-42251</a>.)</p>
<p class="translated">Adiciona <a class="reference internal" href="../library/threading.html#threading.__excepthook__" title="threading.__excepthook__"><code class="xref py py-data docutils literal notranslate"><span class="pre">threading.__excepthook__</span></code></a> para permitir obtenção do valor original de <a class="reference internal" href="../library/threading.html#threading.excepthook" title="threading.excepthook"><code class="xref py py-func docutils literal notranslate"><span class="pre">threading.excepthook()</span></code></a> no caso dele estar definido com um valor quebrado ou diferente. (Contribuição de Mario Corchero em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42308">bpo-42308</a>.)</p>
</section>
<section id="traceback">
<h3 class="translated">traceback<a class="headerlink" href="#traceback" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">As funções <a class="reference internal" href="../library/traceback.html#traceback.format_exception" title="traceback.format_exception"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_exception()</span></code></a>, <a class="reference internal" href="../library/traceback.html#traceback.format_exception_only" title="traceback.format_exception_only"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_exception_only()</span></code></a> e <a class="reference internal" href="../library/traceback.html#traceback.print_exception" title="traceback.print_exception"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_exception()</span></code></a> podem agora receber um objeto exceção como um argumento somente-posicional. (Contribuição de Zackery Spytz e Matthias Bussonnier em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=26389">bpo-26389</a>.)</p>
</section>
<section id="types">
<h3 class="translated">types<a class="headerlink" href="#types" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Reintroduz as classes <a class="reference internal" href="../library/types.html#types.EllipsisType" title="types.EllipsisType"><code class="xref py py-data docutils literal notranslate"><span class="pre">types.EllipsisType</span></code></a>, <a class="reference internal" href="../library/types.html#types.NoneType" title="types.NoneType"><code class="xref py py-data docutils literal notranslate"><span class="pre">types.NoneType</span></code></a> e <a class="reference internal" href="../library/types.html#types.NotImplementedType" title="types.NotImplementedType"><code class="xref py py-data docutils literal notranslate"><span class="pre">types.NotImplementedType</span></code></a>, fornecendo um novo conjunto de tipos prontamente interpretáveis pelos verificadores de tipo. (Contribuição de Bas van Beek em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41810">bpo-41810</a>.)</p>
</section>
<section id="typing">
<h3 class="translated">typing<a class="headerlink" href="#typing" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Para alterações principais, veja <a class="reference internal" href="#new-feat-related-type-hints"><span class="std std-ref">Novos recursos relacionados a dicas de tipo</span></a>.</p>
<p class="translated">O comportamento de <a class="reference internal" href="../library/typing.html#typing.Literal" title="typing.Literal"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Literal</span></code></a> foi alterado para ficar em conformidade com a <span class="target" id="index-115"></span><a class="pep reference external" href="https://peps.python.org/pep-0586/"><strong>PEP 586</strong></a> e para corresponder ao comportamento de verificadores de tipo estático especificados na PEP.</p>
<ol class="arabic">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">Literal</span></code> agora elimina a duplicação de parâmetros.</p></li>
<li><p class="translated">Comparações de igualdade entre objetos <code class="docutils literal notranslate"><span class="pre">Literal</span></code> agora são independentes da ordem.</p></li>
<li><p class="translated">Comparações de <code class="docutils literal notranslate"><span class="pre">Literal</span></code> agora respeitam os tipos. Por exemplo, <code class="docutils literal notranslate"><span class="pre">Literal[0]</span> <span class="pre">==</span> <span class="pre">Literal[False]</span></code> avaliava anteriormente como <code class="docutils literal notranslate"><span class="pre">True</span></code>. Agora é <code class="docutils literal notranslate"><span class="pre">False</span></code>. Para oferecer suporte a essa mudança, o cache de tipo usado internamente agora oferece suporte a tipos de diferenciação.</p></li>
<li><p class="translated">Objetos <code class="docutils literal notranslate"><span class="pre">Literal</span></code> agora irão levantar uma exceção <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> durante as comparações de igualdade se algum de seus parâmetros não for <a class="reference internal" href="../glossary.html#term-hashable"><span class="xref std std-term">hasheáveis</span></a>. Observe que declarar <code class="docutils literal notranslate"><span class="pre">Literal</span></code> com parâmetros inalteráveis não acusará um erro:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Literal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Literal</span><span class="p">[{</span><span class="mi">0</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Literal</span><span class="p">[{</span><span class="mi">0</span><span class="p">}]</span> <span class="o">==</span> <span class="n">Literal</span><span class="p">[{</span><span class="kc">False</span><span class="p">}]</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">unhashable type: &#39;set&#39;</span>
</pre></div>
</div>
</li>
</ol>
<p class="translated">(Contribuição de Yurii Karabas em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42345">bpo-42345</a>.)</p>
<p class="translated">Adiciona uma nova função <a class="reference internal" href="../library/typing.html#typing.is_typeddict" title="typing.is_typeddict"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.is_typeddict()</span></code></a>  para fazer introspecção se uma anotação for uma <a class="reference internal" href="../library/typing.html#typing.TypedDict" title="typing.TypedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.TypedDict</span></code></a>. (Contribuição de Patrick Reader em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41792">bpo-41792</a>.)</p>
<p class="translated">Subclasses de <code class="docutils literal notranslate"><span class="pre">typing.Protocol</span></code> que apenas têm variáveis de dados declaradas agora irão levantar um <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> quando verificadas com <code class="docutils literal notranslate"><span class="pre">isinstance</span></code> a menos que sejam decoradas com <a class="reference internal" href="../library/typing.html#typing.runtime_checkable" title="typing.runtime_checkable"><code class="xref py py-func docutils literal notranslate"><span class="pre">runtime_checkable()</span></code></a>. Anteriormente, essas verificações eram aprovadas silenciosamente. Os usuários devem decorar suas subclasses com o decorador <code class="xref py py-func docutils literal notranslate"><span class="pre">runtime_checkable()</span></code> se quiserem protocolos de tempo de execução. (Contribuição de Yurii Karabas em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38908">bpo-38908</a>.)</p>
<p class="translated">A importação dos submódulos <code class="docutils literal notranslate"><span class="pre">typing.io</span></code> e <code class="docutils literal notranslate"><span class="pre">typing.re</span></code> agora emitirá <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>. Esses submódulos fora descontinuados desde o Python 3.8 e serão removidos em uma versão futura do Python. Qualquer coisa pertencente a esses submódulos deve ser importada diretamente de <a class="reference internal" href="../library/typing.html#module-typing" title="typing: Support for type hints (see :pep:`484`)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">typing</span></code></a>. (Contribuição de Sebastian Rittau em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38291">bpo-38291</a>.)</p>
</section>
<section id="unittest">
<h3 class="translated">unittest<a class="headerlink" href="#unittest" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona novo método new <a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertNoLogs" title="unittest.TestCase.assertNoLogs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNoLogs()</span></code></a> para complementar o existente <a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertLogs" title="unittest.TestCase.assertLogs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertLogs()</span></code></a>. (Contribuição de Kit Yan Choi em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=39385">bpo-39385</a>.)</p>
</section>
<section id="urllib-parse">
<h3 class="translated">urllib.parse<a class="headerlink" href="#urllib-parse" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Versões do Python anteriores ao Python 3.10 permitiam o uso de <code class="docutils literal notranslate"><span class="pre">;</span></code> e <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> como separadores de parâmetros de consulta em <a class="reference internal" href="../library/urllib.parse.html#urllib.parse.parse_qs" title="urllib.parse.parse_qs"><code class="xref py py-func docutils literal notranslate"><span class="pre">urllib.parse.parse_qs()</span></code></a> e <a class="reference internal" href="../library/urllib.parse.html#urllib.parse.parse_qsl" title="urllib.parse.parse_qsl"><code class="xref py py-func docutils literal notranslate"><span class="pre">urllib.parse.parse_qsl()</span></code></a>. Devido a questões de segurança e em conformidade com as recomendações mais recentes do W3C, isso foi alterado para permitir apenas uma única chave separadora, com <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> como padrão. Esta mudança também afeta <code class="xref py py-func docutils literal notranslate"><span class="pre">cgi.parse()</span></code> e <code class="xref py py-func docutils literal notranslate"><span class="pre">cgi.parse_multipart()</span></code> já que elas usam as funções afetadas internamente. Para obter mais detalhes, consulte a respectiva documentação. (Contribuição de Adam Goldschmidt, Senthil Kumaran e Ken Jin em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42967">bpo-42967</a>.)</p>
<p class="translated">A presença de caracteres de nova linha ou tab em partes de um URL permite algumas formas de ataques. Seguindo a especificação WHATWG que atualiza <span class="target" id="index-116"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3986.html"><strong>RFC 3986</strong></a>, nova linha ASCII <code class="docutils literal notranslate"><span class="pre">\n</span></code>, <code class="docutils literal notranslate"><span class="pre">\r</span></code> e os caracteres de tabulação <code class="docutils literal notranslate"><span class="pre">\t</span></code> são retirados da URL pelo analisador sintático em <a class="reference internal" href="../library/urllib.parse.html#module-urllib.parse" title="urllib.parse: Parse URLs into or assemble them from components."><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib.parse</span></code></a> impedindo tais ataques. Os caracteres de remoção são controlados por uma nova variável de nível de módulo <code class="docutils literal notranslate"><span class="pre">urllib.parse._UNSAFE_URL_BYTES_TO_REMOVE</span></code>. (Veja <a class="reference external" href="https://github.com/python/cpython/issues/88048">gh-88048</a>)</p>
</section>
<section id="xml">
<h3 class="translated">xml<a class="headerlink" href="#xml" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona uma classe <a class="reference internal" href="../library/xml.sax.handler.html#xml.sax.handler.LexicalHandler" title="xml.sax.handler.LexicalHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">LexicalHandler</span></code></a> ao módulo <a class="reference internal" href="../library/xml.sax.handler.html#module-xml.sax.handler" title="xml.sax.handler: Base classes for SAX event handlers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xml.sax.handler</span></code></a>. (Contribuição de Jonathan Gossage e Zackery Spytz em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35018">bpo-35018</a>.)</p>
</section>
<section id="zipimport">
<h3 class="translated">zipimport<a class="headerlink" href="#zipimport" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">Adiciona métodos relacionados à <span class="target" id="index-117"></span><a class="pep reference external" href="https://peps.python.org/pep-0451/"><strong>PEP 451</strong></a>: <a class="reference internal" href="../library/zipimport.html#zipimport.zipimporter.find_spec" title="zipimport.zipimporter.find_spec"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_spec()</span></code></a>, <a class="reference internal" href="../library/zipimport.html#zipimport.zipimporter.create_module" title="zipimport.zipimporter.create_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zipimport.zipimporter.create_module()</span></code></a> e <a class="reference internal" href="../library/zipimport.html#zipimport.zipimporter.exec_module" title="zipimport.zipimporter.exec_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zipimport.zipimporter.exec_module()</span></code></a>. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42131">bpo-42131</a>.)</p>
<p class="translated">Adiciona o método <a class="reference internal" href="../library/zipimport.html#zipimport.zipimporter.invalidate_caches" title="zipimport.zipimporter.invalidate_caches"><code class="xref py py-meth docutils literal notranslate"><span class="pre">invalidate_caches()</span></code></a>. (Contribuição de Desmond Cheong em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=14678">bpo-14678</a>.)</p>
</section>
</section>
<section id="optimizations">
<h2 class="translated">Otimizações<a class="headerlink" href="#optimizations" title="Link para este cabeçalho">¶</a></h2>
<ul class="simple">
<li><p class="translated">Os construtores <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code></a>, <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-func docutils literal notranslate"><span class="pre">bytes()</span></code></a> e <a class="reference internal" href="../library/stdtypes.html#bytearray" title="bytearray"><code class="xref py py-func docutils literal notranslate"><span class="pre">bytearray()</span></code></a> estão agora mais rápido (cerca de 30–40% para objetos pequenos). (Contribuição de Serhiy Storchaka em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41334">bpo-41334</a>.)</p></li>
<li><p class="translated">O módulo <a class="reference internal" href="../library/runpy.html#module-runpy" title="runpy: Locate and run Python modules without importing them first."><code class="xref py py-mod docutils literal notranslate"><span class="pre">runpy</span></code></a> agora importa menos módulos. O tempo de inicialização do comando <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">module-name</span></code> é 1,4 vezes mais rápido em média. No Linux, <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-I</span> <span class="pre">-m</span> <span class="pre">module-name</span></code> importa 69 módulos no Python 3.9, sendo que importa apenas 51 módulos (-18) no Python 3.10. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41006">bpo-41006</a> e <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41718">bpo-41718</a>.)</p></li>
<li><p class="translated">A instrução <code class="docutils literal notranslate"><span class="pre">LOAD_ATTR</span></code> agora usa o novo mecanismo “cache por opcode”. É cerca de 36% mais rápido agora para atributos regulares e 44% mais rápido para slots. (Contribuição de Pablo Galindo e Yury Selivanov em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42093">bpo-42093</a> e Guido van Rossum em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42927">bpo-42927</a>, com base em ideias implementadas originalmente em PyPy e MicroPython.)</p></li>
<li><p class="translated">Ao construir o Python com <a class="reference internal" href="../using/configure.html#cmdoption-enable-optimizations"><code class="xref std std-option docutils literal notranslate"><span class="pre">--enable-optimizations</span></code></a> agora, <code class="docutils literal notranslate"><span class="pre">-fno-semantic-interposition</span></code> é adicionado à linha de compilação e vinculação. Isso acelera as compilações do interpretador Python criado com <a class="reference internal" href="../using/configure.html#cmdoption-enable-shared"><code class="xref std std-option docutils literal notranslate"><span class="pre">--enable-shared</span></code></a> com <code class="docutils literal notranslate"><span class="pre">gcc</span></code> em até 30%. Consulte <a class="reference external" href="https://developers.redhat.com/blog/2020/06/25/red-hat-enterprise-linux-8-2-brings-faster-python-3-8-run-speeds/">este artigo</a> para mais detalhes. (Contribuição de Victor Stinner e Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38980">bpo-38980</a>.)</p></li>
<li><p class="translated">Usa um novo código de gerenciamento de buffer de saída para os módulos <a class="reference internal" href="../library/bz2.html#module-bz2" title="bz2: Interfaces for bzip2 compression and decompression."><code class="xref py py-mod docutils literal notranslate"><span class="pre">bz2</span></code></a> / <a class="reference internal" href="../library/lzma.html#module-lzma" title="lzma: A Python wrapper for the liblzma compression library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">lzma</span></code></a> / <a class="reference internal" href="../library/zlib.html#module-zlib" title="zlib: Low-level interface to compression and decompression routines compatible with gzip."><code class="xref py py-mod docutils literal notranslate"><span class="pre">zlib</span></code></a> e adiciona a função <code class="docutils literal notranslate"><span class="pre">.readall()</span></code> à classe <code class="docutils literal notranslate"><span class="pre">_compression.DecompressReader</span></code>. A descompressão bz2 agora é 1,09x ~ 1.17x mais rápida, a descompressão lzma 1.20x ~ 1.32x mais rápida, <code class="docutils literal notranslate"><span class="pre">GzipFile.read(-1)</span></code> 1,11x ~ 1.18x mais rápida. (Contribuição de Ma Lin, revisada por Gregory P. Smith, em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41486">bpo-41486</a>)</p></li>
<li><p class="translated">Ao usar anotações em strings, dicts de anotações para funções não são mais criados quando a função é criada. Em vez disso, eles são armazenados como uma tupla de strings, e o objeto função converte lentamente isso no dict de anotações sob demanda. Essa otimização reduz pela metade o tempo de CPU necessário para definir uma função anotada. (Contribuição de Yurii Karabas e Inada Naoki em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42202">bpo-42202</a>.)</p></li>
<li><p class="translated">Funções de pesquisa de substring como <code class="docutils literal notranslate"><span class="pre">str1</span> <span class="pre">in</span> <span class="pre">str2</span></code> e <code class="docutils literal notranslate"><span class="pre">str2.find(str1)</span></code> agora às vezes usam o algoritmo de pesquisa de string “Two-Way” de Crochemore &amp; Perrin para evitar comportamento quadrático em strings longas. (Contribuição de Dennis Sweeney em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41972">bpo-41972</a>)</p></li>
<li><p class="translated">Adiciona micro-otimizações a <code class="docutils literal notranslate"><span class="pre">_PyType_Lookup()</span></code> para melhorar o desempenho de pesquisa de cache de atributo de tipo no caso comum de acessos de cache. Isso torna o interpretador 1,04 vezes mais rápido, em média. (Contribuição de Dino Viehland em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43452">bpo-43452</a>.)</p></li>
<li><p class="translated">As seguintes funções embutidas agora oferecem suporte a uma convenção de chamada de vectorcalls mais rápidos da <span class="target" id="index-118"></span><a class="pep reference external" href="https://peps.python.org/pep-0590/"><strong>PEP 590</strong></a>: <a class="reference internal" href="../library/functions.html#map" title="map"><code class="xref py py-func docutils literal notranslate"><span class="pre">map()</span></code></a>, <a class="reference internal" href="../library/functions.html#filter" title="filter"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter()</span></code></a>, <a class="reference internal" href="../library/functions.html#reversed" title="reversed"><code class="xref py py-func docutils literal notranslate"><span class="pre">reversed()</span></code></a>, <a class="reference internal" href="../library/functions.html#bool" title="bool"><code class="xref py py-func docutils literal notranslate"><span class="pre">bool()</span></code></a> e <a class="reference internal" href="../library/functions.html#float" title="float"><code class="xref py py-func docutils literal notranslate"><span class="pre">float()</span></code></a>. (Contribuição de Donghee Na e Jeroen Demeyer em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43575">bpo-43575</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43287">bpo-43287</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41922">bpo-41922</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41873">bpo-41873</a> e <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41870">bpo-41870</a>.)</p></li>
<li><p class="translated">O desempenho de <a class="reference internal" href="../library/bz2.html#bz2.BZ2File" title="bz2.BZ2File"><code class="xref py py-class docutils literal notranslate"><span class="pre">BZ2File</span></code></a> foi melhorado removendo o <code class="docutils literal notranslate"><span class="pre">RLock</span></code> interno. Isso torna <code class="xref py py-class docutils literal notranslate"><span class="pre">BZ2File</span></code> inseguro para threads em face a vários leitores ou gravadores simultâneos, da mesma forma que suas classes equivalentes em <a class="reference internal" href="../library/gzip.html#module-gzip" title="gzip: Interfaces for gzip compression and decompression using file objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gzip</span></code></a> e <a class="reference internal" href="../library/lzma.html#module-lzma" title="lzma: A Python wrapper for the liblzma compression library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">lzma</span></code></a> têm sido. (Contribuição de Inada Naoki em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43785">bpo-43785</a>.)</p></li>
</ul>
</section>
<section id="deprecated">
<span id="whatsnew310-deprecated"></span><h2 class="translated">Descontinuados<a class="headerlink" href="#deprecated" title="Link para este cabeçalho">¶</a></h2>
<ul>
<li><p class="translated">Atualmente Python aceita literais numéricos imediatamente seguidos por palavras-chave, por exemplo <code class="docutils literal notranslate"><span class="pre">0in</span> <span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">1or</span> <span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">0if</span> <span class="pre">1else</span> <span class="pre">2</span></code>. Permite expressões confusas e ambíguas como <code class="docutils literal notranslate"><span class="pre">[0x1for</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">y]</span></code> (que pode ser interpretada como <code class="docutils literal notranslate"><span class="pre">[0x1</span> <span class="pre">for</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">y]</span></code> ou <code class="docutils literal notranslate"><span class="pre">[0x1f</span> <span class="pre">or</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">y]</span></code>). A partir desta versão, um aviso de descontinuidade é levantado se o literal numérico for seguido imediatamente por uma das palavras-chave <a class="reference internal" href="../reference/expressions.html#and"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">and</span></code></a>, <a class="reference internal" href="../reference/compound_stmts.html#else"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code></a>, <a class="reference internal" href="../reference/compound_stmts.html#for"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code></a>, <a class="reference internal" href="../reference/compound_stmts.html#if"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a>, <a class="reference internal" href="../reference/expressions.html#in"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">in</span></code></a>, <a class="reference internal" href="../reference/expressions.html#is"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">is</span></code></a> e <a class="reference internal" href="../reference/expressions.html#or"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">or</span></code></a>. Em versões futuras, ele será alterado para aviso de sintaxe e, finalmente, para erro de sintaxe. (Contribuição de Serhiy Storchaka em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43833">bpo-43833</a>.)</p></li>
<li><p class="translated">A partir desta versão, haverá um esforço concentrado para começar a limpar a semântica de importação antiga que foi mantida para compatibilidade com Python 2.7. Especificamente, <code class="xref py py-meth docutils literal notranslate"><span class="pre">find_loader()</span></code>/<code class="xref py py-meth docutils literal notranslate"><span class="pre">find_module()</span></code> (substituídos por <a class="reference internal" href="../library/importlib.html#importlib.abc.MetaPathFinder.find_spec" title="importlib.abc.MetaPathFinder.find_spec"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_spec()</span></code></a>), <a class="reference internal" href="../library/importlib.html#importlib.abc.Loader.load_module" title="importlib.abc.Loader.load_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_module()</span></code></a> (substituído por <a class="reference internal" href="../library/importlib.html#importlib.abc.Loader.exec_module" title="importlib.abc.Loader.exec_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exec_module()</span></code></a>), <code class="xref py py-meth docutils literal notranslate"><span class="pre">module_repr()</span></code> (que o sistema de importação cuida para você), o atributo <code class="docutils literal notranslate"><span class="pre">__package__</span></code> (substituído por <code class="docutils literal notranslate"><span class="pre">__spec__.parent</span></code>), o atributo <code class="docutils literal notranslate"><span class="pre">__loader__</span></code> (substituído por <code class="docutils literal notranslate"><span class="pre">__spec__.loader</span></code>), e o atributo <code class="docutils literal notranslate"><span class="pre">__cached__</span></code> ( substituído por <code class="docutils literal notranslate"><span class="pre">__spec__.cached</span></code>) será removido lentamente (assim como outras classes e métodos em <a class="reference internal" href="../library/importlib.html#module-importlib" title="importlib: The implementation of the import machinery."><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib</span></code></a>). <a class="reference internal" href="../library/exceptions.html#ImportWarning" title="ImportWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportWarning</span></code></a> e/ou <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a> será levantada conforme apropriado para ajudar a identificar o código que precisa ser atualizado durante esta transição.</p></li>
<li><p class="translated">Todo o espaço de nomes de <code class="docutils literal notranslate"><span class="pre">distutils</span></code> foi descontinuado, para ser removido no Python 3.12. Consulte a seção de <a class="reference internal" href="#distutils-deprecated"><span class="std std-ref">alterações do módulo</span></a> para mais informações.</p></li>
<li><p class="translated">Argumentos não inteiros para <a class="reference internal" href="../library/random.html#random.randrange" title="random.randrange"><code class="xref py py-func docutils literal notranslate"><span class="pre">random.randrange()</span></code></a> foram descontinuados. A exceção <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> foi descontinuada em favor de uma exceção <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>. (Contribuição de Serhiy Storchaka e Raymond Hettinger em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37319">bpo-37319</a>.)</p></li>
<li><p class="translated">Os vários métodos de <code class="docutils literal notranslate"><span class="pre">load_module()</span></code> de <a class="reference internal" href="../library/importlib.html#module-importlib" title="importlib: The implementation of the import machinery."><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib</span></code></a> foram documentados como descontinuados desde Python 3.6, mas agora também irão disparar um <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>. Use <a class="reference internal" href="../library/importlib.html#importlib.abc.Loader.exec_module" title="importlib.abc.Loader.exec_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exec_module()</span></code></a> em vez disso. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=26131">bpo-26131</a>.)</p></li>
<li><p class="translated"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zimport.zipimporter.load_module()</span></code> foi descontinuado em preferência a <a class="reference internal" href="../library/zipimport.html#zipimport.zipimporter.exec_module" title="zipimport.zipimporter.exec_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exec_module()</span></code></a>. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=26131">bpo-26131</a>.)</p></li>
<li><p class="translated">O uso de <a class="reference internal" href="../library/importlib.html#importlib.abc.Loader.load_module" title="importlib.abc.Loader.load_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_module()</span></code></a> pelo sistema de importação agora dispara uma exceção <a class="reference internal" href="../library/exceptions.html#ImportWarning" title="ImportWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportWarning</span></code></a>, pois <a class="reference internal" href="../library/importlib.html#importlib.abc.Loader.exec_module" title="importlib.abc.Loader.exec_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exec_module()</span></code></a> é preferível. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=26131">bpo-26131</a>.)</p></li>
<li><p class="translated">O uso de <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.MetaPathFinder.find_module()</span></code> e <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.PathEntryFinder.find_module()</span></code> pelo sistema de importação agora dispara uma exceção <a class="reference internal" href="../library/exceptions.html#ImportWarning" title="ImportWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportWarning</span></code></a>, pois <a class="reference internal" href="../library/importlib.html#importlib.abc.MetaPathFinder.find_spec" title="importlib.abc.MetaPathFinder.find_spec"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.MetaPathFinder.find_spec()</span></code></a> e <a class="reference internal" href="../library/importlib.html#importlib.abc.PathEntryFinder.find_spec" title="importlib.abc.PathEntryFinder.find_spec"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.PathEntryFinder.find_spec()</span></code></a> são preferidos, respectivamente. Você pode usar <a class="reference internal" href="../library/importlib.html#importlib.util.spec_from_loader" title="importlib.util.spec_from_loader"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.util.spec_from_loader()</span></code></a> para ajudar no port. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42134">bpo-42134</a>.)</p></li>
<li><p class="translated">O uso de <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.PathEntryFinder.find_loader()</span></code> pelo sistema de importação agora dispara uma exceção <a class="reference internal" href="../library/exceptions.html#ImportWarning" title="ImportWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportWarning</span></code></a>, pois <a class="reference internal" href="../library/importlib.html#importlib.abc.PathEntryFinder.find_spec" title="importlib.abc.PathEntryFinder.find_spec"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.PathEntryFinder.find_spec()</span></code></a> é preferido. Você pode usar <a class="reference internal" href="../library/importlib.html#importlib.util.spec_from_loader" title="importlib.util.spec_from_loader"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.util.spec_from_loader()</span></code></a> para ajudar no port. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43672">bpo-43672</a>.)</p></li>
<li><p class="translated">As várias implementações de <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.MetaPathFinder.find_module()</span></code> ( <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.BuiltinImporter.find_module()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.FrozenImporter.find_module()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.WindowsRegistryFinder.find_module()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.PathFinder.find_module()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.MetaPathFinder.find_module()</span></code> ), <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.PathEntryFinder.find_module()</span></code> (<code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.FileFinder.find_module()</span></code> ) e <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.PathEntryFinder.find_loader()</span></code> ( <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.FileFinder.find_loader()</span></code> ) agora levantam <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a> e estão programadas para remoção no Python 3.12 (anteriormente, eles foram documentados como descontinuados no Python 3.4). (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42135">bpo-42135</a>.)</p></li>
<li><p class="translated"><code class="xref py py-class docutils literal notranslate"><span class="pre">importlib.abc.Finder</span></code> foi descontinuada (incluindo seu único método, <code class="xref py py-meth docutils literal notranslate"><span class="pre">find_module()</span></code>). <a class="reference internal" href="../library/importlib.html#importlib.abc.MetaPathFinder" title="importlib.abc.MetaPathFinder"><code class="xref py py-class docutils literal notranslate"><span class="pre">importlib.abc.MetaPathFinder</span></code></a> e <a class="reference internal" href="../library/importlib.html#importlib.abc.PathEntryFinder" title="importlib.abc.PathEntryFinder"><code class="xref py py-class docutils literal notranslate"><span class="pre">importlib.abc.PathEntryFinder</span></code></a> não mais herdam da classe. Usuários devem herdar de uma dessas duas classes conforme apropriado. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42135">bpo-42135</a>.)</p></li>
<li><p class="translated">As descontinuações de <code class="xref py py-mod docutils literal notranslate"><span class="pre">imp</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.find_loader()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.util.set_package_wrapper()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.util.set_loader_wrapper()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.util.module_for_loader()</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pkgutil.ImpImporter</span></code> e <code class="xref py py-class docutils literal notranslate"><span class="pre">pkgutil.ImpLoader</span></code> foram todas atualizadas para listar Python 3.12 como a versão programada para remoção (elas começaram a levantar <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a> em versões anteriores do Python). (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43720">bpo-43720</a>.)</p></li>
<li><p class="translated">O sistema de importação agora usa o atributo <code class="docutils literal notranslate"><span class="pre">__spec__</span></code> em módulos antes de recorrer a <code class="xref py py-meth docutils literal notranslate"><span class="pre">module_repr()</span></code> para um método <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code> do módulo. A remoção do uso de <code class="docutils literal notranslate"><span class="pre">module_repr()</span></code> está programado para Python 3.12. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42137">bpo-42137</a>.)</p></li>
<li><p class="translated"><code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.abc.Loader.module_repr()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.FrozenLoader.module_repr()</span></code> e <code class="xref py py-meth docutils literal notranslate"><span class="pre">importlib.machinery.BuiltinLoader.module_repr()</span></code> foram descontinuadas e programadas para remoção no Python 3.12. (Contribuição de Brett Cannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42136">bpo-42136</a>.)</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">sqlite3.OptimizedUnicode</span></code> teve a documentação removida e foi descontinuado desde o Python 3.3, quando foi tornado um apelido para <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>. Foi agora descontinuado, programado para remoção no Python 3.12. (Contribuição de Erlend E. Aasland em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42264">bpo-42264</a>.)</p></li>
<li><p class="translated">A função embutida não documentada <code class="docutils literal notranslate"><span class="pre">sqlite3.enable_shared_cache</span></code> foi agora descontinuada, agendada para remoção no Python 3.12. Seu uso é fortemente desencorajado pela documentação do SQLite3. Veja <a class="reference external" href="https://sqlite.org/c3ref/enable_shared_cache.html">a documentação do SQLite3</a> para mais detalhes. Se um cache compartilhado deve ser usado, abra o banco de dados no modo URI usando o parâmetro de consulta <code class="docutils literal notranslate"><span class="pre">cache=shared</span></code>. (Contribuição de Erlend E. Aasland em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=24464">bpo-24464</a>.)</p></li>
<li><p class="translated">Os seguintes métodos de <code class="docutils literal notranslate"><span class="pre">threading</span></code> foram agora descontinuados:</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">threading.currentThread</span></code> =&gt; <a class="reference internal" href="../library/threading.html#threading.current_thread" title="threading.current_thread"><code class="xref py py-func docutils literal notranslate"><span class="pre">threading.current_thread()</span></code></a></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">threading.activeCount</span></code> =&gt; <a class="reference internal" href="../library/threading.html#threading.active_count" title="threading.active_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">threading.active_count()</span></code></a></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">threading.Condition.notifyAll</span></code> =&gt;
<a class="reference internal" href="../library/threading.html#threading.Condition.notify_all" title="threading.Condition.notify_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.Condition.notify_all()</span></code></a></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">threading.Event.isSet</span></code> =&gt; <a class="reference internal" href="../library/threading.html#threading.Event.is_set" title="threading.Event.is_set"><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.Event.is_set()</span></code></a></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">threading.Thread.setName</span></code> =&gt; <a class="reference internal" href="../library/threading.html#threading.Thread.name" title="threading.Thread.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">threading.Thread.name</span></code></a></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">threading.thread.getName</span></code> =&gt; <a class="reference internal" href="../library/threading.html#threading.Thread.name" title="threading.Thread.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">threading.Thread.name</span></code></a></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">threading.Thread.isDaemon</span></code> =&gt; <a class="reference internal" href="../library/threading.html#threading.Thread.daemon" title="threading.Thread.daemon"><code class="xref py py-attr docutils literal notranslate"><span class="pre">threading.Thread.daemon</span></code></a></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">threading.Thread.setDaemon</span></code> =&gt; <a class="reference internal" href="../library/threading.html#threading.Thread.daemon" title="threading.Thread.daemon"><code class="xref py py-attr docutils literal notranslate"><span class="pre">threading.Thread.daemon</span></code></a></p></li>
</ul>
<p class="translated">(Contribuição de Jelle Zijlstra em <a class="reference external" href="https://github.com/python/cpython/issues/87889">gh-87889</a>.)</p>
</li>
<li><p class="translated"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pathlib.Path.link_to()</span></code> foi descontinuado e programado para remoção no Python 3.12. Use <a class="reference internal" href="../library/pathlib.html#pathlib.Path.hardlink_to" title="pathlib.Path.hardlink_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pathlib.Path.hardlink_to()</span></code></a> em vez disso. (Contribuição de Barney Gale em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=39950">bpo-39950</a>.)</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">cgi.log()</span></code> foi descontinuado e programado para remoção no Python 3.12. (Contribuição de Inada Naoki em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41139">bpo-41139</a>.)</p></li>
<li><p class="translated">Os recurso a seguir do <a class="reference internal" href="../library/ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ssl</span></code></a> foram descontinuados desde o Python 3.6, Python 3.7 ou OpenSSL 1.1.0, e serão removidos no 3.11:</p>
<ul class="simple">
<li><p class="translated"><code class="xref py py-data docutils literal notranslate"><span class="pre">OP_NO_SSLv2</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">OP_NO_SSLv3</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">OP_NO_TLSv1</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">OP_NO_TLSv1_1</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">OP_NO_TLSv1_2</span></code> e <code class="xref py py-data docutils literal notranslate"><span class="pre">OP_NO_TLSv1_3</span></code> foram substituídos por <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.minimum_version" title="ssl.SSLContext.minimum_version"><code class="xref py py-attr docutils literal notranslate"><span class="pre">minimum_version</span></code></a> e <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.maximum_version" title="ssl.SSLContext.maximum_version"><code class="xref py py-attr docutils literal notranslate"><span class="pre">maximum_version</span></code></a>.</p></li>
<li><p class="translated"><code class="xref py py-data docutils literal notranslate"><span class="pre">PROTOCOL_SSLv2</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">PROTOCOL_SSLv3</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">PROTOCOL_SSLv23</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">PROTOCOL_TLSv1</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">PROTOCOL_TLSv1_1</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">PROTOCOL_TLSv1_2</span></code> e <code class="xref py py-const docutils literal notranslate"><span class="pre">PROTOCOL_TLS</span></code> foram descontinuados em favor de <a class="reference internal" href="../library/ssl.html#ssl.PROTOCOL_TLS_CLIENT" title="ssl.PROTOCOL_TLS_CLIENT"><code class="xref py py-const docutils literal notranslate"><span class="pre">PROTOCOL_TLS_CLIENT</span></code></a> e <a class="reference internal" href="../library/ssl.html#ssl.PROTOCOL_TLS_SERVER" title="ssl.PROTOCOL_TLS_SERVER"><code class="xref py py-const docutils literal notranslate"><span class="pre">PROTOCOL_TLS_SERVER</span></code></a></p></li>
<li><p class="translated"><code class="xref py py-func docutils literal notranslate"><span class="pre">wrap_socket()</span></code> foi substituída por <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.wrap_socket" title="ssl.SSLContext.wrap_socket"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLContext.wrap_socket()</span></code></a></p></li>
<li><p class="translated"><code class="xref py py-func docutils literal notranslate"><span class="pre">match_hostname()</span></code></p></li>
<li><p class="translated"><code class="xref py py-func docutils literal notranslate"><span class="pre">RAND_pseudo_bytes()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">RAND_egd()</span></code></p></li>
<li><p class="translated">Recurso de NPN como <a class="reference internal" href="../library/ssl.html#ssl.SSLSocket.selected_npn_protocol" title="ssl.SSLSocket.selected_npn_protocol"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLSocket.selected_npn_protocol()</span></code></a> e <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.set_npn_protocols" title="ssl.SSLContext.set_npn_protocols"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLContext.set_npn_protocols()</span></code></a> foram substituídos por ALPN.</p></li>
</ul>
</li>
<li><p class="translated">A depuração de threads (variável de ambiente <code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONTHREADDEBUG</span></code>) foi descontinuada no Python 3.10 e será removida no Python 3.12. Este recurso exige uma <a class="reference internal" href="../using/configure.html#debug-build"><span class="std std-ref">construção de depuração de Python</span></a>. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=44584">bpo-44584</a>.)</p></li>
<li><p class="translated">A importação dos submódulos <code class="docutils literal notranslate"><span class="pre">typing.io</span></code> e <code class="docutils literal notranslate"><span class="pre">typing.re</span></code> agora emitirá <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>. Esses submódulos serão removidos em uma versão futura do Python. Qualquer coisa pertencente a esses submódulos deve ser importada diretamente de <a class="reference internal" href="../library/typing.html#module-typing" title="typing: Support for type hints (see :pep:`484`)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">typing</span></code></a>. (Contribuição de Sebastian Rittau em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38291">bpo-38291</a>.)</p></li>
</ul>
</section>
<section id="removed">
<span id="whatsnew310-removed"></span><h2 class="translated">Removidos<a class="headerlink" href="#removed" title="Link para este cabeçalho">¶</a></h2>
<ul>
<li><p class="translated">Removidos os métodos especiais <code class="docutils literal notranslate"><span class="pre">__int__</span></code>, <code class="docutils literal notranslate"><span class="pre">__float__</span></code>, <code class="docutils literal notranslate"><span class="pre">__floordiv__</span></code>, <code class="docutils literal notranslate"><span class="pre">__mod__</span></code>, <code class="docutils literal notranslate"><span class="pre">__divmod__</span></code>, <code class="docutils literal notranslate"><span class="pre">__rfloordiv__</span></code>, <code class="docutils literal notranslate"><span class="pre">__rmod__</span></code> e <code class="docutils literal notranslate"><span class="pre">__rdivmod__</span></code> da classe <a class="reference internal" href="../library/functions.html#complex" title="complex"><code class="xref py py-class docutils literal notranslate"><span class="pre">complex</span></code></a>. Eles sempre levantavam uma exceção <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>. (Contribuição de Serhiy Storchaka em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41974">bpo-41974</a>.)</p></li>
<li><p class="translated">O método <code class="docutils literal notranslate"><span class="pre">ParserBase.error()</span></code> do módulo privado e não documentado <code class="docutils literal notranslate"><span class="pre">_markupbase</span></code> foi removido. <a class="reference internal" href="../library/html.parser.html#html.parser.HTMLParser" title="html.parser.HTMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">html.parser.HTMLParser</span></code></a> é a única subclasse de <code class="docutils literal notranslate"><span class="pre">ParserBase</span></code> e sua implementação de <code class="docutils literal notranslate"><span class="pre">error()</span></code> já tinha sido removida no Python 3.5. (Contribuição de Berker Peksag em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=31844">bpo-31844</a>.)</p></li>
<li><p class="translated">Removido o atributo <code class="docutils literal notranslate"><span class="pre">unicodedata.ucnhash_CAPI</span></code> que foi um objeto interno PyCapsule. A estrutura privada relacionada <code class="docutils literal notranslate"><span class="pre">_PyUnicode_Name_CAPI</span></code> foi movida para uma API C interna. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42157">bpo-42157</a>.)</p></li>
<li><p class="translated">Removido o módulo <code class="docutils literal notranslate"><span class="pre">parser</span></code>, que foi descontinuado em 3.9 em razão da mudança para o novo analisador sintático GASE, bem como todo os arquivos código-fonte e cabeçalhos C que estavam sendo usados pelo analisador sintático antigo, incluindo <code class="docutils literal notranslate"><span class="pre">node.h</span></code>, <code class="docutils literal notranslate"><span class="pre">parser.h</span></code>, <code class="docutils literal notranslate"><span class="pre">graminit.h</span></code> e <code class="docutils literal notranslate"><span class="pre">grammar.h</span></code>.</p></li>
<li><p class="translated">Removidas as funções de API C pública <code class="docutils literal notranslate"><span class="pre">PyParser_SimpleParseStringFlags</span></code>, <code class="docutils literal notranslate"><span class="pre">PyParser_SimpleParseStringFlagsFilename</span></code>, <code class="docutils literal notranslate"><span class="pre">PyParser_SimpleParseFileFlags</span></code> e <code class="docutils literal notranslate"><span class="pre">PyNode_Compile</span></code> que foram descontinuadas no 3.9 em razão da mudança para o novo analisador sintático GASE.</p></li>
<li><p class="translated">Removido o módulo <code class="docutils literal notranslate"><span class="pre">formatter</span></code>, que foi descontinuado no Python 3.4. É um tanto obsoleto, pouco usado e não testado. Ele foi originalmente programado para ser removido no Python 3.6, mas tais remoções foram adiadas até depois do fim de vida do Python 2.7. Os usuários existentes devem copiar quaisquer classes que usam em seu código. (Contribuição de Dong-hee Na e Terry J. Reedy em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42299">bpo-42299</a>.)</p></li>
<li><p class="translated">Removida a função <code class="xref c c-func docutils literal notranslate"><span class="pre">PyModule_GetWarningsModule()</span></code> que era inútil agora porque o módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">_warnings</span></code> foi convertido em um módulo embutido no 2.6. (Contribuição de Hai Shi em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42599">bpo-42599</a>.)</p></li>
<li><p class="translated">Remove apelidos descontinuados para <a class="reference internal" href="../library/collections.abc.html#collections-abstract-base-classes"><span class="std std-ref">Classes Base Abstratas de Coleções</span></a> do módulo <a class="reference internal" href="../library/collections.html#module-collections" title="collections: Container datatypes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code></a>. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37324">bpo-37324</a>.)</p></li>
<li><p class="translated">O parâmetro <code class="docutils literal notranslate"><span class="pre">loop</span></code> foi removido da maioria da <a class="reference internal" href="../library/asyncio-api-index.html"><span class="doc">API de alto nível</span></a> do <a class="reference internal" href="../library/asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O."><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a> seguindo a descontinuidade no Python 3.8. A motivação por trás desta alteração é multifacetada:</p>
<ol class="arabic simple">
<li><p class="translated">Isso simplifica a API de alto nível.</p></li>
<li><p class="translated">As funções na API de alto nível obtêm implicitamente o laço de eventos em execução do thread atual desde o Python 3.7. Não há necessidade de passar o laço de eventos para a API na maioria dos casos de uso normais.</p></li>
<li><p class="translated">A passagem de laço de eventos está sujeita a erros, especialmente ao lidar com laços em execução em diferentes threads.</p></li>
</ol>
<p class="translated">Observe que a API de baixo nível ainda aceitará <code class="docutils literal notranslate"><span class="pre">loop</span></code>. Veja <a class="reference internal" href="#changes-python-api"><span class="std std-ref">Alterações na API Python</span></a> para exemplos de como substituir o código existente.</p>
<p class="translated">(Contribuição de Yurii Karabas, Andrew Svetlov, Yury Selivanov e Kyle Stanley em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42392">bpo-42392</a>.)</p>
</li>
</ul>
</section>
<section id="porting-to-python-3-10">
<h2 class="translated">Portando para Python 3.10<a class="headerlink" href="#porting-to-python-3-10" title="Link para este cabeçalho">¶</a></h2>
<p class="translated">Esta seção lista as alterações descritas anteriormente e outras correções que podem exigir alterações no seu código.</p>
<section id="changes-in-the-python-syntax">
<h3 class="translated">Alterações na sintaxe Python<a class="headerlink" href="#changes-in-the-python-syntax" title="Link para este cabeçalho">¶</a></h3>
<ul class="simple">
<li><p class="translated">O aviso de descontinuação agora é emitido ao compilar a sintaxe anteriormente válida se o literal numérico for seguido imediatamente por uma palavra reservada (como em <code class="docutils literal notranslate"><span class="pre">0in</span> <span class="pre">x</span></code>). Em versões futuras, ele será alterado para aviso de sintaxe e, finalmente, para um erro de sintaxe. Para se livrar do aviso e tornar o código compatível com versões futuras, basta adicionar um espaço entre o literal numérico e a palavra reservada seguinte. (Contribuição de Serhiy Storchaka em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43833">bpo-43833</a>.)</p></li>
</ul>
</section>
<section id="changes-in-the-python-api">
<span id="changes-python-api"></span><h3 class="translated">Alterações na API Python<a class="headerlink" href="#changes-in-the-python-api" title="Link para este cabeçalho">¶</a></h3>
<ul>
<li><p class="translated">Os parâmetros <em>etype</em> das funções <a class="reference internal" href="../library/traceback.html#traceback.format_exception" title="traceback.format_exception"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_exception()</span></code></a>, <a class="reference internal" href="../library/traceback.html#traceback.format_exception_only" title="traceback.format_exception_only"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_exception_only()</span></code></a> e <a class="reference internal" href="../library/traceback.html#traceback.print_exception" title="traceback.print_exception"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_exception()</span></code></a> no módulo <a class="reference internal" href="../library/traceback.html#module-traceback" title="traceback: Print or retrieve a stack traceback."><code class="xref py py-mod docutils literal notranslate"><span class="pre">traceback</span></code></a> foram renomeadas para <em>exc</em>. (Contribuição de Zackery Spytz e Matthias Bussonnier em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=26389">bpo-26389</a>.)</p></li>
<li><p class="translated"><a class="reference internal" href="../library/atexit.html#module-atexit" title="atexit: Register and execute cleanup functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">atexit</span></code></a>: ao sair do Python, se uma função de retorno registrada com <a class="reference internal" href="../library/atexit.html#atexit.register" title="atexit.register"><code class="xref py py-func docutils literal notranslate"><span class="pre">atexit.register()</span></code></a> falhar, sua exceção agora é registrada nos logs. Anteriormente, apenas algumas exceções eram registradas nos logs e a última exceção era sempre ignorada silenciosamente. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42639">bpo-42639</a>.)</p></li>
<li><p class="translated">A classe genérica <code class="xref py py-class docutils literal notranslate"><span class="pre">Collections.abc.Callable</span></code> agora nivela os parâmetros de tipo, similar ao que <a class="reference internal" href="../library/typing.html#typing.Callable" title="typing.Callable"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Callable</span></code></a> faz atualmente. Isso significa que <code class="docutils literal notranslate"><span class="pre">collections.abc.Callable[[int,</span> <span class="pre">str],</span> <span class="pre">str]</span></code> terá <code class="docutils literal notranslate"><span class="pre">__args__</span></code> de <code class="docutils literal notranslate"><span class="pre">(int,</span> <span class="pre">str,</span> <span class="pre">str)</span></code>; anteriormente era <code class="docutils literal notranslate"><span class="pre">([int,</span> <span class="pre">str],</span> <span class="pre">str)</span></code>. O código que acessa os argumentos via <a class="reference internal" href="../library/typing.html#typing.get_args" title="typing.get_args"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.get_args()</span></code></a> ou <code class="docutils literal notranslate"><span class="pre">__args__</span></code> precisa levar em conta esta mudança. Além disso, <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> pode ser levantada para formas inválidas de parametrização <code class="xref py py-class docutils literal notranslate"><span class="pre">Collections.abc.Callable</span></code> que pode ter passada silenciosamente no Python 3.9. (Contribuição de Ken Jin em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42195">bpo-42195</a>.)</p></li>
<li><p class="translated"><a class="reference internal" href="../library/socket.html#socket.htons" title="socket.htons"><code class="xref py py-meth docutils literal notranslate"><span class="pre">socket.htons()</span></code></a> e <a class="reference internal" href="../library/socket.html#socket.ntohs" title="socket.ntohs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">socket.ntohs()</span></code></a> agora levantam <a class="reference internal" href="../library/exceptions.html#OverflowError" title="OverflowError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OverflowError</span></code></a> em vez de <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a> se o parâmetro dado não couber em um inteiro sem sinal de 16 bits. (Contribuição de Erlend E. Aasland em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42393">bpo-42393</a>.)</p></li>
<li><p class="translated">O parâmetro <code class="docutils literal notranslate"><span class="pre">loop</span></code> foi removido da maioria da <a class="reference internal" href="../library/asyncio-api-index.html"><span class="doc">API de alto nível</span></a> do <a class="reference internal" href="../library/asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O."><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a> seguindo a descontinuidade no Python 3.8.</p>
<p class="translated">A corrotina que atualmente se parece com isso:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">foo</span><span class="p">(</span><span class="n">loop</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="n">loop</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Deve ser substituída por isso:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">foo</span><span class="p">():</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Se <code class="docutils literal notranslate"><span class="pre">foo()</span></code> for especificamente projetado para <em>não</em> executar no laço de eventos em execução da thread atual (por exemplo, executar no laço de eventos de outra thread), considere usar <a class="reference internal" href="../library/asyncio-task.html#asyncio.run_coroutine_threadsafe" title="asyncio.run_coroutine_threadsafe"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.run_coroutine_threadsafe()</span></code></a>.</p>
<p class="translated">(Contribuição de Yurii Karabas, Andrew Svetlov, Yury Selivanov e Kyle Stanley em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42392">bpo-42392</a>.)</p>
</li>
<li><p class="translated">O construtor <a class="reference internal" href="../library/types.html#types.FunctionType" title="types.FunctionType"><code class="xref py py-data docutils literal notranslate"><span class="pre">types.FunctionType</span></code></a> agora herda os embutidos atuais se o dicionário <em>globals</em> tiver nenhuma chave <code class="docutils literal notranslate"><span class="pre">&quot;__builtins__&quot;</span></code>, em vez de usar <code class="docutils literal notranslate"><span class="pre">{&quot;None&quot;:</span> <span class="pre">None}</span></code> como embutidos: o mesmo comportamento que as funções <a class="reference internal" href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code></a> e <a class="reference internal" href="../library/functions.html#exec" title="exec"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec()</span></code></a>. Definir uma função com <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">function(...):</span> <span class="pre">...</span></code> no Python não é afetado, globais não podem ser substituídos com esta sintaxe: também herda os embutidos atuais. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42990">bpo-42990</a>.)</p></li>
</ul>
</section>
<section id="changes-in-the-c-api">
<h3 class="translated">Alterações na API C<a class="headerlink" href="#changes-in-the-c-api" title="Link para este cabeçalho">¶</a></h3>
<ul>
<li><p class="translated">As funções de API C <code class="docutils literal notranslate"><span class="pre">PyParser_SimpleParseStringFlags</span></code>, <code class="docutils literal notranslate"><span class="pre">PyParser_SimpleParseStringFlagsFilename</span></code>, <code class="docutils literal notranslate"><span class="pre">PyParser_SimpleParseFileFlags</span></code>, <code class="docutils literal notranslate"><span class="pre">PyNode_Compile</span></code> e o tipo usado por essas funções, <code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">_node</span></code>, foram removidos em razão da mudança para o novo analisador sintático GASE.</p>
<p class="translated">O código-fonte deve ser agora compilado diretamente para um objeto código usando, por exemplo, <a class="reference internal" href="../c-api/veryhigh.html#c.Py_CompileString" title="Py_CompileString"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_CompileString()</span></code></a>. O objeto código resultante pode ser então avaliado usando, por exemplo, <a class="reference internal" href="../c-api/veryhigh.html#c.PyEval_EvalCode" title="PyEval_EvalCode"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyEval_EvalCode()</span></code></a>.</p>
<p class="translated">Especificamente:</p>
<ul>
<li><p class="translated">Uma chamada para <code class="docutils literal notranslate"><span class="pre">PyParser_SimpleParseStringFlags</span></code> seguida por <code class="docutils literal notranslate"><span class="pre">PyNode_Compile</span></code> pode ser substituída por <a class="reference internal" href="../c-api/veryhigh.html#c.Py_CompileString" title="Py_CompileString"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_CompileString()</span></code></a>.</p></li>
<li><p class="translated">Não há substituição direta para <code class="docutils literal notranslate"><span class="pre">PyParser_SimpleParseFileFlags</span></code>. Para compilar código de um argumento <code class="docutils literal notranslate"><span class="pre">FILE</span> <span class="pre">*</span></code>, você vai precisar ler o arquivo em C e passar o buffer resultante para <a class="reference internal" href="../c-api/veryhigh.html#c.Py_CompileString" title="Py_CompileString"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_CompileString()</span></code></a>.</p></li>
<li><p class="translated">Para compilar um arquivo de um nome de arquivo <code class="docutils literal notranslate"><span class="pre">char</span> <span class="pre">*</span></code> dado, abra explicitamente o arquivo, leia-o e compile o resultado. Uma forma de fazer isso é usando o módulo <a class="reference internal" href="../library/io.html#module-io" title="io: Core tools for working with streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a> com <a class="reference internal" href="../c-api/import.html#c.PyImport_ImportModule" title="PyImport_ImportModule"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyImport_ImportModule()</span></code></a>, <a class="reference internal" href="../c-api/call.html#c.PyObject_CallMethod" title="PyObject_CallMethod"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_CallMethod()</span></code></a>, <a class="reference internal" href="../c-api/bytes.html#c.PyBytes_AsString" title="PyBytes_AsString"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytes_AsString()</span></code></a> e <a class="reference internal" href="../c-api/veryhigh.html#c.Py_CompileString" title="Py_CompileString"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_CompileString()</span></code></a>, como esboçado abaixo. (Declarações e tratamento de erro foram omitidos.)</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">io_module</span> <span class="o">=</span> <span class="n">Import_ImportModule</span><span class="p">(</span><span class="s2">&quot;io&quot;</span><span class="p">);</span>
<span class="n">fileobject</span> <span class="o">=</span> <span class="n">PyObject_CallMethod</span><span class="p">(</span><span class="n">io_module</span><span class="p">,</span> <span class="s2">&quot;open&quot;</span><span class="p">,</span> <span class="s2">&quot;ss&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">);</span>
<span class="n">source_bytes_object</span> <span class="o">=</span> <span class="n">PyObject_CallMethod</span><span class="p">(</span><span class="n">fileobject</span><span class="p">,</span> <span class="s2">&quot;read&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">PyObject_CallMethod</span><span class="p">(</span><span class="n">fileobject</span><span class="p">,</span> <span class="s2">&quot;close&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
<span class="n">source_buf</span> <span class="o">=</span> <span class="n">PyBytes_AsString</span><span class="p">(</span><span class="n">source_bytes_object</span><span class="p">);</span>
<span class="n">code</span> <span class="o">=</span> <span class="n">Py_CompileString</span><span class="p">(</span><span class="n">source_buf</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">Py_file_input</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="translated">Para objetos <code class="docutils literal notranslate"><span class="pre">FrameObject</span></code>, o membro <a class="reference internal" href="../reference/datamodel.html#frame.f_lasti" title="frame.f_lasti"><code class="xref py py-attr docutils literal notranslate"><span class="pre">f_lasti</span></code></a> agora representa um deslocamento de código de palavra em vez de um deslocamento simples na string de bytecode. Isso significa que esse número precisa ser multiplicado por 2 para ser usado com APIs que esperam um deslocamento de byte (como <a class="reference internal" href="../c-api/code.html#c.PyCode_Addr2Line" title="PyCode_Addr2Line"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCode_Addr2Line()</span></code></a>, por exemplo). Observe também que o membro <code class="xref py py-attr docutils literal notranslate"><span class="pre">f_lasti</span></code> de objetos <code class="docutils literal notranslate"><span class="pre">FrameObject</span></code> não é considerado estável: por favor, use <a class="reference internal" href="../c-api/frame.html#c.PyFrame_GetLineNumber" title="PyFrame_GetLineNumber"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFrame_GetLineNumber()</span></code></a> em vez disso.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="cpython-bytecode-changes">
<h2 class="translated">Alterações de bytecode do CPython<a class="headerlink" href="#cpython-bytecode-changes" title="Link para este cabeçalho">¶</a></h2>
<ul class="simple">
<li><p class="translated">A instrução <code class="docutils literal notranslate"><span class="pre">MAKE_FUNCTION</span></code> agora aceita um dicionário ou uma tupla de strings como as anotações da função. (Contribuição de Yurii Karabas e Inada Naoki em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42202">bpo-42202</a>.)</p></li>
</ul>
</section>
<section id="build-changes">
<h2 class="translated">Mudanças na construção<a class="headerlink" href="#build-changes" title="Link para este cabeçalho">¶</a></h2>
<ul>
<li><p class="translated"><span class="target" id="index-119"></span><a class="pep reference external" href="https://peps.python.org/pep-0644/"><strong>PEP 644</strong></a>: Python agora exige OpenSSL 1.1.1 ou mais novo. OpenSSL 1.0.2 não é mais suportado. (Contribuição de Christian Heimes em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43669">bpo-43669</a>.)</p></li>
<li><p class="translated">As funções C99 <code class="xref c c-func docutils literal notranslate"><span class="pre">snprintf()</span></code> e <code class="xref c c-func docutils literal notranslate"><span class="pre">vsnprintf()</span></code> agora são exigidas para compilar o Python. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36020">bpo-36020</a>.)</p></li>
<li><p class="translated"><a class="reference internal" href="../library/sqlite3.html#module-sqlite3" title="sqlite3: A DB-API 2.0 implementation using SQLite 3.x."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlite3</span></code></a> exige SQLite 3.7.15 ou superior. (Contribuição de Sergey Fedoseev e Erlend E. Aasland em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40744">bpo-40744</a> e <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40810">bpo-40810</a>.)</p></li>
<li><p class="translated">O módulo <a class="reference internal" href="../library/atexit.html#module-atexit" title="atexit: Register and execute cleanup functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">atexit</span></code></a> deve agora sempre ser construído como um módulo embutido. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42639">bpo-42639</a>.)</p></li>
<li><p class="translated">Adiciona a opção <a class="reference internal" href="../using/configure.html#cmdoption-disable-test-modules"><code class="xref std std-option docutils literal notranslate"><span class="pre">--disable-test-modules</span></code></a> ao script <code class="docutils literal notranslate"><span class="pre">configure</span></code>: não constrói nem instala módulos de teste. (Contribuição de Xavier de Gaye, Thomas Petazzoni e Peixing Xin em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=27640">bpo-27640</a>.)</p></li>
<li><p class="translated">Adiciona a <a class="reference internal" href="../using/configure.html#cmdoption-with-wheel-pkg-dir"><code class="xref std std-option docutils literal notranslate"><span class="pre">option</span> <span class="pre">--with-wheel-pkg-dir=CAMINHO</span></code></a> ao script <code class="docutils literal notranslate"><span class="pre">./configure</span></code>. Se especificado, o módulo <a class="reference internal" href="../library/ensurepip.html#module-ensurepip" title="ensurepip: Bootstrapping the &quot;pip&quot; installer into an existing Python installation or virtual environment."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ensurepip</span></code></a> procura por pacotes wheel de <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> e <code class="docutils literal notranslate"><span class="pre">pip</span></code> neste diretório: se ambos estiverem presentes, esses pacotes wheel são usados em vez de pacotes wheel empacotados por ensurepip.</p>
<p class="translated">Algumas distribuições Linux possuem políticas de empacotamento recomendando evitar o empacotamento de dependências. Por exemplo, Fedora instala pacotes wheel no diretório <code class="docutils literal notranslate"><span class="pre">/usr/share/python-wheels/</span></code> e não instala o pacote <code class="docutils literal notranslate"><span class="pre">ensurepip._bundled</span></code>.</p>
<p class="translated">(Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42856">bpo-42856</a>.)</p>
</li>
<li><p class="translated">Adiciona uma nova <a class="reference internal" href="../using/configure.html#cmdoption-without-static-libpython"><code class="xref std std-option docutils literal notranslate"><span class="pre">opção</span> <span class="pre">--without-static-libpython</span> <span class="pre">de</span> <span class="pre">configure</span></code></a> para não construir biblioteca estática <code class="docutils literal notranslate"><span class="pre">libpythonMAJOR.MINOR.a</span></code> e não instala o arquivo objeto <code class="docutils literal notranslate"><span class="pre">python.o</span></code>.</p>
<p class="translated">(Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43103">bpo-43103</a>.)</p>
</li>
<li><p class="translated">O script <code class="docutils literal notranslate"><span class="pre">configure</span></code> agora usa o utilitário <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code>, se disponível, para detectar a localização dos cabeçalhos Tcl/Tk e bibliotecas. Como antes, esses locais podem ser explicitamente especificados com as opções de configuração <code class="docutils literal notranslate"><span class="pre">--with-tcltk-includes</span></code> e <code class="docutils literal notranslate"><span class="pre">--with-tcltk-libs</span></code> . (Contribuição de Manolis Stamatogiannakis em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42603">bpo-42603</a>.)</p></li>
<li><p class="translated">Adiciona a opção <a class="reference internal" href="../using/configure.html#cmdoption-with-openssl-rpath"><code class="xref std std-option docutils literal notranslate"><span class="pre">--with-openssl-rpath</span></code></a> ao script <code class="docutils literal notranslate"><span class="pre">configure</span></code>. A opção simplifica a construção do Python com uma instalação OpenSSL personalizada, por exemplo, <code class="docutils literal notranslate"><span class="pre">./configure</span> <span class="pre">--with-openssl=/path/to/openssl</span> <span class="pre">--with-openssl-rpath=auto</span></code>. (Contribuição de Christian Heimes em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43466">bpo-43466</a>.)</p></li>
</ul>
</section>
<section id="c-api-changes">
<h2 class="translated">Alterações na API C<a class="headerlink" href="#c-api-changes" title="Link para este cabeçalho">¶</a></h2>
<section id="pep-652-maintaining-the-stable-abi">
<h3 class="translated">PEP 652: Mantendo a ABI estável<a class="headerlink" href="#pep-652-maintaining-the-stable-abi" title="Link para este cabeçalho">¶</a></h3>
<p class="translated">A ABI (interface binária de aplicação) Estável para módulos de extensão ou Python embutido agora está explicitamente definido. <a class="reference internal" href="../c-api/stable.html#stable"><span class="std std-ref">Estabilidade da API C</span></a> descreve as garantias de estabilidade da API C e ABI junto com as melhores práticas para usar a ABI estável.</p>
<p class="translated">(Contribuição de Petr Viktorin em <span class="target" id="index-120"></span><a class="pep reference external" href="https://peps.python.org/pep-0652/"><strong>PEP 652</strong></a> e <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43795">bpo-43795</a>.)</p>
</section>
<section id="id1">
<h3 class="translated">Novas funcionalidades<a class="headerlink" href="#id1" title="Link para este cabeçalho">¶</a></h3>
<ul>
<li><p class="translated">O resultado de <a class="reference internal" href="../c-api/number.html#c.PyNumber_Index" title="PyNumber_Index"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyNumber_Index()</span></code></a> agora sempre tem o tipo exato <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>. Anteriormente, o resultado poderia ser uma instância de uma subclasse de <code class="docutils literal notranslate"><span class="pre">int</span></code>. (Contribuição de Serhiy Storchaka em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40792">bpo-40792</a>.)</p></li>
<li><p class="translated">Adiciona um novo membro <a class="reference internal" href="../c-api/init_config.html#c.PyConfig.orig_argv" title="PyConfig.orig_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">orig_argv</span></code></a> à estrutura <a class="reference internal" href="../c-api/init_config.html#c.PyConfig" title="PyConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyConfig</span></code></a>: a lista dos argumentos originais da linha de comando passados para o executável Python. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=23427">bpo-23427</a>.)</p></li>
<li><p class="translated">As macros <a class="reference internal" href="../c-api/datetime.html#c.PyDateTime_DATE_GET_TZINFO" title="PyDateTime_DATE_GET_TZINFO"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyDateTime_DATE_GET_TZINFO()</span></code></a> e <a class="reference internal" href="../c-api/datetime.html#c.PyDateTime_TIME_GET_TZINFO" title="PyDateTime_TIME_GET_TZINFO"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyDateTime_TIME_GET_TZINFO()</span></code></a> foram adicionadas para acessar os atributos <code class="docutils literal notranslate"><span class="pre">tzinfo</span></code> dos objetos <a class="reference internal" href="../library/datetime.html#datetime.datetime" title="datetime.datetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> e <a class="reference internal" href="../library/datetime.html#datetime.time" title="datetime.time"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.time</span></code></a>. (Contribuição de Zackery Spytz em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=30155">bpo-30155</a>.)</p></li>
<li><p class="translated">Adiciona uma função <a class="reference internal" href="../c-api/codec.html#c.PyCodec_Unregister" title="PyCodec_Unregister"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCodec_Unregister()</span></code></a> para cancelar um registro de uma função de pesquisa de codecs. (Contribuição de Hai Shi em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41842">bpo-41842</a>.)</p></li>
<li><p class="translated">A função <a class="reference internal" href="../c-api/iter.html#c.PyIter_Send" title="PyIter_Send"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyIter_Send()</span></code></a> foi adicionada para permitir o envio de valor para o iterador sem levantar a exceção <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code>. (Contribuição de Vladimir Matveev em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41756">bpo-41756</a>.)</p></li>
<li><p class="translated">Adiciona <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_AsUTF8AndSize" title="PyUnicode_AsUTF8AndSize"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AsUTF8AndSize()</span></code></a> à API C limitada. (Contribuição de Alex Gaynor em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41784">bpo-41784</a>.)</p></li>
<li><p class="translated">Adiciona a função <a class="reference internal" href="../c-api/module.html#c.PyModule_AddObjectRef" title="PyModule_AddObjectRef"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyModule_AddObjectRef()</span></code></a>: semelhante a <a class="reference internal" href="../c-api/module.html#c.PyModule_AddObject" title="PyModule_AddObject"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyModule_AddObject()</span></code></a>, mas não roube uma referência ao valor em caso de sucesso. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1635741">bpo-1635741</a>.)</p></li>
<li><p class="translated">Adiciona as funções <a class="reference internal" href="../c-api/refcounting.html#c.Py_NewRef" title="Py_NewRef"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_NewRef()</span></code></a> e <a class="reference internal" href="../c-api/refcounting.html#c.Py_XNewRef" title="Py_XNewRef"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_XNewRef()</span></code></a> para incrementar a contagem de referências de um objeto e retornar o objeto. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42262">bpo-42262</a>.)</p></li>
<li><p class="translated">As funções <a class="reference internal" href="../c-api/type.html#c.PyType_FromSpecWithBases" title="PyType_FromSpecWithBases"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyType_FromSpecWithBases()</span></code></a> e <a class="reference internal" href="../c-api/type.html#c.PyType_FromModuleAndSpec" title="PyType_FromModuleAndSpec"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyType_FromModuleAndSpec()</span></code></a> agora aceitam uma única classe como o argumento <em>bases</em>. (Contribuição de Serhiy Storchaka em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42423">bpo-42423</a>.)</p></li>
<li><p class="translated">A função <a class="reference internal" href="../c-api/type.html#c.PyType_FromModuleAndSpec" title="PyType_FromModuleAndSpec"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyType_FromModuleAndSpec()</span></code></a> agora aceita o slot NULL <code class="docutils literal notranslate"><span class="pre">tp_doc</span></code>. (Contribuição de Hai Shi em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41832">bpo-41832</a>.)</p></li>
<li><p class="translated">A função <a class="reference internal" href="../c-api/type.html#c.PyType_GetSlot" title="PyType_GetSlot"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyType_GetSlot()</span></code></a> pode aceitar <a class="reference internal" href="../c-api/typeobj.html#static-types"><span class="std std-ref">tipos estáticos</span></a>. (Contribuição de Hai Shi e Petr Viktorin em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41073">bpo-41073</a>.)</p></li>
<li><p class="translated">Adiciona uma nova função <a class="reference internal" href="../c-api/set.html#c.PySet_CheckExact" title="PySet_CheckExact"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySet_CheckExact()</span></code></a> à C-API para verificar se um objeto é uma instância de <a class="reference internal" href="../library/stdtypes.html#set" title="set"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a>, mas não uma instância de um subtipo. (Contribuição de Pablo Galindo em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43277">bpo-43277</a>.)</p></li>
<li><p class="translated">Adiciona <a class="reference internal" href="../c-api/exceptions.html#c.PyErr_SetInterruptEx" title="PyErr_SetInterruptEx"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyErr_SetInterruptEx()</span></code></a> que permite passar um número de sinal para simular. (Contribuição de Antoine Pitrou em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43356">bpo-43356</a>.)</p></li>
<li><p class="translated">A API C limitada agora é suportada se o <a class="reference internal" href="../using/configure.html#debug-build"><span class="std std-ref">Python for compilado no modo de depuração</span></a> (se a macro <code class="docutils literal notranslate"><span class="pre">Py_DEBUG</span></code> estiver definida). Na API C limitada, as funções <a class="reference internal" href="../c-api/refcounting.html#c.Py_INCREF" title="Py_INCREF"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_INCREF()</span></code></a> e <a class="reference internal" href="../c-api/refcounting.html#c.Py_DECREF" title="Py_DECREF"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_DECREF()</span></code></a> agora são implementadas como chamadas de função opacas, em vez de acessar diretamente o membro <a class="reference internal" href="../c-api/typeobj.html#c.PyObject.ob_refcnt" title="PyObject.ob_refcnt"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyObject.ob_refcnt</span></code></a>, se o Python for compilado no modo de depuração e a macro <code class="docutils literal notranslate"><span class="pre">Py_LIMITED_API</span></code> tiver como alvo o Python 3.10 ou mais recente. Tornou-se possível suportar a API C limitada no modo de depuração porque a estrutura <a class="reference internal" href="../c-api/structures.html#c.PyObject" title="PyObject"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyObject</span></code></a> é a mesma no modo de lançamento e depuração desde o Python 3.8 (consulte <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36465">bpo-36465</a>).</p>
<p class="translated">A API C limitada ainda não é suportada na compilação especial <a class="reference internal" href="../using/configure.html#cmdoption-with-trace-refs"><code class="xref std std-option docutils literal notranslate"><span class="pre">--with-trace-refs</span></code></a> (macro <code class="docutils literal notranslate"><span class="pre">Py_TRACE_REFS</span></code>). (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43688">bpo-43688</a>.)</p>
</li>
<li><p class="translated">Adiciona a função <a class="reference internal" href="../c-api/structures.html#c.Py_Is" title="Py_Is"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_Is(x,</span> <span class="pre">y)</span></code></a> para testar se o objeto <em>x</em> é o objeto <em>y</em>, o mesmo que <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">y</span></code> em Python. Adiciona também as funções <a class="reference internal" href="../c-api/structures.html#c.Py_IsNone" title="Py_IsNone"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_IsNone()</span></code></a>, <a class="reference internal" href="../c-api/structures.html#c.Py_IsTrue" title="Py_IsTrue"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_IsTrue()</span></code></a>, <a class="reference internal" href="../c-api/structures.html#c.Py_IsFalse" title="Py_IsFalse"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_IsFalse()</span></code></a> para testar se um objeto é, respectivamente, o singleton <code class="docutils literal notranslate"><span class="pre">None</span></code>, o singleton <code class="docutils literal notranslate"><span class="pre">True</span></code> ou o singleton <code class="docutils literal notranslate"><span class="pre">False</span></code>. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43753">bpo-43753</a>.)</p></li>
<li><p class="translated">Adiciona novas funções para controlar o coletor de lixo do código C: <a class="reference internal" href="../c-api/gcsupport.html#c.PyGC_Enable" title="PyGC_Enable"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyGC_Enable()</span></code></a>, <a class="reference internal" href="../c-api/gcsupport.html#c.PyGC_Disable" title="PyGC_Disable"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyGC_Disable()</span></code></a>, <a class="reference internal" href="../c-api/gcsupport.html#c.PyGC_IsEnabled" title="PyGC_IsEnabled"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyGC_IsEnabled()</span></code></a>. Estas funções permitem ativar, desativar e consultar o estado do coletor de lixo do código C sem precisar importar o módulo <a class="reference internal" href="../library/gc.html#module-gc" title="gc: Interface to the cycle-detecting garbage collector."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gc</span></code></a>.</p></li>
<li><p class="translated">Adiciona um novo sinalizador de tipo <a class="reference internal" href="../c-api/typeobj.html#c.Py_TPFLAGS_DISALLOW_INSTANTIATION" title="Py_TPFLAGS_DISALLOW_INSTANTIATION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_TPFLAGS_DISALLOW_INSTANTIATION</span></code></a> para impedir a criação de instâncias de tipo. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43916">bpo-43916</a>.)</p></li>
<li><p class="translated">Adiciona um novo sinalizador de tipo <a class="reference internal" href="../c-api/typeobj.html#c.Py_TPFLAGS_IMMUTABLETYPE" title="Py_TPFLAGS_IMMUTABLETYPE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_TPFLAGS_IMMUTABLETYPE</span></code></a> para criar objetos de tipo imutável: atributos de tipo não podem ser definidos nem excluídos. (Contribuição de Victor Stinner e Erlend E. Aasland em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43908">bpo-43908</a>.)</p></li>
</ul>
</section>
<section id="id2">
<h3 class="translated">Portando para Python 3.10<a class="headerlink" href="#id2" title="Link para este cabeçalho">¶</a></h3>
<ul>
<li><p class="translated">A macro <code class="docutils literal notranslate"><span class="pre">PY_SSIZE_T_CLEAN</span></code> deve agora ser definida para usar os formatos <a class="reference internal" href="../c-api/arg.html#c.PyArg_ParseTuple" title="PyArg_ParseTuple"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyArg_ParseTuple()</span></code></a> e <a class="reference internal" href="../c-api/arg.html#c.Py_BuildValue" title="Py_BuildValue"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_BuildValue()</span></code></a> que usam <code class="docutils literal notranslate"><span class="pre">#</span></code>: <code class="docutils literal notranslate"><span class="pre">es#</span></code>, <code class="docutils literal notranslate"><span class="pre">et#</span></code>, <code class="docutils literal notranslate"><span class="pre">s#</span></code>, <code class="docutils literal notranslate"><span class="pre">u#</span></code>, <code class="docutils literal notranslate"><span class="pre">y#</span></code>, <code class="docutils literal notranslate"><span class="pre">z#</span></code>, <code class="docutils literal notranslate"><span class="pre">U#</span></code> e <code class="docutils literal notranslate"><span class="pre">Z#</span></code>. Veja <a class="reference internal" href="../c-api/arg.html#arg-parsing"><span class="std std-ref">Análise de argumentos e construção de valores</span></a> e <span class="target" id="index-121"></span><a class="pep reference external" href="https://peps.python.org/pep-0353/"><strong>PEP 353</strong></a>. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40943">bpo-40943</a>.)</p></li>
<li><p class="translated">Como <a class="reference internal" href="../c-api/refcounting.html#c.Py_REFCNT" title="Py_REFCNT"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_REFCNT()</span></code></a> é alterado para a função estática em linha, <code class="docutils literal notranslate"><span class="pre">Py_REFCNT(obj)</span> <span class="pre">=</span> <span class="pre">new_refcnt</span></code> deve ser substituído por <code class="docutils literal notranslate"><span class="pre">Py_SET_REFCNT(obj,</span> <span class="pre">new_refcnt)</span></code>: veja <a class="reference internal" href="../c-api/refcounting.html#c.Py_SET_REFCNT" title="Py_SET_REFCNT"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_SET_REFCNT()</span></code></a> (disponível desde o Python 3.9). Para compatibilidade com versões anteriores, esta macro pode ser usada:</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#if PY_VERSION_HEX &lt; 0x030900A4</span>
<span class="c1">#  define Py_SET_REFCNT(obj, refcnt) ((Py_REFCNT(obj) = (refcnt)), (void)0)</span>
<span class="c1">#endif</span>
</pre></div>
</div>
<p class="translated">(Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=39573">bpo-39573</a>.)</p>
</li>
<li><p class="translated">A chamada de <a class="reference internal" href="../c-api/dict.html#c.PyDict_GetItem" title="PyDict_GetItem"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyDict_GetItem()</span></code></a> sem a <a class="reference internal" href="../glossary.html#term-GIL"><span class="xref std std-term">GIL</span></a> retida era permitido por razões históricas. Isso não é mais permitido. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=40839">bpo-40839</a>.)</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyUnicode_FromUnicode(NULL,</span> <span class="pre">size)</span></code> e <code class="docutils literal notranslate"><span class="pre">PyUnicode_FromStringAndSize(NULL,</span> <span class="pre">size)</span></code> levantam <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> agora. Use <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_New" title="PyUnicode_New"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_New()</span></code></a> para alocar objeto Unicode sem dados iniciais. (Contribuição de Inada Naoki em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36346">bpo-36346</a>.)</p></li>
<li><p class="translated">A estrutura privada <code class="docutils literal notranslate"><span class="pre">_PyUnicode_Name_CAPI</span></code> da API PyCapsule <code class="docutils literal notranslate"><span class="pre">unicodedata.ucnhash_CAPI</span></code> foi movida para a API C interna. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42157">bpo-42157</a>.)</p></li>
<li><p class="translated">As funções <a class="reference internal" href="../c-api/init.html#c.Py_GetPath" title="Py_GetPath"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetPath()</span></code></a>, <a class="reference internal" href="../c-api/init.html#c.Py_GetPrefix" title="Py_GetPrefix"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetPrefix()</span></code></a>, <a class="reference internal" href="../c-api/init.html#c.Py_GetExecPrefix" title="Py_GetExecPrefix"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetExecPrefix()</span></code></a>, <a class="reference internal" href="../c-api/init.html#c.Py_GetProgramFullPath" title="Py_GetProgramFullPath"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetProgramFullPath()</span></code></a>, <a class="reference internal" href="../c-api/init.html#c.Py_GetPythonHome" title="Py_GetPythonHome"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetPythonHome()</span></code></a> e <a class="reference internal" href="../c-api/init.html#c.Py_GetProgramName" title="Py_GetProgramName"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetProgramName()</span></code></a> agora retornam <code class="docutils literal notranslate"><span class="pre">NULL</span></code> se chamadas antes de <a class="reference internal" href="../c-api/init.html#c.Py_Initialize" title="Py_Initialize"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_Initialize()</span></code></a> (antes do Python ser inicializado). Use a nova API de <a class="reference internal" href="../c-api/init_config.html#init-config"><span class="std std-ref">Configuração de Inicialização do Python</span></a> para obter a <a class="reference internal" href="../c-api/init_config.html#init-path-config"><span class="std std-ref">Python Path Configuration</span></a>. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42260">bpo-42260</a>.)</p></li>
<li><p class="translated">As macros <a class="reference internal" href="../c-api/list.html#c.PyList_SET_ITEM" title="PyList_SET_ITEM"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyList_SET_ITEM()</span></code></a>, <a class="reference internal" href="../c-api/tuple.html#c.PyTuple_SET_ITEM" title="PyTuple_SET_ITEM"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyTuple_SET_ITEM()</span></code></a> e <a class="reference internal" href="../c-api/cell.html#c.PyCell_SET" title="PyCell_SET"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCell_SET()</span></code></a> não podem mais ser usadas como valor-l ou valor-r. Por exemplo, <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">PyList_SET_ITEM(a,</span> <span class="pre">b,</span> <span class="pre">c)</span></code> e <code class="docutils literal notranslate"><span class="pre">PyList_SET_ITEM(a,</span> <span class="pre">b,</span> <span class="pre">c)</span> <span class="pre">=</span> <span class="pre">x</span></code> agora falham com um erro do compilador. Isso previne bugs como o teste <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(PyList_SET_ITEM</span> <span class="pre">(a,</span> <span class="pre">b,</span> <span class="pre">c)</span> <span class="pre">&lt;</span> <span class="pre">0)</span> <span class="pre">...</span></code>. (Contribuição de Zackery Spytz e Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=30459">bpo-30459</a>.)</p></li>
<li><p class="translated">Os arquivos de API não limitada <code class="docutils literal notranslate"><span class="pre">odictobject.h</span></code>, <code class="docutils literal notranslate"><span class="pre">parser_interface.h</span></code>, <code class="docutils literal notranslate"><span class="pre">piclebufobject.h</span></code>, <code class="docutils literal notranslate"><span class="pre">pyarena.h</span></code>, <code class="docutils literal notranslate"><span class="pre">pyctype.h</span></code>, <code class="docutils literal notranslate"><span class="pre">pydebug.</span> <span class="pre">h</span></code>, <code class="docutils literal notranslate"><span class="pre">pyfpe.h</span></code> e <code class="docutils literal notranslate"><span class="pre">pytime.h</span></code> foram movidos para o diretório <code class="docutils literal notranslate"><span class="pre">Include/cpython</span></code>. Esses arquivos não devem ser incluídos diretamente, pois já estão incluídos em <code class="docutils literal notranslate"><span class="pre">Python.h</span></code>; veja <a class="reference internal" href="../c-api/intro.html#api-includes"><span class="std std-ref">Arquivos de inclusão</span></a>. Se eles foram incluídos diretamente, considere incluir <code class="docutils literal notranslate"><span class="pre">Python.h</span></code> em vez disso. (Contribuição de Nicholas Sim em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35134">bpo-35134</a>.)</p></li>
<li><p class="translated">Use o sinalizador de tipo <a class="reference internal" href="../c-api/typeobj.html#c.Py_TPFLAGS_IMMUTABLETYPE" title="Py_TPFLAGS_IMMUTABLETYPE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_TPFLAGS_IMMUTABLETYPE</span></code></a> para criar objetos de tipo imutável. Não confie em <a class="reference internal" href="../c-api/typeobj.html#c.Py_TPFLAGS_HEAPTYPE" title="Py_TPFLAGS_HEAPTYPE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_TPFLAGS_HEAPTYPE</span></code></a> para decidir se um objeto de tipo é mutável ou não; verifique se <a class="reference internal" href="../c-api/typeobj.html#c.Py_TPFLAGS_IMMUTABLETYPE" title="Py_TPFLAGS_IMMUTABLETYPE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_TPFLAGS_IMMUTABLETYPE</span></code></a> está definido. (Contribuição de Victor Stinner e Erlend E. Aasland em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43908">bpo-43908</a>.)</p></li>
<li><p class="translated">A função não documentada <code class="docutils literal notranslate"><span class="pre">Py_FrozenMain</span></code> foi removida da API limitada. A função é útil principalmente para compilações personalizadas do Python. (Contribuição de Petr Viktorin em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=26241">bpo-26241</a>.)</p></li>
</ul>
</section>
<section id="id3">
<h3 class="translated">Descontinuados<a class="headerlink" href="#id3" title="Link para este cabeçalho">¶</a></h3>
<ul class="simple">
<li><p class="translated">A função <code class="docutils literal notranslate"><span class="pre">PyUnicode_InternImmortal()</span></code> agora foi descontinuada e será removida no Python 3.12: use <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_InternInPlace" title="PyUnicode_InternInPlace"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_InternInPlace()</span></code></a> em vez disso. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41692">bpo-41692</a>.)</p></li>
</ul>
</section>
<section id="id4">
<h3 class="translated">Removidos<a class="headerlink" href="#id4" title="Link para este cabeçalho">¶</a></h3>
<ul>
<li><p class="translated">Removidas as funções <code class="docutils literal notranslate"><span class="pre">Py_UNICODE_str*</span></code> que manipulam strings <code class="docutils literal notranslate"><span class="pre">Py_UNICODE*</span></code>. (Contribuição de Inada Naoki em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41123">bpo-41123</a>.)</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">Py_UNICODE_strlen</span></code>: use <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_GetLength" title="PyUnicode_GetLength"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_GetLength()</span></code></a> ou <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_GET_LENGTH" title="PyUnicode_GET_LENGTH"><code class="xref c c-macro docutils literal notranslate"><span class="pre">PyUnicode_GET_LENGTH</span></code></a></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">Py_UNICODE_strcat</span></code>: use <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_CopyCharacters" title="PyUnicode_CopyCharacters"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_CopyCharacters()</span></code></a> ou <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_FromFormat" title="PyUnicode_FromFormat"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_FromFormat()</span></code></a></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">Py_UNICODE_strcpy</span></code>, <code class="docutils literal notranslate"><span class="pre">Py_UNICODE_strncpy</span></code>: use <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_CopyCharacters" title="PyUnicode_CopyCharacters"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_CopyCharacters()</span></code></a> ou <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_Substring" title="PyUnicode_Substring"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_Substring()</span></code></a></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">Py_UNICODE_strcmp</span></code>: use <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_Compare" title="PyUnicode_Compare"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_Compare()</span></code></a></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">Py_UNICODE_strncmp</span></code>: use <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_Tailmatch" title="PyUnicode_Tailmatch"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_Tailmatch()</span></code></a></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">Py_UNICODE_strchr</span></code>, <code class="docutils literal notranslate"><span class="pre">Py_UNICODE_strrchr</span></code>: use
<a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_FindChar" title="PyUnicode_FindChar"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_FindChar()</span></code></a></p></li>
</ul>
</li>
<li><p class="translated">Removida <code class="docutils literal notranslate"><span class="pre">PyUnicode_GetMax()</span></code>. Migre para as novas APIs (<span class="target" id="index-122"></span><a class="pep reference external" href="https://peps.python.org/pep-0393/"><strong>PEP 393</strong></a>). (Contribuição de Inada Naoki em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41103">bpo-41103</a>.)</p></li>
<li><p class="translated">Removida <code class="docutils literal notranslate"><span class="pre">PyLong_FromUnicode()</span></code>. Migre para <a class="reference internal" href="../c-api/long.html#c.PyLong_FromUnicodeObject" title="PyLong_FromUnicodeObject"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyLong_FromUnicodeObject()</span></code></a>. (Contribuição de Inada Naoki em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41103">bpo-41103</a>.)</p></li>
<li><p class="translated">Removida <code class="docutils literal notranslate"><span class="pre">PyUnicode_AsUnicodeCopy()</span></code>. Use <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_AsUCS4Copy" title="PyUnicode_AsUCS4Copy"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AsUCS4Copy()</span></code></a> ou <a class="reference internal" href="../c-api/unicode.html#c.PyUnicode_AsWideCharString" title="PyUnicode_AsWideCharString"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AsWideCharString()</span></code></a> (Contribuição de Inada Naoki em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41103">bpo-41103</a>.)</p></li>
<li><p class="translated">Removida a variável <code class="docutils literal notranslate"><span class="pre">_Py_CheckRecursionLimit</span></code>: foi substituída por <code class="docutils literal notranslate"><span class="pre">ceval.recursion_limit</span></code> da estrutura <a class="reference internal" href="../c-api/init.html#c.PyInterpreterState" title="PyInterpreterState"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyInterpreterState</span></code></a>. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41834">bpo-41834</a>.)</p></li>
<li><p class="translated">Removidas as macros não documentadas <code class="docutils literal notranslate"><span class="pre">Py_ALLOW_RECURSION</span></code> e <code class="docutils literal notranslate"><span class="pre">Py_END_ALLOW_RECURSION</span></code> e o campo <code class="docutils literal notranslate"><span class="pre">recursion_critical</span></code> da estrutura <a class="reference internal" href="../c-api/init.html#c.PyInterpreterState" title="PyInterpreterState"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyInterpreterState</span></code></a>. (Contribuição de Serhiy Storchaka em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41936">bpo-41936</a>.)</p></li>
<li><p class="translated">Removida a função <code class="docutils literal notranslate"><span class="pre">PyOS_InitInterrupts()</span></code> não documentada. Inicializar o Python já instala implicitamente manipuladores de sinal: veja <a class="reference internal" href="../c-api/init_config.html#c.PyConfig.install_signal_handlers" title="PyConfig.install_signal_handlers"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.install_signal_handlers</span></code></a>. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=41713">bpo-41713</a>.)</p></li>
<li><p class="translated">Remova a função <code class="docutils literal notranslate"><span class="pre">PyAST_Validate()</span></code>. Não é mais possível construir um objeto AST (tipo <code class="docutils literal notranslate"><span class="pre">mod_ty</span></code>) com a API C pública. A função já foi excluída da API C limitada (<span class="target" id="index-123"></span><a class="pep reference external" href="https://peps.python.org/pep-0384/"><strong>PEP 384</strong></a>). (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43244">bpo-43244</a>.)</p></li>
<li><p class="translated">Remove o arquivo de cabeçalho <code class="docutils literal notranslate"><span class="pre">symtable.h</span></code> e as funções não documentadas:</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyST_GetScope()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PySymtable_Build()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PySymtable_BuildObject()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PySymtable_Free()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">Py_SymtableString()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">Py_SymtableStringObject()</span></code></p></li>
</ul>
<p class="translated">A função <code class="docutils literal notranslate"><span class="pre">Py_SymtableString()</span></code> fazia parte da ABI estável por engano, mas não pôde ser usada, porque o arquivo de cabeçalho <code class="docutils literal notranslate"><span class="pre">symtable.h</span></code> foi excluído da API C limitada.</p>
<p class="translated">Use o módulo Python <a class="reference internal" href="../library/symtable.html#module-symtable" title="symtable: Interface to the compiler's internal symbol tables."><code class="xref py py-mod docutils literal notranslate"><span class="pre">symtable</span></code></a> em vez disso. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43244">bpo-43244</a>.)</p>
</li>
<li><p class="translated">Remove <a class="reference internal" href="../c-api/veryhigh.html#c.PyOS_ReadlineFunctionPointer" title="PyOS_ReadlineFunctionPointer"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyOS_ReadlineFunctionPointer()</span></code></a> dos cabeçalhos limitados da API C e de <code class="docutils literal notranslate"><span class="pre">python3.dll</span></code>, a biblioteca que fornece a ABI estável no Windows. Como a função recebe um argumento <code class="docutils literal notranslate"><span class="pre">FILE*</span></code>, sua estabilidade ABI não pode ser garantida. (Contribuição de Petr Viktorin em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43868">bpo-43868</a>.)</p></li>
<li><p class="translated">Remove os arquivos de cabeçalho <code class="docutils literal notranslate"><span class="pre">ast.h</span></code>, <code class="docutils literal notranslate"><span class="pre">asdl.h</span></code> e <code class="docutils literal notranslate"><span class="pre">Python-ast.h</span></code>. Essas funções não estavam documentadas e excluídas da API C limitada. A maioria dos nomes definidos por esses arquivos de cabeçalho não foram prefixados por <code class="docutils literal notranslate"><span class="pre">Py</span></code> e, portanto, podem criar conflitos de nomes. Por exemplo, <code class="docutils literal notranslate"><span class="pre">Python-ast.h</span></code> definiu uma macro <code class="docutils literal notranslate"><span class="pre">Yield</span></code> que estava em conflito com o nome <code class="docutils literal notranslate"><span class="pre">Yield</span></code> usado pelo cabeçalho <code class="docutils literal notranslate"><span class="pre">&lt;winbase.h&gt;</span></code> do Windows. Use o módulo Python <a class="reference internal" href="../library/ast.html#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> em vez disso. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43244">bpo-43244</a>.)</p></li>
<li><p class="translated">Remove as funções do compilador e do analisador usando o tipo <code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">_mod</span></code>, porque a API AST C pública foi removida:</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyAST_Compile()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyAST_CompileEx()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyAST_CompileObject()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyFuture_FromAST()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyFuture_FromASTObject()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyParser_ASTFromFile()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyParser_ASTFromFileObject()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyParser_ASTFromFilename()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyParser_ASTFromString()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyParser_ASTFromStringObject()</span></code></p></li>
</ul>
<p class="translated">Essas funções não estavam documentadas e excluídas da API C limitada. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43244">bpo-43244</a>.)</p>
</li>
<li><p class="translated">Remove o arquivo de cabeçalho <code class="docutils literal notranslate"><span class="pre">pyarena.h</span></code> com funções:</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyArena_New()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyArena_Free()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyArena_Malloc()</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PyArena_AddPyObject()</span></code></p></li>
</ul>
<p class="translated">Essas funções não estavam documentadas, excluídas da API C limitada e eram usadas apenas internamente pelo compilador. (Contribuição de Victor Stinner em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43244">bpo-43244</a>.)</p>
</li>
<li><p class="translated">O membro <code class="docutils literal notranslate"><span class="pre">PyThreadState.use_tracing</span></code> foi removido para otimizar o Python. (Contribuição de Mark Shannon em <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43760">bpo-43760</a>.)</p></li>
</ul>
</section>
</section>
<section id="notable-security-feature-in-3-10-7">
<h2 class="translated">Recursos de segurança notáveis no 3.10.7<a class="headerlink" href="#notable-security-feature-in-3-10-7" title="Link para este cabeçalho">¶</a></h2>
<p class="translated">Converter entre <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> e <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> em bases diferentes de 2 (binário), 4, 8 (octal), 16 (hexadecimal) ou 32 como base 10 (decimal) agora levanta uma exceção <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> se o número de dígitos em forma de string estiver acima de um limite para evitar possíveis ataques de negação de serviço devido à complexidade algorítmica. Esta é uma mitigação para <span class="target" id="index-124"></span><a class="cve reference external" href="https://www.cve.org/CVERecord?id=CVE-2020-10735"><strong>CVE 2020-10735</strong></a>. Este limite pode ser configurado ou desabilitado por variável de ambiente, sinalizador de linha de comando ou APIs de <a class="reference internal" href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a>. Veja a documentação de <a class="reference internal" href="../library/stdtypes.html#int-max-str-digits"><span class="std std-ref">limitação de comprimento de conversão de string inteira</span></a>. O limite padrão é de 4300 dígitos em forma de string.</p>
</section>
<section id="notable-security-feature-in-3-10-8">
<h2 class="translated">Recursos de segurança notáveis no 3.10.8<a class="headerlink" href="#notable-security-feature-in-3-10-8" title="Link para este cabeçalho">¶</a></h2>
<p class="translated">O módulo descontinuado <code class="xref py py-mod docutils literal notranslate"><span class="pre">mailcap</span></code> agora se recusa a injetar texto não seguro (nomes de arquivos, tipos MIME, parâmetros) em comandos shell. Em vez de usar esse texto, ele avisará e agirá como se uma correspondência não fosse encontrada (ou para comandos de teste, como se o teste tivesse falhado). (Contribuição de Petr Viktorin em <a class="reference external" href="https://github.com/python/cpython/issues/98966">gh-98966</a>.)</p>
</section>
<section id="notable-changes-in-3-10-12">
<h2 class="translated">Alterações notáveis no 3.10.12<a class="headerlink" href="#notable-changes-in-3-10-12" title="Link para este cabeçalho">¶</a></h2>
<section id="tarfile">
<h3 class="translated">tarfile<a class="headerlink" href="#tarfile" title="Link para este cabeçalho">¶</a></h3>
<ul class="simple">
<li><p class="translated">Os métodos de extração em <a class="reference internal" href="../library/tarfile.html#module-tarfile" title="tarfile: Read and write tar-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tarfile</span></code></a> e <a class="reference internal" href="../library/shutil.html#shutil.unpack_archive" title="shutil.unpack_archive"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.unpack_archive()</span></code></a>, têm um novo argumento <em>filter</em> que permite limitar recursos do tar que podem ser surpreendentes ou perigosos, como criar arquivos fora do diretório de destino. Veja <a class="reference internal" href="../library/tarfile.html#tarfile-extraction-filter"><span class="std std-ref">Filtros de extração</span></a> para detalhes. No Python 3.12, usar sem o argumento <em>filter</em> mostrará um <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>. No Python 3.14, o padrão mudará para <code class="docutils literal notranslate"><span class="pre">'data'</span></code>. (Contribuição de Petr Viktorin em <span class="target" id="index-125"></span><a class="pep reference external" href="https://peps.python.org/pep-0706/"><strong>PEP 706</strong></a>.)</p></li>
</ul>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Tabela de Conteúdo</a></h3>
    <ul>
<li><a class="reference internal" href="#">O que há de novo no Python 3.10</a><ul>
<li><a class="reference internal" href="#summary-release-highlights">Resumo – Destaques da versão</a></li>
<li><a class="reference internal" href="#new-features">Novas funcionalidades</a><ul>
<li><a class="reference internal" href="#parenthesized-context-managers">Gerenciadores de contexto entre parênteses</a></li>
<li><a class="reference internal" href="#better-error-messages">Melhores mensagens de erro</a><ul>
<li><a class="reference internal" href="#syntaxerrors">SyntaxErrors</a></li>
<li><a class="reference internal" href="#indentationerrors">IndentationErrors</a></li>
<li><a class="reference internal" href="#attributeerrors">AttributeErrors</a></li>
<li><a class="reference internal" href="#nameerrors">NameErrors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pep-626-precise-line-numbers-for-debugging-and-other-tools">PEP 626: Números de linha precisos para depuração e outras ferramentas</a></li>
<li><a class="reference internal" href="#pep-634-structural-pattern-matching">PEP 634: Correspondência de padrão estrutural</a><ul>
<li><a class="reference internal" href="#syntax-and-operations">Sintaxe e operações</a></li>
<li><a class="reference internal" href="#declarative-approach">Abordagem declarativa</a></li>
<li><a class="reference internal" href="#simple-pattern-match-to-a-literal">Padrão simples: corresponder a um literal</a><ul>
<li><a class="reference internal" href="#behavior-without-the-wildcard">Comportamento sem o curinga</a></li>
</ul>
</li>
<li><a class="reference internal" href="#patterns-with-a-literal-and-variable">Padrões com uma literal e variável</a></li>
<li><a class="reference internal" href="#patterns-and-classes">Padrões e classes</a><ul>
<li><a class="reference internal" href="#patterns-with-positional-parameters">Padrões com parâmetros posicionais</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nested-patterns">Padrões aninhados</a></li>
<li><a class="reference internal" href="#complex-patterns-and-the-wildcard">Padrões complexos e o curinga</a></li>
<li><a class="reference internal" href="#guard">Guarda</a></li>
<li><a class="reference internal" href="#other-key-features">Outros recursos-chave</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optional-encodingwarning-and-encoding-locale-option"><code class="docutils literal notranslate"><span class="pre">EncodingWarning</span></code> opcional e opção <code class="docutils literal notranslate"><span class="pre">encoding=&quot;locale&quot;</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-features-related-to-type-hints">Novos recursos relacionados a dicas de tipo</a><ul>
<li><a class="reference internal" href="#pep-604-new-type-union-operator">PEP 604: novo operador de união de tipo</a></li>
<li><a class="reference internal" href="#pep-612-parameter-specification-variables">PEP 612: variáveis de especificação de parâmetros</a></li>
<li><a class="reference internal" href="#pep-613-typealias">PEP 613: TypeAlias</a></li>
<li><a class="reference internal" href="#pep-647-user-defined-type-guards">PEP 647: guardas de tipo definidas pelo usuário</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-language-changes">Outras mudanças na linguagem</a></li>
<li><a class="reference internal" href="#new-modules">Novos módulos</a></li>
<li><a class="reference internal" href="#improved-modules">Módulos melhorados</a><ul>
<li><a class="reference internal" href="#asyncio">asyncio</a></li>
<li><a class="reference internal" href="#argparse">argparse</a></li>
<li><a class="reference internal" href="#array">array</a></li>
<li><a class="reference internal" href="#asynchat-asyncore-smtpd">asynchat, asyncore, smtpd</a></li>
<li><a class="reference internal" href="#base64">base64</a></li>
<li><a class="reference internal" href="#bdb">bdb</a></li>
<li><a class="reference internal" href="#bisect">bisect</a></li>
<li><a class="reference internal" href="#codecs">codecs</a></li>
<li><a class="reference internal" href="#collections-abc">collections.abc</a></li>
<li><a class="reference internal" href="#contextlib">contextlib</a></li>
<li><a class="reference internal" href="#curses">curses</a></li>
<li><a class="reference internal" href="#dataclasses">dataclasses</a><ul>
<li><a class="reference internal" href="#slots">__slots__</a></li>
<li><a class="reference internal" href="#keyword-only-fields">Campos somente-nomeados</a></li>
</ul>
</li>
<li><a class="reference internal" href="#distutils">distutils</a></li>
<li><a class="reference internal" href="#doctest">doctest</a></li>
<li><a class="reference internal" href="#encodings">encodings</a></li>
<li><a class="reference internal" href="#enum">enum</a></li>
<li><a class="reference internal" href="#fileinput">fileinput</a></li>
<li><a class="reference internal" href="#faulthandler">faulthandler</a></li>
<li><a class="reference internal" href="#gc">gc</a></li>
<li><a class="reference internal" href="#glob">glob</a></li>
<li><a class="reference internal" href="#hashlib">hashlib</a></li>
<li><a class="reference internal" href="#hmac">hmac</a></li>
<li><a class="reference internal" href="#idle-and-idlelib">IDLE e idlelib</a></li>
<li><a class="reference internal" href="#importlib-metadata">importlib.metadata</a></li>
<li><a class="reference internal" href="#inspect">inspect</a></li>
<li><a class="reference internal" href="#itertools">itertools</a></li>
<li><a class="reference internal" href="#linecache">linecache</a></li>
<li><a class="reference internal" href="#os">os</a></li>
<li><a class="reference internal" href="#os-path">os.path</a></li>
<li><a class="reference internal" href="#pathlib">pathlib</a></li>
<li><a class="reference internal" href="#platform">platform</a></li>
<li><a class="reference internal" href="#pprint">pprint</a></li>
<li><a class="reference internal" href="#py-compile">py_compile</a></li>
<li><a class="reference internal" href="#pyclbr">pyclbr</a></li>
<li><a class="reference internal" href="#shelve">shelve</a></li>
<li><a class="reference internal" href="#statistics">statistics</a></li>
<li><a class="reference internal" href="#site">site</a></li>
<li><a class="reference internal" href="#socket">socket</a></li>
<li><a class="reference internal" href="#ssl">ssl</a></li>
<li><a class="reference internal" href="#sqlite3">sqlite3</a></li>
<li><a class="reference internal" href="#sys">sys</a></li>
<li><a class="reference internal" href="#thread">_thread</a></li>
<li><a class="reference internal" href="#threading">threading</a></li>
<li><a class="reference internal" href="#traceback">traceback</a></li>
<li><a class="reference internal" href="#types">types</a></li>
<li><a class="reference internal" href="#typing">typing</a></li>
<li><a class="reference internal" href="#unittest">unittest</a></li>
<li><a class="reference internal" href="#urllib-parse">urllib.parse</a></li>
<li><a class="reference internal" href="#xml">xml</a></li>
<li><a class="reference internal" href="#zipimport">zipimport</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optimizations">Otimizações</a></li>
<li><a class="reference internal" href="#deprecated">Descontinuados</a></li>
<li><a class="reference internal" href="#removed">Removidos</a></li>
<li><a class="reference internal" href="#porting-to-python-3-10">Portando para Python 3.10</a><ul>
<li><a class="reference internal" href="#changes-in-the-python-syntax">Alterações na sintaxe Python</a></li>
<li><a class="reference internal" href="#changes-in-the-python-api">Alterações na API Python</a></li>
<li><a class="reference internal" href="#changes-in-the-c-api">Alterações na API C</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cpython-bytecode-changes">Alterações de bytecode do CPython</a></li>
<li><a class="reference internal" href="#build-changes">Mudanças na construção</a></li>
<li><a class="reference internal" href="#c-api-changes">Alterações na API C</a><ul>
<li><a class="reference internal" href="#pep-652-maintaining-the-stable-abi">PEP 652: Mantendo a ABI estável</a></li>
<li><a class="reference internal" href="#id1">Novas funcionalidades</a></li>
<li><a class="reference internal" href="#id2">Portando para Python 3.10</a></li>
<li><a class="reference internal" href="#id3">Descontinuados</a></li>
<li><a class="reference internal" href="#id4">Removidos</a></li>
</ul>
</li>
<li><a class="reference internal" href="#notable-security-feature-in-3-10-7">Recursos de segurança notáveis no 3.10.7</a></li>
<li><a class="reference internal" href="#notable-security-feature-in-3-10-8">Recursos de segurança notáveis no 3.10.8</a></li>
<li><a class="reference internal" href="#notable-changes-in-3-10-12">Alterações notáveis no 3.10.12</a><ul>
<li><a class="reference internal" href="#tarfile">tarfile</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tópico anterior</h4>
    <p class="topless"><a href="3.11.html"
                          title="capítulo anterior">O que há de novo no Python 3.11</a></p>
  </div>
  <div>
    <h4>Próximo tópico</h4>
    <p class="topless"><a href="3.9.html"
                          title="próximo capítulo">O que há de novo no Python 3.9</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Relatar um bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/whatsnew/3.10.rst?plain=1"
            rel="nofollow">Mostrar o código-fonte
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="Recolher painel lateral">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegação</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice Geral"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="3.9.html" title="O que há de novo no Python 3.9"
             >próximo</a> |</li>
        <li class="right" >
          <a href="3.11.html" title="O que há de novo no Python 3.11"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.13.5 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >O que há de novo no Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">O que há de novo no Python 3.10</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Busca rápida" aria-label="Busca rápida" type="search" name="q" id="search-box">
          <input type="submit" value="Ir">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; 
      <a href="../copyright.html">
    
    Direitos autorais
    
      </a>
     2001-2025, Python Software Foundation.
    <br>
    This page is licensed under the Python Software Foundation License Version 2.
    <br>
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br>
    
      See <a href="/license.html">History and License</a> for more information.<br>
    
    
    <br>

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br>
    <br>
      Última atualização em ago. 03, 2025 (07:16 UTC).
    
      <a href="/bugs.html">Found a bug</a>?
    
    <br>

    Criada usando <a href="https://www.sphinx-doc.org/pt_BR/master">Sphinx</a> 8.2.3.
    </div>

  </body>
</html>